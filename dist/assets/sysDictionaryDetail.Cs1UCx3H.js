/*! 
 Build based on  
 Time : 1735190558000 */
import{s as e,a,R as l,o as t,c as s,b as i,e as r,w as o,g as u,t as n,B as d,U as p,de as c,cu as m,i as y,E as v,k as f}from"./index.ABWJOL2Q.js";import{E as b}from"./drawer.XhtctEYG.js";import"./overlay.CDLw2uOw.js";/* empty css             *//* empty css              */import{E as D}from"./input-number.DAPMCn-P.js";import{E as g}from"./switch.CqADXIhW.js";import{a as j,E as w}from"./form-item.ujPiwBAF.js";import{E as h}from"./pagination.BfYt3rvk.js";/* empty css            */import"./select.C2tLDQ30.js";import"./scrollbar.3ySweVnY.js";/* empty css               */import{E as x,a as _}from"./table-column.ChuwY-lb.js";import"./checkbox.BcMUmSPv.js";/* empty css                *//* empty css               */import"./index.BRjlB3m5.js";import"./index.D4uEcQv3.js";import"./index.7ugBSK5z.js";import"./castArray.9wqFpW2Z.js";import"./_baseClone.gl1e0kmI.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";import"./isEqual.CtpQH3Dm.js";import"./index.DglrVZRl.js";import"./token.DWNpOE8r.js";import"./strings.C2tuonvC.js";import"./debounce.CkdGDwJt.js";import"./_baseIteratee.BPaQBmlP.js";import"./index.6ock-Gvr.js";const V=a=>e({url:"/sysDictionaryDetail/createSysDictionaryDetail",method:"post",data:a}),k={class:"dycloud-table-box"},I={class:"dycloud-btn-list justify-between"},C={class:"dycloud-pagination"},S={class:"flex justify-between items-center"},E={class:"text-lg"},z=Object.assign({name:"SysDictionaryDetail"},{__name:"sysDictionaryDetail",props:{sysDictionaryID:{type:Number,default:0}},setup(z){const U=z,q=a({label:null,value:null,status:!0,sort:null}),A=a({label:[{required:!0,message:"请输入展示值",trigger:"blur"}],value:[{required:!0,message:"请输入字典值",trigger:"blur"}],sort:[{required:!0,message:"排序标记",trigger:"blur"}]}),B=a(1),F=a(0),T=a(10),O=a([]),L=e=>{T.value=e,N()},M=e=>{B.value=e,N()},N=async()=>{if(!U.sysDictionaryID)return;const a=await(l={page:B.value,pageSize:T.value,sysDictionaryID:U.sysDictionaryID},e({url:"/sysDictionaryDetail/getSysDictionaryDetailList",method:"get",params:l}));var l;0===a.code&&(O.value=a.data.list,F.value=a.data.total,B.value=a.data.page,T.value=a.data.pageSize)};N();const P=a(""),Q=a(!1),R=async a=>{J.value&&J.value.clearValidate();const l=await(t={ID:a.ID},e({url:"/sysDictionaryDetail/findSysDictionaryDetail",method:"get",params:t}));var t;P.value="update",0===l.code&&(q.value=l.data.reSysDictionaryDetail,Q.value=!0)},G=()=>{Q.value=!1,q.value={label:null,value:null,status:!0,sort:null,sysDictionaryID:U.sysDictionaryID}},H=async a=>{m.confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((async()=>{var l;0===(await(l={ID:a.ID},e({url:"/sysDictionaryDetail/deleteSysDictionaryDetail",method:"delete",data:l}))).code&&(y({type:"success",message:"删除成功"}),1===O.value.length&&B.value>1&&B.value--,N())}))},J=a(null),K=async()=>{J.value.validate((async a=>{if(q.value.sysDictionaryID=U.sysDictionaryID,!a)return;let l;switch(P.value){case"create":default:l=await V(q.value);break;case"update":l=await(t=q.value,e({url:"/sysDictionaryDetail/updateSysDictionaryDetail",method:"put",data:t}))}var t;0===l.code&&(y({type:"success",message:"创建/更改成功"}),G(),N())}))},W=()=>{P.value="create",J.value&&J.value.clearValidate(),Q.value=!0};return l((()=>U.sysDictionaryID),(()=>{N()})),(e,a)=>{const l=v,m=x,y=_,V=h,z=f,U=j,N=g,X=D,Y=w,Z=b;return t(),s("div",null,[i("div",k,[i("div",I,[a[7]||(a[7]=i("span",{class:"text font-bold"},"字典详细内容",-1)),r(l,{type:"primary",icon:"plus",onClick:W},{default:o((()=>a[6]||(a[6]=[u(" 新增字典项 ")]))),_:1})]),r(y,{ref:"multipleTable",data:O.value,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:o((()=>[r(m,{type:"selection",width:"55"}),r(m,{align:"left",label:"日期",width:"180"},{default:o((e=>[u(n(d(p)(e.row.CreatedAt)),1)])),_:1}),r(m,{align:"left",label:"展示值",prop:"label"}),r(m,{align:"left",label:"字典值",prop:"value"}),r(m,{align:"left",label:"扩展值",prop:"extend"}),r(m,{align:"left",label:"启用状态",prop:"status",width:"120"},{default:o((e=>[u(n(d(c)(e.row.status)),1)])),_:1}),r(m,{align:"left",label:"排序标记",prop:"sort",width:"120"}),r(m,{align:"left",label:"操作",width:"180"},{default:o((e=>[r(l,{type:"primary",link:"",icon:"edit",onClick:a=>R(e.row)},{default:o((()=>a[8]||(a[8]=[u(" 变更 ")]))),_:2},1032,["onClick"]),r(l,{type:"primary",link:"",icon:"delete",onClick:a=>H(e.row)},{default:o((()=>a[9]||(a[9]=[u(" 删除 ")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),i("div",C,[r(V,{"current-page":B.value,"page-size":T.value,"page-sizes":[10,30,50,100],total:F.value,layout:"total, sizes, prev, pager, next, jumper",onCurrentChange:M,onSizeChange:L},null,8,["current-page","page-size","total"])])]),r(Z,{modelValue:Q.value,"onUpdate:modelValue":a[5]||(a[5]=e=>Q.value=e),size:"30%","show-close":!1,"before-close":G},{header:o((()=>[i("div",S,[i("span",E,n("create"===P.value?"添加字典项":"修改字典项"),1),i("div",null,[r(l,{onClick:G},{default:o((()=>a[10]||(a[10]=[u(" 取 消 ")]))),_:1}),r(l,{type:"primary",onClick:K},{default:o((()=>a[11]||(a[11]=[u(" 确 定 ")]))),_:1})])])])),default:o((()=>[r(Y,{ref_key:"drawerForm",ref:J,model:q.value,rules:A.value,"label-width":"110px"},{default:o((()=>[r(U,{label:"展示值",prop:"label"},{default:o((()=>[r(z,{modelValue:q.value.label,"onUpdate:modelValue":a[0]||(a[0]=e=>q.value.label=e),placeholder:"请输入展示值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(U,{label:"字典值",prop:"value"},{default:o((()=>[r(z,{modelValue:q.value.value,"onUpdate:modelValue":a[1]||(a[1]=e=>q.value.value=e),placeholder:"请输入字典值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(U,{label:"扩展值",prop:"extend"},{default:o((()=>[r(z,{modelValue:q.value.extend,"onUpdate:modelValue":a[2]||(a[2]=e=>q.value.extend=e),placeholder:"请输入扩展值",clearable:"",style:{width:"100%"}},null,8,["modelValue"])])),_:1}),r(U,{label:"启用状态",prop:"status",required:""},{default:o((()=>[r(N,{modelValue:q.value.status,"onUpdate:modelValue":a[3]||(a[3]=e=>q.value.status=e),"active-text":"开启","inactive-text":"停用"},null,8,["modelValue"])])),_:1}),r(U,{label:"排序标记",prop:"sort"},{default:o((()=>[r(X,{modelValue:q.value.sort,"onUpdate:modelValue":a[4]||(a[4]=e=>q.value.sort=e),modelModifiers:{number:!0},placeholder:"排序标记"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}}});export{z as default};
