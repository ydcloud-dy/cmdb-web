/*! 
 Build based on  
 Time : 1735190558000 */
import{s as e,_ as a,r as s,a as l,c as t,b as d,n as o,d as r,e as m,w as i,f as p,u as n,E as u,o as b,g as c,h as y,i as g,j as h,k as f}from"./index.ABWJOL2Q.js";/* empty css             *//* empty css            */import{E as w,a as v}from"./select.C2tLDQ30.js";import"./scrollbar.3ySweVnY.js";/* empty css               */import{E as j,a as k}from"./form-item.ujPiwBAF.js";/* empty css              *//* empty css               */import"./index.D4uEcQv3.js";import"./index.BRjlB3m5.js";import"./index.DglrVZRl.js";import"./token.DWNpOE8r.js";import"./strings.C2tuonvC.js";import"./castArray.9wqFpW2Z.js";import"./isEqual.CtpQH3Dm.js";import"./_Uint8Array.BjvNwsUf.js";import"./debounce.CkdGDwJt.js";import"./_baseIteratee.BPaQBmlP.js";import"./index.6ock-Gvr.js";import"./_baseClone.gl1e0kmI.js";import"./_initCloneObject.jmqS1x-g.js";const x={class:"rounded-lg flex items-center justify-evenly w-full h-full relative md:w-screen md:h-screen md:bg-[#194bfb] overflow-hidden"},q={class:"rounded-md w-full h-full flex items-center justify-center overflow-hidden"},V={class:"text-lg"},_={class:"flex items-center justify-between mt-8"},N={style:{"text-align":"right"}},P=a(Object.assign({name:"Init"},{__name:"index",setup(a){const P=n(),T=s({showReadme:!1,showForm:!1}),U=()=>{T.showReadme=!1,setTimeout((()=>{T.showForm=!0}),20)},O=()=>{},C=l(!1),E=s({adminPassword:"123456",dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""}),F=e=>{switch(e){case"mysql":Object.assign(E,{adminPassword:"123456",reAdminPassword:"",dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""});break;case"pgsql":Object.assign(E,{adminPassword:"123456",dbType:"pgsql",host:"127.0.0.1",port:"5432",userName:"postgres",password:"",dbName:"gva",dbPath:""});break;case"oracle":Object.assign(E,{adminPassword:"123456",dbType:"oracle",host:"127.0.0.1",port:"1521",userName:"oracle",password:"",dbName:"gva",dbPath:""});break;case"mssql":Object.assign(E,{adminPassword:"123456",dbType:"mssql",host:"127.0.0.1",port:"1433",userName:"mssql",password:"",dbName:"gva",dbPath:""});break;case"sqlite":Object.assign(E,{adminPassword:"123456",dbType:"sqlite",host:"",port:"",userName:"",password:"",dbName:"gva",dbPath:""});break;default:Object.assign(E,{adminPassword:"123456",dbType:"mysql",host:"127.0.0.1",port:"3306",userName:"root",password:"",dbName:"gva",dbPath:""})}},A=async()=>{if(E.adminPassword.length<6)return void g({type:"error",message:"密码长度不能小于6位"});const a=h.service({lock:!0,text:"正在初始化数据库，请稍候",spinner:"loading",background:"rgba(0, 0, 0, 0.7)"});try{const l=await(s=E,e({url:"/init/initdb",method:"post",data:s,donNotShowLoading:!0}));0===l.code&&(C.value=!0,g({type:"success",message:l.msg}),P.push({name:"Login"})),a.close()}catch(l){a.close()}var s};return(e,a)=>{const s=u,l=f,n=k,g=w,h=v,P=j;return b(),t("div",x,[d("div",q,[a[12]||(a[12]=d("div",{class:"oblique h-[130%] w-3/5 bg-white dark:bg-slate-900 transform -rotate-12 absolute -ml-80"},null,-1)),T.showForm?p("",!0):(b(),t("div",{key:0,class:o([T.showReadme?"slide-out-right":"slide-in-fwd-top"])},[d("div",V,[a[10]||(a[10]=r('<div class="font-sans text-4xl font-bold text-center mb-4 dark:text-white" data-v-415afdc0>CMDB</div><p class="text-gray-600 dark:text-gray-300 mb-2" data-v-415afdc0>初始化须知</p><p class="text-gray-600 dark:text-gray-300 mb-2" data-v-415afdc0>1.您需有用一定的VUE和GOLANG基础</p><p class="text-gray-600 dark:text-gray-300 mb-2" data-v-415afdc0>2.请您确认是否已经阅读过</p><p class="text-gray-600 dark:text-gray-300 mb-2" data-v-415afdc0>3.请您确认是否了解后续的配置流程</p><p class="text-gray-600 dark:text-gray-300 mb-2" data-v-415afdc0>4.如果您使用mysql数据库，请确认数据库引擎为<span class="text-red-600 font-bold text-3xl ml-2" data-v-415afdc0>innoDB</span></p><p class="text-gray-600 dark:text-gray-300 mb-2" data-v-415afdc0>注：开发组不为文档中书写过的内容提供无偿服务</p>',7)),d("p",_,[m(s,{type:"primary",size:"large",onClick:O},{default:i((()=>a[8]||(a[8]=[c(" 阅读文档 ")]))),_:1}),m(s,{type:"primary",size:"large",onClick:U},{default:i((()=>a[9]||(a[9]=[c(" 我已确认 ")]))),_:1})])])],2)),T.showForm?(b(),t("div",{key:1,class:o([[T.showForm?"slide-in-left":"slide-out-right"],"w-96"])},[m(P,{ref:"formRef",model:E,"label-width":"100px",size:"large"},{default:i((()=>[m(n,{label:"管理员密码"},{default:i((()=>[m(l,{modelValue:E.adminPassword,"onUpdate:modelValue":a[0]||(a[0]=e=>E.adminPassword=e),placeholder:"admin账号的默认密码"},null,8,["modelValue"])])),_:1}),m(n,{label:"数据库类型"},{default:i((()=>[m(h,{modelValue:E.dbType,"onUpdate:modelValue":a[1]||(a[1]=e=>E.dbType=e),placeholder:"请选择",class:"w-full",onChange:F},{default:i((()=>[m(g,{key:"mysql",label:"mysql",value:"mysql"}),m(g,{key:"pgsql",label:"pgsql",value:"pgsql"}),m(g,{key:"oracle",label:"oracle",value:"oracle"}),m(g,{key:"mssql",label:"mssql",value:"mssql"}),m(g,{key:"sqlite",label:"sqlite",value:"sqlite"})])),_:1},8,["modelValue"])])),_:1}),"sqlite"!==E.dbType?(b(),y(n,{key:0,label:"host"},{default:i((()=>[m(l,{modelValue:E.host,"onUpdate:modelValue":a[2]||(a[2]=e=>E.host=e),placeholder:"请输入数据库链接"},null,8,["modelValue"])])),_:1})):p("",!0),"sqlite"!==E.dbType?(b(),y(n,{key:1,label:"port"},{default:i((()=>[m(l,{modelValue:E.port,"onUpdate:modelValue":a[3]||(a[3]=e=>E.port=e),placeholder:"请输入数据库端口"},null,8,["modelValue"])])),_:1})):p("",!0),"sqlite"!==E.dbType?(b(),y(n,{key:2,label:"userName"},{default:i((()=>[m(l,{modelValue:E.userName,"onUpdate:modelValue":a[4]||(a[4]=e=>E.userName=e),placeholder:"请输入数据库用户名"},null,8,["modelValue"])])),_:1})):p("",!0),"sqlite"!==E.dbType?(b(),y(n,{key:3,label:"password"},{default:i((()=>[m(l,{modelValue:E.password,"onUpdate:modelValue":a[5]||(a[5]=e=>E.password=e),placeholder:"请输入数据库密码（没有则为空）"},null,8,["modelValue"])])),_:1})):p("",!0),m(n,{label:"dbName"},{default:i((()=>[m(l,{modelValue:E.dbName,"onUpdate:modelValue":a[6]||(a[6]=e=>E.dbName=e),placeholder:"请输入数据库名称"},null,8,["modelValue"])])),_:1}),"sqlite"===E.dbType?(b(),y(n,{key:4,label:"dbPath"},{default:i((()=>[m(l,{modelValue:E.dbPath,"onUpdate:modelValue":a[7]||(a[7]=e=>E.dbPath=e),placeholder:"请输入sqlite数据库文件存放路径"},null,8,["modelValue"])])),_:1})):p("",!0),m(n,null,{default:i((()=>[d("div",N,[m(s,{type:"primary",onClick:A},{default:i((()=>a[11]||(a[11]=[c("立即初始化")]))),_:1})])])),_:1})])),_:1},8,["model"])],2)):p("",!0)]),a[13]||(a[13]=d("div",{class:"hidden md:block w-1/2 h-full float-right bg-[#194bfb]"},[d("img",{class:"h-full",alt:"banner"})],-1))])}}}),[["__scopeId","data-v-415afdc0"]]);export{P as default};
