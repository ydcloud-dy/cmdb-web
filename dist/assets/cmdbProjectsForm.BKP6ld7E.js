/*! 
 Build based on  
 Time : 1735190558000 */
import{M as e,u as a,a as l,r,o as t,c as o,b as s,e as u,w as i,g as n,i as m,k as p,E as d}from"./index.ABWJOL2Q.js";/* empty css             *//* empty css               */import{a as c,E as b}from"./form-item.ujPiwBAF.js";/* empty css              */import{f,c as v,u as j}from"./cmdbProjects.CXcaQTcF.js";import"./castArray.9wqFpW2Z.js";import"./_baseClone.gl1e0kmI.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";const y={class:"dycloud-form-box"},_=Object.assign({name:"CmdbProjectsForm"},{__name:"cmdbProjectsForm",setup(_){const g=e(),V=a(),h=l(""),w=l({name:"",principal:"",note:""}),k=r({name:[{required:!0,message:"",trigger:["input","blur"]}],principal:[{required:!0,message:"",trigger:["input","blur"]}]}),C=l();(async()=>{if(g.query.id){const e=await f({ID:g.query.id});0===e.code&&(w.value=e.data,h.value="update")}else h.value="create"})();const q=async()=>{var e;null==(e=C.value)||e.validate((async e=>{if(!e)return;let a;switch(h.value){case"create":default:a=await v(w.value);break;case"update":a=await j(w.value)}0===a.code&&m({type:"success",message:"创建/更改成功"})}))},x=()=>{V.go(-1)};return(e,a)=>{const l=p,r=c,m=d,f=b;return t(),o("div",null,[s("div",y,[u(f,{model:w.value,ref_key:"elFormRef",ref:C,"label-position":"right",rules:k,"label-width":"80px"},{default:i((()=>[u(r,{label:"项目名称:",prop:"name"},{default:i((()=>[u(l,{modelValue:w.value.name,"onUpdate:modelValue":a[0]||(a[0]=e=>w.value.name=e),clearable:!0,placeholder:"请输入项目名称"},null,8,["modelValue"])])),_:1}),u(r,{label:"负责人:",prop:"principal"},{default:i((()=>[u(l,{modelValue:w.value.principal,"onUpdate:modelValue":a[1]||(a[1]=e=>w.value.principal=e),clearable:!0,placeholder:"请输入负责人"},null,8,["modelValue"])])),_:1}),u(r,{label:"备注:",prop:"note"},{default:i((()=>[u(l,{modelValue:w.value.note,"onUpdate:modelValue":a[2]||(a[2]=e=>w.value.note=e),clearable:!0,placeholder:"请输入备注"},null,8,["modelValue"])])),_:1}),u(r,null,{default:i((()=>[u(m,{type:"primary",onClick:q},{default:i((()=>a[3]||(a[3]=[n("保存")]))),_:1}),u(m,{type:"primary",onClick:x},{default:i((()=>a[4]||(a[4]=[n("返回")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])}}});export{_ as default};
