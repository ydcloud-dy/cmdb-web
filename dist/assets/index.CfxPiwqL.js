/*! 
 Build based on  
 Time : 1735190558000 */
import{_ as a,a as e,r as s,l,c as t,b as r,t as o,e as c,w as n,m as i,u as d,p,o as u,h as m,f as h,g,i as f,k as w,E as v}from"./index.ABWJOL2Q.js";/* empty css             *//* empty css               */import{E as b,a as _}from"./form-item.ujPiwBAF.js";/* empty css              */import"./castArray.9wqFpW2Z.js";import"./_baseClone.gl1e0kmI.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";const y={id:"userLayout",class:"w-full h-full relative bg-image"},j={class:"full-width-flex"},x={class:"right-margin-container"},C={class:"outer-container"},L={class:"inner-container"},V={class:"logo-container"},I=["src"],k={class:"mb-9"},D={class:"text-center text-4xl font-bold"},U={class:"login-form-container"},z={class:"flex w-full justify-between"},A={class:"w-1/3 h-11 bg-[#c3d4f2] rounded"},E=["src"],O=a(Object.assign({name:"Login"},{__name:"index",setup(a){d();const O=async()=>{const a=await p();$.captcha.push({max:a.data.captchaLength,min:a.data.captchaLength,message:"请输入".concat(a.data.captchaLength,"位验证码"),trigger:"blur"}),M.value=a.data.picPath,Y.captchaId=a.data.captchaId,Y.openCaptcha=a.data.openCaptcha};O();const N=e(null),M=e(""),Y=s({username:"admin",password:"",captcha:"",captchaId:"",openCaptcha:!1}),$=s({username:[{validator:(a,e,s)=>{if(e.length<5)return s(new Error("请输入正确的用户名"));s()},trigger:"blur"}],password:[{validator:(a,e,s)=>{if(e.length<6)return s(new Error("请输入正确的密码"));s()},trigger:"blur"}],captcha:[{message:"验证码格式不正确",trigger:"blur"}]}),F=l(),K=()=>{N.value.validate((async a=>{if(!a)return f({type:"error",message:"请正确填写登录信息",showClose:!0}),O(),!1;return!!(await(async()=>await F.LoginIn(Y))())||(O(),!1)}))};return(a,e)=>{const s=w,l=_,d=v,p=b;return u(),t("div",y,[r("div",j,[r("div",x,[r("div",C,[r("div",L,[r("div",V,[r("img",{class:"w-24",src:a.$DYCLOUD_ADMIN.appLogo,alt:""},null,8,I)]),r("div",k,[r("p",D,o(a.$DYCLOUD_ADMIN.appName),1)]),r("div",U,[c(p,{ref_key:"loginForm",ref:N,model:Y,rules:$,"validate-on-rule-change":!1,onKeyup:i(K,["enter"])},{default:n((()=>[c(l,{prop:"username",class:"mb-6"},{default:n((()=>[c(s,{modelValue:Y.username,"onUpdate:modelValue":e[0]||(e[0]=a=>Y.username=a),size:"large",placeholder:"请输入用户名","suffix-icon":"user"},null,8,["modelValue"])])),_:1}),c(l,{prop:"password",class:"mb-6"},{default:n((()=>[c(s,{modelValue:Y.password,"onUpdate:modelValue":e[1]||(e[1]=a=>Y.password=a),"show-password":"",size:"large",type:"password",placeholder:"请输入密码"},null,8,["modelValue"])])),_:1}),Y.openCaptcha?(u(),m(l,{key:0,prop:"captcha",class:"mb-6"},{default:n((()=>[r("div",z,[c(s,{modelValue:Y.captcha,"onUpdate:modelValue":e[2]||(e[2]=a=>Y.captcha=a),placeholder:"请输入验证码",size:"large",class:"flex-1 mr-5"},null,8,["modelValue"]),r("div",A,[M.value?(u(),t("img",{key:0,class:"w-full h-full",src:M.value,alt:"请输入验证码",onClick:O},null,8,E)):h("",!0)])])])),_:1})):h("",!0),c(l,{class:"mb-6"},{default:n((()=>[c(d,{class:"shadow shadow-active h-11 w-full",type:"primary",size:"large",onClick:K},{default:n((()=>e[3]||(e[3]=[g("登 录")]))),_:1})])),_:1})])),_:1},8,["model","rules"])])])])])])])}}}),[["__scopeId","data-v-0f27cef1"]]);export{O as default};
