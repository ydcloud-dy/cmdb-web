/*! 
 Build based on  
 Time : 1735190558000 */
import{D as e,ao as l,c9 as a,aj as t,al as o,af as u,am as n,a8 as i,a as s,R as r,au as d,z as p,H as m,y as c,o as v,c as f,J as y,n as h,B as g,C as b,ap as V,bR as k,V as _,b5 as C,b as U,g as S,t as w,e as P,w as x,h as D,ax as A,Q as j,m as N,O as T,S as E,T as O,L,aA as I,F as M,v as H,f as z,E as G,k as q,i as R,r as F}from"./index.ABWJOL2Q.js";/* empty css               */import{E as K,a as J}from"./tab-pane.fs024GHS.js";import{E as B,a as Y}from"./col.BzMVCOvM.js";import{E as $}from"./card.RgDT494R.js";/* empty css             */import{a as W,E as Q}from"./form-item.ujPiwBAF.js";/* empty css            */import{E as X,a as Z}from"./select.C2tLDQ30.js";import"./scrollbar.3ySweVnY.js";/* empty css               *//* empty css                    *//* empty css                     */import{b as ee,a as le}from"./index.DINKPDpR.js";import{_ as ae}from"./index.B0d1JK95.js";import{E as te}from"./checkbox.BcMUmSPv.js";import{_ as oe}from"./warningBar.BzThqhMC.js";/* empty css              */import{G as ue}from"./nodes.Bn2Bf7KU.js";import{E as ne,a as ie,b as se}from"./dropdown-item.Bdep7Ju0.js";import{c as re}from"./castArray.9wqFpW2Z.js";import{E as de}from"./index.gYVODlrW.js";import{S as pe}from"./secrets.hDCpAdRW.js";import{S as me}from"./serviceaccounts.FyKKM7DW.js";import{g as ce}from"./namespaces.DIn9v7pI.js";import{P as ve}from"./persistentvolumeclaims.C7-g1nKS.js";import{C as fe}from"./configmaps.BgmpeECD.js";const ye=e=>u(e)||n(e)||i(e),he=e({accordion:Boolean,modelValue:{type:l([Array,String,Number]),default:()=>a([])}}),ge={[t]:ye,[o]:ye},be=Symbol("collapseContextKey"),Ve=c({name:"ElCollapse"});var ke=b(c({...Ve,props:he,emits:ge,setup(e,{expose:l,emit:a}){const u=e,{activeNames:n,setActiveNames:i}=((e,l)=>{const a=s(re(e.modelValue)),u=u=>{a.value=u;const n=e.accordion?a.value[0]:a.value;l(t,n),l(o,n)};return r((()=>e.modelValue),(()=>a.value=re(e.modelValue)),{deep:!0}),d(be,{activeNames:a,handleItemClick:l=>{if(e.accordion)u([a.value[0]===l?"":l]);else{const e=[...a.value],t=e.indexOf(l);t>-1?e.splice(t,1):e.push(l),u(e)}}}),{activeNames:a,setActiveNames:u}})(u,a),{rootKls:c}=(()=>{const e=p("collapse");return{rootKls:m((()=>e.b()))}})();return l({activeNames:n,setActiveNames:i}),(e,l)=>(v(),f("div",{class:h(g(c))},[y(e.$slots,"default")],2))}}),[["__file","collapse.vue"]]);const _e=e({title:{type:String,default:""},name:{type:l([String,Number]),default:void 0},icon:{type:V,default:k},disabled:Boolean}),Ce=c({name:"ElCollapseItem"});var Ue=b(c({...Ce,props:_e,setup(e,{expose:l}){const a=e,{focusing:t,id:o,isActive:u,handleFocus:n,handleHeaderClick:i,handleEnterClick:r}=(e=>{const l=_(be),{namespace:a}=p("collapse"),t=s(!1),o=s(!1),u=C(),n=m((()=>u.current++)),i=m((()=>{var l;return null!=(l=e.name)?l:"".concat(a.value,"-id-").concat(u.prefix,"-").concat(g(n))})),r=m((()=>null==l?void 0:l.activeNames.value.includes(g(i))));return{focusing:t,id:n,isActive:r,handleFocus:()=>{setTimeout((()=>{o.value?o.value=!1:t.value=!0}),50)},handleHeaderClick:()=>{e.disabled||(null==l||l.handleItemClick(g(i)),t.value=!1,o.value=!0)},handleEnterClick:()=>{null==l||l.handleItemClick(g(i))}}})(a),{arrowKls:d,headKls:c,rootKls:b,itemWrapperKls:V,itemContentKls:k,scopedContentId:L,scopedHeadId:I}=((e,{focusing:l,isActive:a,id:t})=>{const o=p("collapse"),u=m((()=>[o.b("item"),o.is("active",g(a)),o.is("disabled",e.disabled)])),n=m((()=>[o.be("item","header"),o.is("active",g(a)),{focusing:g(l)&&!e.disabled}]));return{arrowKls:m((()=>[o.be("item","arrow"),o.is("active",g(a))])),headKls:n,rootKls:u,itemWrapperKls:m((()=>o.be("item","wrap"))),itemContentKls:m((()=>o.be("item","content"))),scopedContentId:m((()=>o.b("content-".concat(g(t))))),scopedHeadId:m((()=>o.b("head-".concat(g(t)))))}})(a,{focusing:t,isActive:u,id:o});return l({isActive:u}),(e,l)=>(v(),f("div",{class:h(g(b))},[U("button",{id:g(I),class:h(g(c)),"aria-expanded":g(u),"aria-controls":g(L),"aria-describedby":g(L),tabindex:e.disabled?-1:0,type:"button",onClick:g(i),onKeydown:N(T(g(r),["stop","prevent"]),["space","enter"]),onFocus:g(n),onBlur:e=>t.value=!1},[y(e.$slots,"title",{},(()=>[S(w(e.title),1)])),y(e.$slots,"icon",{isActive:g(u)},(()=>[P(g(j),{class:h(g(d))},{default:x((()=>[(v(),D(A(e.icon)))])),_:1},8,["class"])]))],42,["id","aria-expanded","aria-controls","aria-describedby","tabindex","onClick","onKeydown","onFocus","onBlur"]),P(g(de),null,{default:x((()=>[E(U("div",{id:g(L),role:"region",class:h(g(V)),"aria-hidden":!g(u),"aria-labelledby":g(I)},[U("div",{class:h(g(k))},[y(e.$slots,"default")],2)],10,["id","aria-hidden","aria-labelledby"]),[[O,g(u)]])])),_:3})],2))}}),[["__file","collapse-item.vue"]]);const Se=L(ke,{CollapseItem:Ue}),we=I(Ue),Pe={name:"Containers"},xe=Object.assign(Pe,{props:{form:{default:function(){return{}},type:Object}},emits:["addContainer","deleteContainer","refreshContainer"],setup(e,{emit:l}){const a=l,t=e,o=s({}),u=s(!1),n=s([]),i=s([]),r=s([{label:"初始化容器",value:"initContainers"},{label:"标准容器",value:"standardContainers"}]),d=s(0),p=s(0),m=s("standardContainers"),c=s("standardContainers"),y=s({}),h=e=>{if(d.value=e?0:d.value,"initContainers"===m.value)if(n.value&&0!==n.value.length)c.value=m.value,p.value=d.value,y.value=n.value[p.value],a("refreshContainer",c.value,p.value,y.value),u.value=!u.value;else{const e={name:"init-container-0",image:"",imagePullPolicy:"IfNotPresent"};n.value=[e],c.value=m.value,p.value=d.value,y.value=n.value[p.value],a("addContainer",c.value,e),a("refreshContainer",c.value,p.value,y.value)}else c.value=m.value,p.value=d.value,y.value=i.value[p.value],a("refreshContainer",c.value,p.value,y.value),u.value=!u.value},g=()=>{const e=s({});e.value.image="",e.value.stdin=!1,e.value.tty=!0,e.value.imagePullPolicy="Always","initContainers"===m.value?(n.value?e.value.name="init-container-"+n.value.length.toString():(n.value=[],e.value.name="init-container-0"),n.value.push(e.value)):(e.value.name="container-"+i.value.length.toString(),i.value.push(e.value)),a("addContainer",c.value,e.value)},b=()=>{if(d.value=0,"initContainers"===m.value){if(a("deleteContainer",c.value,p.value),n.value.length<=p.value)return;1===n.value.length?(n.value=null,m.value="standardContainers",c.value="standardContainers",y.value=i.value[0]):(n.value.splice(p.value,1),y.value=n.value[0])}else{if(i.value.length<=p.value||1===i.value.length)return;a("deleteContainer",c.value,p.value),i.value.splice(p.value,1),y.value=i.value[0]}p.value=0,u.value=!u.value,a("refreshContainer",c.value,p.value,y.value)};return o.value=t.form,i.value=o.value.containers,n.value=o.value.initContainers,(e,l)=>{const a=ee,t=le,n=B,i=X,s=Z,p=W,c=G,y=Y,V=Q;return v(),D(V,null,{default:x((()=>[P(y,{style:{"margin-top":"20px"}},{default:x((()=>[P(n,{span:6},{default:x((()=>[P(t,{modelValue:m.value,"onUpdate:modelValue":l[0]||(l[0]=e=>m.value=e),style:{width:"100%"},onChange:l[1]||(l[1]=e=>h(!0))},{default:x((()=>[(v(!0),f(M,null,H(r.value,((e,l)=>(v(),D(a,{key:l,style:{width:"50%"},label:e.value},{default:x((()=>[S(w(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1}),(v(),D(n,{key:u.value,span:14},{default:x((()=>[P(p,null,{default:x((()=>["standardContainers"===m.value?(v(),D(s,{key:0,modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),style:{width:"100%"},onChange:l[3]||(l[3]=e=>h(!1))},{default:x((()=>[(v(!0),f(M,null,H(o.value.containers,((e,l)=>(v(),D(i,{key:l,label:e.name,value:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):z("",!0),"initContainers"===m.value?(v(),D(s,{key:1,modelValue:d.value,"onUpdate:modelValue":l[4]||(l[4]=e=>d.value=e),style:{width:"100%"},onChange:l[5]||(l[5]=e=>h(!1))},{default:x((()=>[(v(!0),f(M,null,H(o.value.initContainers,((e,l)=>(v(),D(i,{key:l,label:e.name,value:l},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])):z("",!0)])),_:1})])),_:1})),P(n,{span:2},{default:x((()=>[U("div",null,[P(c,{size:"small",type:"primary",link:"",icon:"plus",style:{width:"100%"},onClick:g},{default:x((()=>l[6]||(l[6]=[S("添加")]))),_:1})])])),_:1}),P(n,{span:2},{default:x((()=>[U("div",null,[P(c,{type:"danger",link:"",icon:"delete",size:"small",style:{width:"100%"},onClick:b},{default:x((()=>l[7]||(l[7]=[S("删除")]))),_:1})])])),_:1})])),_:1})])),_:1})}}}),De={name:"ContainerBaseData"},Ae=Object.assign(De,{props:{form:{default:function(){return{}},type:Object}},setup(e){const l=e,a=s([{label:"Always",value:"Always"},{label:"IfNotPresent",value:"IfNotPresent"}]),t=s({});return t.value=l.form,(e,l)=>{const o=W,u=B,n=Y,i=Q;return v(),f("div",null,[P(i,{ref:"form","label-position":"top",model:t.value},{default:x((()=>[P(n,{gutter:24},{default:x((()=>[P(u,{span:8},{default:x((()=>[P(o,{label:"容器名称",prop:"name"},{default:x((()=>[P(ae,{modelValue:t.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.name=e),style:{width:"100%"},"item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1}),P(u,{span:8},{default:x((()=>[P(o,{label:"容器镜像",prop:"image"},{default:x((()=>[P(ae,{modelValue:t.value.image,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.image=e),style:{width:"100%"},placeholder:"e.g. nginx:latest","item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),P(n,{gutter:24},{default:x((()=>[P(u,{span:8},{default:x((()=>[P(o,{label:"拉取策略",prop:"imagePullPolicy"},{default:x((()=>[P(ae,{modelValue:t.value.imagePullPolicy,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.imagePullPolicy=e),style:{width:"100%"},"item-type":"select","no-clear":!0,selections:a.value},null,8,["modelValue","selections"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])}}}),je={style:{width:"100%"},class:"tab-table"},Ne={align:"left"},Te={style:{width:"100%"},class:"tab-table"},Ee={align:"left"},Oe={name:"CommandBlock"},Le=Object.assign(Oe,{props:{form:{default:function(){return{}},type:Object}},setup(e,{expose:l}){const a=e,t=s([{label:"否",value:!1},{label:"是",value:!0}]),o=s({}),u=s([]),n=s([]),i=s({}),r=s(!1);(()=>{if(o.value=a.form,o.value.command)for(const e of o.value.command)u.value.push({value:e});else o.value.command=[];if(o.value.args)for(const e of o.value.args)n.value.push({value:e});else o.value.args=[];void 0!==o.value.stdinOnce&&(r.value=!0,i.value.stdin="Once"),void 0!==o.value.stdin&&(i.value=o.value.stdin?"Yes":"No")})();const d=()=>{u.value.push({value:""})},p=()=>{n.value.push({value:""})};return l({transformationformat:async e=>{(e=>{const l=s([]),a=s([]);for(const t of u.value)l.value.push(t.value);e.command=l.value;for(const t of n.value)a.value.push(t.value);if(e.args=a.value,e.workingDir=o.value.workingDir,i.value)switch(i.value){case"No":e.stdin=!1;break;case"Yes":e.stdin=!0;break;case"Once":e.stdin=!0,e.stdinOnce=!0}else delete e.stdin,delete e.stdinOnce;void 0!==o.value.tty?e.tty=o.value.tty:delete e.tty})(e)}}),(e,l)=>{const a=W,i=B,s=te,r=Y,m=G,c=Q;return v(),f("div",null,[P(c,{ref:"form","label-position":"top",model:o.value},{default:x((()=>[P(r,{gutter:20,style:{"margin-top":"10px"}},{default:x((()=>[P(i,{span:12},{default:x((()=>[P(a,{label:"工作目录",prop:"workingDir"},{default:x((()=>[P(ae,{modelValue:o.value.workingDir,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value.workingDir=e),placeholder:"e.g. /myapp","item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1}),P(i,{span:8},{default:x((()=>[P(a,{label:"标准输入",prop:"stdin"},{default:x((()=>[P(ae,{modelValue:o.value.stdin,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.stdin=e),"item-type":"radio",radios:t.value},null,8,["modelValue","radios"])])),_:1})])),_:1}),P(i,{span:4},{default:x((()=>[P(a,{label:"TTY",prop:"tty"},{default:x((()=>[P(s,{modelValue:o.value.tty,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.tty=e),disabled:!1===o.value.stdin},{default:x((()=>l[3]||(l[3]=[S("TTY")]))),_:1},8,["modelValue","disabled"])])),_:1})])),_:1})])),_:1}),P(r,{gutter:20},{default:x((()=>[P(i,{span:12},{default:x((()=>[U("table",je,[l[6]||(l[6]=U("tr",null,[U("th",{scope:"col",width:"90%",align:"left"},[U("label",null,"命令")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(u.value,((e,a)=>(v(),f("tr",{key:a},[U("td",null,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. /bin/sh","item-type":"textarea"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(m,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{u.value.splice(e,1)})(a)},{default:x((()=>l[4]||(l[4]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Ne,[P(m,{size:"small",type:"primary",link:"",icon:"plus",onClick:d},{default:x((()=>l[5]||(l[5]=[S("添加")]))),_:1})])])])])),_:1}),P(i,{span:12},{default:x((()=>[U("table",Te,[l[9]||(l[9]=U("tr",null,[U("th",{scope:"col",width:"90%",align:"left"},[U("label",null,"参数(Args)")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(n.value,((e,a)=>(v(),f("tr",{key:a},[U("td",null,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. /bin/sh","item-type":"textarea"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(m,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{n.value.splice(e,1)})(a)},{default:x((()=>l[7]||(l[7]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Ee,[P(m,{size:"small",type:"primary",link:"",icon:"plus",onClick:p},{default:x((()=>l[8]||(l[8]=[S("添加")]))),_:1})])])])])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Ie={style:{width:"98%"},class:"tab-table"},Me={align:"left"},He={name:"Ports"},ze=Object.assign(He,{props:{form:{default:function(){return{}},type:Object}},setup(e,{expose:l}){const a=e,t=s([{label:"TCP",value:"TCP"},{label:"UDP",value:"UDP"}]),o=s([]),u=s({});(()=>{if(u.value=a.form,u.value&&u.value.ports)for(const e of u.value.ports){const l={name:e.name,protocol:e.protocol,containerPort:e.containerPort,hostPort:e.hostPort};o.value.push(l)}})();const n=()=>{o.value.push({name:"",protocol:"TCP",containerPort:null,hostPort:""})};return l({transformationformat:async e=>{(e=>{if(e.ports=[],0!==o.value.length)for(const a of o.value){var l={};l.name=a.name||void 0,l.protocol=a.protocol||void 0,l.containerPort=a.containerPort||void 0,l.hostPort=a.hostPort||void 0,e.ports.push(l)}})(e)}}),(e,l)=>{const a=G,u=Q;return v(),f("div",null,[P(u,null,{default:x((()=>[U("table",Ie,[l[2]||(l[2]=U("tr",null,[U("th",{scope:"col",width:"45%",align:"left"},[U("label",null,"名称")]),U("th",{scope:"col",width:"15%",align:"left"},[U("label",null,"容器端口")]),U("th",{scope:"col",width:"15%",align:"left"},[U("label",null,"协议")]),U("th",{scope:"col",width:"15%",align:"left"},[U("label",null,"主机端口")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(o.value,((e,u)=>(v(),f("tr",{key:u},[U("td",null,[P(ae,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.containerPort,"onUpdate:modelValue":l=>e.containerPort=l,modelModifiers:{number:!0},placeholder:"e.g. 8080","item-type":"number"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.protocol,"onUpdate:modelValue":l=>e.protocol=l,"item-type":"select",selections:t.value},null,8,["modelValue","onUpdate:modelValue","selections"])]),U("td",null,[P(ae,{modelValue:e.hostPort,"onUpdate:modelValue":l=>e.hostPort=l,modelModifiers:{number:!0},placeholder:"e.g. 80","item-type":"number"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{o.value.splice(e,1)})(u)},{default:x((()=>l[0]||(l[0]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Me,[P(a,{size:"small",type:"primary",link:"",icon:"plus",onClick:n},{default:x((()=>l[1]||(l[1]=[S("添加")]))),_:1})])])])])),_:1})])}}}),Ge={style:{width:"98%"},class:"tab-table"},qe={align:"left"},Re={name:"Environment"},Fe=Object.assign(Re,{props:{form:{default:function(){return{}},type:Object}},setup(e){const l=e,a=s({});a.value=l.form,a.value.env||(a.value.env=[]);const t=()=>{a.value.env.push({name:"",value:""})};return(e,l)=>{const o=G,u=Q;return v(),f("div",null,[P(u,{ref:"form","label-position":"top",model:a.value},{default:x((()=>[U("table",Ge,[l[2]||(l[2]=U("tr",null,[U("th",{scope:"col",width:"50%",align:"left"},[U("label",null,"键")]),U("th",{scope:"col",width:"50%",align:"left"},[U("label",null,"值")])],-1)),(v(!0),f(M,null,H(a.value.env,((e,t)=>(v(),f("tr",{key:t},[U("td",null,[P(ae,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,"item-type":"textarea"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(o,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{a.value.env.splice(e,1)})(t)},{default:x((()=>l[0]||(l[0]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",qe,[P(o,{size:"small",type:"primary",link:"",icon:"plus",onClick:t},{default:x((()=>l[1]||(l[1]=[S("添加环境变量")]))),_:1})])])])])),_:1},8,["model"])])}}}),Ke={name:"Resources"},Je=Object.assign(Ke,{props:{form:{default:function(){return{}},type:Object}},setup(e,{expose:l}){const a=e,t=s({});t.value=a.form.resources,t.value&&"{}"!==JSON.stringify(t.value)||(t.value={limits:{cpu:"",memory:""},requests:{cpu:"",memory:""}});return l({transformationformat:async e=>{(e=>{e.resources={requests:{},limits:{}},t.value.requests.memory&&(e.resources.requests.memory=t.value.requests.memory?t.value.requests.memory:void 0),t.value.requests.cpu&&(e.resources.requests.cpu=t.value.requests.cpu?t.value.requests.cpu:void 0),t.value.limits.memory&&(e.resources.limits.memory=t.value.limits.memory?t.value.limits.memory:void 0),t.value.limits.cpu&&(e.resources.limits.cpu=t.value.limits.cpu?t.value.limits.cpu:void 0)})(e)}}),(e,l)=>{const a=W,o=B,u=Y,n=Q;return v(),f("div",null,[P(n,{ref:"form","label-position":"top",model:t.value},{default:x((()=>[P(u,{gutter:20},{default:x((()=>[P(o,{span:12},{default:x((()=>[t.value.requests?(v(),D(a,{key:0,label:"CPU预留",prop:"resources.requests.cpu"},{default:x((()=>[P(ae,{modelValue:t.value.requests.cpu,"onUpdate:modelValue":l[0]||(l[0]=e=>t.value.requests.cpu=e),placeholder:"e.g. 250m","item-type":"input","devider-name":"mCPUs"},null,8,["modelValue"])])),_:1})):z("",!0)])),_:1}),P(o,{span:12},{default:x((()=>[t.value.requests?(v(),D(a,{key:0,label:"内存预留",prop:"resources.requests.memory"},{default:x((()=>[P(ae,{modelValue:t.value.requests.memory,"onUpdate:modelValue":l[1]||(l[1]=e=>t.value.requests.memory=e),placeholder:"e.g. 256 Mi","item-type":"input","devider-name":"Mi"},null,8,["modelValue"])])),_:1})):z("",!0)])),_:1})])),_:1}),P(u,{gutter:20},{default:x((()=>[P(o,{span:12},{default:x((()=>[t.value.limits?(v(),D(a,{key:0,label:"CPU限制",prop:"resources.limits.cpu"},{default:x((()=>[P(ae,{modelValue:t.value.limits.cpu,"onUpdate:modelValue":l[2]||(l[2]=e=>t.value.limits.cpu=e),placeholder:"e.g. 1000m","item-type":"input","devider-name":"mCPUs"},null,8,["modelValue"])])),_:1})):z("",!0)])),_:1}),P(o,{span:12},{default:x((()=>[t.value.limits?(v(),D(a,{key:0,label:"内存限制",prop:"resources.limits.memory"},{default:x((()=>[P(ae,{modelValue:t.value.limits.memory,"onUpdate:modelValue":l[3]||(l[3]=e=>t.value.limits.memory=e),placeholder:"e.g. 512Mi","item-type":"input","devider-name":"Mi"},null,8,["modelValue"])])),_:1})):z("",!0)])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Be={style:{"margin-top":"20px"}},Ye={class:"card-header"},$e={key:0},We={style:{width:"98%"},class:"tab-table"},Qe={align:"left"},Xe={style:{width:"98%"},class:"tab-table"},Ze={align:"left"},el={name:"HealthCheck"},ll=Object.assign(el,{props:{form:{default:function(){return{}},type:Object},healthCheckType:{default:function(){return""},type:String}},setup(e,{expose:l}){const a=e,t=s([{label:"无",value:"None"},{label:"HTTP 请求返回成功状态（200-399）",value:"httpGet"},{label:"HTTPS 请求返回成功状态（200-399）",value:"httpsGet"},{label:"TCP 连接正常",value:"tcpSocket"},{label:"容器内部命令运行正常",value:"exec"}]),o=s("None"),u=s({httpGet:{port:"",path:""},periodSeconds:10,initialDelaySeconds:40,timeoutSeconds:3,successThreshold:1,failureThreshold:3,httpHeaders:[],exec:{command:[]},tcpSocket:{port:""}}),n=s("");(()=>{if(n.value=a.healthCheckType,a.form){const e=s({});switch(a.healthCheckType){case"就绪检查":a.form.readinessProbe&&(e.value=a.form.readinessProbe);break;case"存活检查":a.form.livenessProbe&&(e.value=a.form.livenessProbe);break;case"启动检查":a.form.startupProbe&&(e.value=a.form.startupProbe)}if(e.value){if(e.value.httpGet)e.value.httpGet.scheme?"HTTP"===e.value.httpGet.scheme?o.value="httpGet":o.value="httpsGet":o.value="httpGet",e.value.httpGet.port&&(u.value.httpGet.port=e.value.httpGet.port),e.value.httpGet.path&&(u.value.httpGet.path=e.value.httpGet.path);else if(e.value.tcpSocket)o.value="tcpSocket",e.value.tcpSocket.port&&(u.value.tcpSocket.port=e.value.tcpSocket.port);else if(e.value.exec&&(o.value="exec",e.value.exec.command)){u.value.exec.command=[];for(const l of e.value.exec.command)u.value.exec.command.push({value:l})}e.value.initialDelaySeconds&&(u.value.initialDelaySeconds=e.value.initialDelaySeconds),e.value.timeoutSeconds&&(u.value.timeoutSeconds=e.value.timeoutSeconds),e.value.periodSeconds&&(u.value.periodSeconds=e.value.periodSeconds),e.value.successThreshold&&(u.value.successThreshold=e.value.successThreshold),e.value.failureThreshold&&(u.value.failureThreshold=e.value.failureThreshold)}}})();const i=()=>{u.value.httpHeaders.push({key:"",value:""})},r=()=>{u.value.exec.command.push({value:""})};return l({transformationformat:async e=>{(e=>{if("None"===o.value||""===o.value)return;const l={};l.periodSeconds=u.value.periodSeconds||void 0,l.initialDelaySeconds=u.value.initialDelaySeconds||void 0,l.timeoutSeconds=u.value.timeoutSeconds||void 0,l.successThreshold=u.value.successThreshold||void 0,l.failureThreshold=u.value.failureThreshold||void 0;const a={};for(let o=0;o<u.value.httpHeaders.length;o++)""!==u.value.httpHeaders[o].key&&(a[u.value.httpHeaders[o].key]=u.value.httpHeaders[o].value);l.httpHeaders=0!==u.value.httpHeaders.length?a:void 0;const t=[];switch(o.value){case"httpGet":l.httpGet={},l.httpGet.scheme="HTTP",l.httpGet.path=u.value.httpGet.path||void 0,l.httpGet.port=u.value.httpGet.port||void 0;break;case"httpsGet":l.httpGet={},l.httpGet.scheme="HTTPS",l.httpGet.path=u.value.httpGet.path||void 0,l.httpGet.port=u.value.httpGet.port||void 0;break;case"tcpSocket":l.tcpSocket={},l.tcpSocket.port=u.value.tcpSocket.port||void 0;break;case"exec":for(const e of u.value.exec.command)t.push(e.value);l.exec={command:0!==t.length?t:void 0}}switch(n.value){case"就绪检查":e.readinessProbe=l;break;case"存活检查":e.livenessProbe=l;break;case"启动检查":e.startupProbe=l}})(e)}}),(l,a)=>{const s=W,d=Y,p=G,m=B,c=Q,y=$;return v(),f("div",Be,[P(y,{class:"box-card"},{header:x((()=>[U("div",Ye,[U("h3",null,w(n.value),1)])])),default:x((()=>[U("div",null,[P(c,{ref:"form","label-position":"top",model:e.form},{default:x((()=>[P(d,{gutter:20},{default:x((()=>[P(m,{span:12},{default:x((()=>[P(d,null,{default:x((()=>[P(s,{label:"检查类型"},{default:x((()=>[P(ae,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),"item-type":"select","no-clear":!0,selections:t.value},null,8,["modelValue","selections"])])),_:1})])),_:1}),"httpGet"===o.value||"httpsGet"===o.value?(v(),f("div",$e,[P(d,null,{default:x((()=>[P(s,{label:"检查端口",prop:"httpGet.port"},{default:x((()=>[P(ae,{modelValue:u.value.httpGet.port,"onUpdate:modelValue":a[1]||(a[1]=e=>u.value.httpGet.port=e),modelModifiers:{number:!0},"item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(d,null,{default:x((()=>[P(s,{label:"请求路径",prop:"httpGet.path"},{default:x((()=>[P(ae,{modelValue:u.value.httpGet.path,"onUpdate:modelValue":a[2]||(a[2]=e=>u.value.httpGet.path=e),"item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1})])):z("",!0),"tcpSocket"===o.value?(v(),D(d,{key:1},{default:x((()=>[P(s,{label:"检查端口",prop:"tcpSocket.port"},{default:x((()=>[P(ae,{modelValue:u.value.tcpSocket.port,"onUpdate:modelValue":a[3]||(a[3]=e=>u.value.tcpSocket.port=e),modelModifiers:{number:!0},"item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),"exec"===o.value?(v(),D(d,{key:2},{default:x((()=>[U("table",We,[a[11]||(a[11]=U("tr",null,[U("th",{scope:"col",width:"93%",align:"left"},[U("label",null,"检查命令")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(u.value.exec.command,((e,l)=>(v(),f("tr",{key:l},[U("td",null,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. /tmp/health","item-type":"textarea"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(p,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{u.value.exec.command.splice(e,1)})(l)},{default:x((()=>a[9]||(a[9]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Qe,[P(p,{size:"small",type:"primary",link:"",icon:"plus",onClick:r},{default:x((()=>a[10]||(a[10]=[S("添加")]))),_:1})])])])])),_:1})):z("",!0)])),_:1}),"None"!==o.value&&""!==o.value?(v(),D(m,{key:0,span:12},{default:x((()=>[P(d,{gutter:10},{default:x((()=>[P(m,{span:8},{default:x((()=>[P(s,{label:"检查间隔",prop:"periodSeconds"},{default:x((()=>[P(ae,{modelValue:u.value.periodSeconds,"onUpdate:modelValue":a[4]||(a[4]=e=>u.value.periodSeconds=e),modelModifiers:{number:!0},placeholder:"Default: 10","devider-name":"sec","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(m,{span:8},{default:x((()=>[P(s,{label:"初始延时",prop:"initialDelaySeconds"},{default:x((()=>[P(ae,{modelValue:u.value.initialDelaySeconds,"onUpdate:modelValue":a[5]||(a[5]=e=>u.value.initialDelaySeconds=e),modelModifiers:{number:!0},placeholder:"Default: 0","devider-name":"sec","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(m,{span:8},{default:x((()=>[P(s,{label:"超时时间",prop:"timeoutSeconds"},{default:x((()=>[P(ae,{modelValue:u.value.timeoutSeconds,"onUpdate:modelValue":a[6]||(a[6]=e=>u.value.timeoutSeconds=e),modelModifiers:{number:!0},placeholder:"Default: 3","devider-name":"sec","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),P(d,{gutter:10},{default:x((()=>[P(m,{span:12},{default:x((()=>[P(s,{label:"成功阈值",prop:"successThreshold"},{default:x((()=>[P(ae,{modelValue:u.value.successThreshold,"onUpdate:modelValue":a[7]||(a[7]=e=>u.value.successThreshold=e),modelModifiers:{number:!0},placeholder:"Default: 1","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(m,{span:12},{default:x((()=>[P(s,{label:"失败阈值",prop:"failureThreshold"},{default:x((()=>[P(ae,{modelValue:u.value.failureThreshold,"onUpdate:modelValue":a[8]||(a[8]=e=>u.value.failureThreshold=e),modelModifiers:{number:!0},placeholder:"Default: 3","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),P(d,null,{default:x((()=>[a[15]||(a[15]=U("div",null,[U("label",null,"请求头")],-1)),U("table",Xe,[a[14]||(a[14]=U("tr",null,[U("th",{scope:"col",width:"45%",align:"left"},[U("label",null,"键")]),U("th",{scope:"col",width:"45%",align:"left"},[U("label",null,"值")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(u.value.httpHeaders,((e,l)=>(v(),f("tr",{key:l},[U("td",null,[P(ae,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"e.g. foo","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. bar","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(p,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{u.value.httpHeaders.splice(e,1)})(l)},{default:x((()=>a[12]||(a[12]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Ze,[P(p,{size:"small",type:"primary",link:"",icon:"plus",onClick:i},{default:x((()=>a[13]||(a[13]=[S("添加")]))),_:1})])])])])),_:1})])),_:1})):z("",!0)])),_:1})])),_:1},8,["model"])])])),_:1})])}}}),al={key:1,style:{width:"100%"},class:"tab-table"},tl={key:0},ol={align:"left"},ul={name:"VolumeMount"},nl=Object.assign(ul,{props:{form:{default:function(){return{}},type:Object},volumelist:{default:function(){return[]},type:Array}},setup(e,{expose:l}){const a=e,t=s([]),o=s([]),u=s([]),n=s(!1);r((()=>a.volumelist),(()=>{n.value=!1,o.value=a.volumelist;const e=s([]);for(const l of a.volumelist)e.value.push(l.name);t.value=e.value,0===t.value.length?u.value=[]:u.value.forEach(((e,l)=>{var a,o;a=t.value,o=e.name,-1===(","+a.join(",")+",").indexOf(","+o+",")&&p(l)})),n.value=!0}));const i=e=>{for(const l of o.value)if(l.name===e.name)return void(e.type=l.type)},d=s({});(()=>{if(n.value=!1,d.value=a.form,o.value=a.volumelist,d.value.volumeMounts)for(const e of d.value.volumeMounts)t.value.push(e.name),i(e),u.value.push(e);n.value=!0})();const p=e=>{u.value.splice(e,1)};s([]);return l({transformationformat:async e=>{(e=>{e.volumeMounts=[];for(const l of u.value)""!==l.name&&e.volumeMounts.push({name:l.name,mountPath:l.mountPath||void 0,subPath:l.subPath||void 0,readOnly:l.readOnly||void 0})})(e)}}),(e,l)=>{const a=X,o=Z,s=te,r=G;return v(),f("div",null,[n.value?z("",!0):(v(),D(oe,{key:0,title:"注：请在上方选择，需要挂载的数据卷！"})),n.value?(v(),f("table",al,[l[3]||(l[3]=U("tr",null,[U("th",{scope:"col",width:"15%",align:"left"},[U("label",null,"数据卷(Volume)")]),U("th",{scope:"col",width:"15%",align:"left"},[U("label",null,"类型")]),U("th",{scope:"col",width:"28%",align:"left"},[U("label",null,"挂载路径")]),U("th",{scope:"col",width:"26%",align:"left"},[U("label",null,"卷内子路径")]),U("th",{scope:"col",width:"4%",align:"left"},[U("label",null,"只读")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(u.value,((e,u)=>(v(),f("tr",{key:u},[U("td",null,[n.value?(v(),f("div",tl,[P(o,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,filterable:"",onChange:l=>i(e)},{default:x((()=>[(v(!0),f(M,null,H(t.value,((e,l)=>(v(),D(a,{key:l,label:e,value:e},null,8,["label","value"])))),128))])),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])])):z("",!0)]),U("td",null,[P(ae,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,"item-type":"input",disabled:""},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.mountPath,"onUpdate:modelValue":l=>e.mountPath=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.subPath,"onUpdate:modelValue":l=>e.subPath=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(s,{modelValue:e.readOnly,"onUpdate:modelValue":l=>e.readOnly=l},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(r,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>p(u)},{default:x((()=>l[1]||(l[1]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",ol,[P(r,{size:"small",type:"primary",link:"",icon:"plus",onClick:l[0]||(l[0]=e=>{u.value.push({name:"",mountPath:"",subPath:"",readOnly:!1})})},{default:x((()=>l[2]||(l[2]=[S("添加")]))),_:1})])])])):z("",!0)])}}}),il={name:"UpgradeCommonBlock"},sl=Object.assign(il,{props:{form:{default:function(){return{}},type:Object},type:{default:function(){return 0},type:String}},setup(e,{expose:l}){const a=e,t=s(""),o=s([{label:"滚动升级",value:"RollingUpdate"},{label:"重新创建",value:"Recreate"}]),u=s([{label:"滚动升级",value:"RollingUpdate"},{label:"删除",value:"OnDelete"}]),n=[{label:"OrderedReady",value:"OrderedReady"},{label:"Parallel",value:"Parallel"}],i=s({strategy:{type:"RollingUpdate",rollingUpdate:{maxUnavailable:null,maxSurge:null}},minReadySeconds:null,progressDeadlineSeconds:null,revisionHistoryLimit:null}),r=s({});(()=>{if(r.value=a.form,t.value=a.type,r.value)switch(t.value){case"deployments":r.value.strategy&&(r.value.strategy.type&&(i.value.strategy.type=r.value.strategy.type),r.value.strategy.rollingUpdate&&r.value.strategy.rollingUpdate.maxUnavailable&&(i.value.strategy.rollingUpdate.maxUnavailable=r.value.strategy.rollingUpdate.maxUnavailable,i.value.strategy.rollingUpdate.maxSurge=r.value.strategy.rollingUpdate.maxSurge)),r.value.minReadySeconds&&(i.value.minReadySeconds=r.value.minReadySeconds),r.value.revisionHistoryLimit&&(i.value.revisionHistoryLimit=r.value.revisionHistoryLimit),r.value.progressDeadlineSeconds&&(i.value.progressDeadlineSeconds=r.value.progressDeadlineSeconds);break;case"statefulsets":r.value.updateStrategy&&r.value.updateStrategy.type&&(i.value.strategy.type=r.value.updateStrategy.type),r.value.podManagementPolicy&&(i.value.podManagementPolicy=r.value.podManagementPolicy),r.value.revisionHistoryLimit&&(i.value.revisionHistoryLimit=r.value.revisionHistoryLimit);break;case"daemonsets":r.value.updateStrategy&&(r.value.updateStrategy.type&&(i.value.strategy.type=r.value.updateStrategy.type),r.value.updateStrategy.rollingUpdate&&r.value.updateStrategy.rollingUpdate.maxUnavailable&&(i.value.strategy.rollingUpdate.maxUnavailable=r.value.updateStrategy.rollingUpdate.maxUnavailable,i.value.strategy.rollingUpdate.maxSurge=r.value.updateStrategy.rollingUpdate.maxSurge)),r.value.minReadySeconds&&(i.value.minReadySeconds=r.value.minReadySeconds),r.value.revisionHistoryLimit&&(i.value.revisionHistoryLimit=r.value.revisionHistoryLimit)}})();const d=()=>"deployments"===t.value,p=()=>"daemonsets"===t.value;return l({transformationformat:async e=>{(e=>{const l={};switch(l.type=i.value.strategy.type||void 0,t.value){case"deployments":"RollingUpdate"===i.value.strategy.type&&(l.rollingUpdate={},l.rollingUpdate.maxUnavailable=i.value.strategy.rollingUpdate.maxUnavailable,l.rollingUpdate.maxSurge=i.value.strategy.rollingUpdate.maxSurge),e.minReadySeconds=i.value.minReadySeconds||void 0,e.revisionHistoryLimit=i.value.revisionHistoryLimit||void 0,e.progressDeadlineSeconds=i.value.progressDeadlineSeconds||void 0,e.strategy=l;break;case"statefulsets":e.revisionHistoryLimit=i.value.revisionHistoryLimit||void 0,e.updateStrategy=l;break;case"daemonsets":"RollingUpdate"===i.value.strategy.type&&(l.rollingUpdate={},l.rollingUpdate.maxUnavailable=i.value.strategy.rollingUpdate.maxUnavailable),e.minReadySeconds=i.value.minReadySeconds||void 0,e.revisionHistoryLimit=i.value.revisionHistoryLimit||void 0,e.updateStrategy=l}})(e)}}),(e,l)=>{const a=W,s=B,r=Y,m=q,c=Q;return v(),f("div",null,[P(c,{ref:"form","label-position":"top",model:i.value},{default:x((()=>[P(r,{gutter:20},{default:x((()=>[P(s,{span:12},{default:x((()=>[P(a,{label:"策略",prop:"strategy.type"},{default:x((()=>[d()?(v(),D(ae,{key:0,modelValue:i.value.strategy.type,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value.strategy.type=e),"item-type":"radio",radios:o.value},null,8,["modelValue","radios"])):(v(),D(ae,{key:1,modelValue:i.value.strategy.type,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value.strategy.type=e),"item-type":"radio",radios:u.value},null,8,["modelValue","radios"]))])),_:1})])),_:1}),"statefulsets"===t.value?(v(),D(s,{key:0,span:12},{default:x((()=>[P(a,{label:"pod 管理策略",prop:"podManagementPolicy"},{default:x((()=>[P(ae,{modelValue:i.value.podManagementPolicy,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value.podManagementPolicy=e),"item-type":"radio",radios:n},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0)])),_:1}),"RollingUpdate"===i.value.strategy.type?(v(),D(r,{key:0,gutter:20},{default:x((()=>[d()?(v(),D(s,{key:0,span:12},{default:x((()=>[P(a,{label:"最大 Pod 数量",prop:"strategy.rollingUpdate.maxSurge"},{default:x((()=>[P(m,{modelValue:i.value.strategy.rollingUpdate.maxSurge,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value.strategy.rollingUpdate.maxSurge=e),modelModifiers:{number:!0},"on-keypress":"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),d()||p()?(v(),D(s,{key:1,span:12},{default:x((()=>[P(a,{label:"最大不可用数量",prop:"strategy.rollingUpdate.maxUnavailable"},{default:x((()=>[P(m,{modelValue:i.value.strategy.rollingUpdate.maxUnavailable,"onUpdate:modelValue":l[4]||(l[4]=e=>i.value.strategy.rollingUpdate.maxUnavailable=e),modelModifiers:{number:!0},"on-keypress":"return (/[\\d]/.test(String.fromCharCode(event.keyCode)))",clearable:""},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0)])),_:1})):z("",!0),P(r,{gutter:20},{default:x((()=>[d()||p()?(v(),D(s,{key:0,span:12},{default:x((()=>[P(a,{label:"最小就绪时间(秒)",prop:"minReadySeconds"},{default:x((()=>[P(ae,{modelValue:i.value.minReadySeconds,"onUpdate:modelValue":l[5]||(l[5]=e=>i.value.minReadySeconds=e),modelModifiers:{number:!0},"devider-name":"秒",style:{width:"100%"},"item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),d()?(v(),D(s,{key:1,span:12},{default:x((()=>[P(a,{label:"进程截止时间(秒)",prop:"progressDeadlineSeconds"},{default:x((()=>[P(ae,{modelValue:i.value.progressDeadlineSeconds,"onUpdate:modelValue":l[6]||(l[6]=e=>i.value.progressDeadlineSeconds=e),modelModifiers:{number:!0},style:{width:"100%"},"devider-name":"秒","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0)])),_:1}),P(r,{gutter:20},{default:x((()=>[P(s,{span:12},{default:x((()=>[P(a,{label:"修订历史记录限制",prop:"revisionHistoryLimit"},{default:x((()=>[P(ae,{modelValue:i.value.revisionHistoryLimit,"onUpdate:modelValue":l[7]||(l[7]=e=>i.value.revisionHistoryLimit=e),modelModifiers:{number:!0},style:{width:"100%"},"devider-name":"版本","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])}}}),rl={name:"UpgradeJob"},dl=Object.assign(rl,{props:{form:{default:function(){return{}},type:Object},type:{default:function(){return 0},type:String}},setup(e,{expose:l}){const a=e,t=()=>"cronjobs"===r.value,o=s([{label:"允许多个 CronJobs 同时运行",value:"Allow"},{label:"如果当前 Job 没结束，则跳过",value:"Forbid"},{label:"如果当前 Job 没结束，则替换运行",value:"Replace"}]),u=s([{label:"确认",value:!0},{label:"否",value:!1}]),n=s({}),i=s({activeDeadlineSeconds:null,backoffLimit:null,completions:null,parallelism:null,concurrencyPolicy:null,successfulJobsHistoryLimit:null,failedJobsHistoryLimit:null,startingDeadlineSeconds:null,suspend:!1}),r=s("");(()=>{var e;if(n.value=a.form,r.value=a.type,n.value){let l={};t()?((null==(e=n.value.jobTemplate)?void 0:e.spec)&&(l=n.value.jobTemplate.spec),n.value.concurrencyPolicy&&(i.value.concurrencyPolicy=n.value.concurrencyPolicy),n.value.successfulJobsHistoryLimit&&(i.value.successfulJobsHistoryLimit=n.value.successfulJobsHistoryLimit),n.value.failedJobsHistoryLimit&&(i.value.failedJobsHistoryLimit=n.value.failedJobsHistoryLimit),n.value.startingDeadlineSeconds&&(i.value.startingDeadlineSeconds=n.value.startingDeadlineSeconds),void 0!==n.value.suspend&&(i.value.suspend=n.value.suspend)):l=n.value,l.activeDeadlineSeconds&&(i.value.activeDeadlineSeconds=l.activeDeadlineSeconds),l.backoffLimit&&(i.value.backoffLimit=l.backoffLimit),l.completions&&(i.value.completions=l.completions),l.parallelism&&(i.value.parallelism=l.parallelism)}})();return l({transformationformat:async e=>{var l;l=e,t()?(l.jobTemplate={},l.jobTemplate.spec={},l.jobTemplate.spec.activeDeadlineSeconds=i.value.activeDeadlineSeconds||void 0,l.jobTemplate.spec.backoffLimit=i.value.backoffLimit||void 0,l.jobTemplate.spec.completions=i.value.completions||void 0,l.jobTemplate.spec.parallelism=i.value.parallelism||void 0,l.concurrencyPolicy=i.value.concurrencyPolicy||void 0,l.successfulJobsHistoryLimit=i.value.successfulJobsHistoryLimit||void 0,l.failedJobsHistoryLimit=i.value.failedJobsHistoryLimit||void 0,l.startingDeadlineSeconds=i.value.startingDeadlineSeconds||void 0,l.suspend=i.value.suspend||void 0):(l.activeDeadlineSeconds=i.value.activeDeadlineSeconds||void 0,l.backoffLimit=i.value.backoffLimit||void 0,l.completions=i.value.completions||void 0,l.parallelism=i.value.parallelism||void 0)}}),(e,l)=>{const a=W,n=B,s=Y,r=Q;return v(),f("div",null,[P(r,{ref:"form","label-position":"top",model:i.value},{default:x((()=>[t()?(v(),D(s,{key:0,gutter:24},{default:x((()=>[P(n,{span:24},{default:x((()=>[P(a,{label:"并发策略",prop:"concurrencyPolicy"},{default:x((()=>[P(ae,{modelValue:i.value.concurrencyPolicy,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value.concurrencyPolicy=e),style:{width:"100%"},"radio-layout":"vertical","item-type":"radio",radios:o.value},null,8,["modelValue","radios"])])),_:1})])),_:1}),P(n,{span:24},{default:x((()=>[P(a,{label:"暂停",prop:"suspend"},{default:x((()=>[P(ae,{modelValue:i.value.suspend,"onUpdate:modelValue":l[1]||(l[1]=e=>i.value.suspend=e),"item-type":"radio",radios:u.value},null,8,["modelValue","radios"])])),_:1})])),_:1})])),_:1})):z("",!0),P(s,{gutter:20},{default:x((()=>[P(n,{span:12},{default:x((()=>[P(a,{label:"需完成数",prop:"completions"},{default:x((()=>[P(ae,{modelValue:i.value.completions,"onUpdate:modelValue":l[2]||(l[2]=e=>i.value.completions=e),modelModifiers:{number:!0},"devider-name":"次","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(n,{span:12},{default:x((()=>[P(a,{label:"并发数",prop:"parallelism"},{default:x((()=>[P(ae,{modelValue:i.value.parallelism,"onUpdate:modelValue":l[3]||(l[3]=e=>i.value.parallelism=e),modelModifiers:{number:!0},"devider-name":"次","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),P(s,{gutter:20},{default:x((()=>[P(n,{span:12},{default:x((()=>[P(a,{label:"重试次数",prop:"backoffLimit"},{default:x((()=>[P(ae,{modelValue:i.value.backoffLimit,"onUpdate:modelValue":l[4]||(l[4]=e=>i.value.backoffLimit=e),modelModifiers:{number:!0},"devider-name":"次","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(n,{span:12},{default:x((()=>[P(a,{label:"活跃终止时间",prop:"activeDeadlineSeconds"},{default:x((()=>[P(ae,{modelValue:i.value.activeDeadlineSeconds,"onUpdate:modelValue":l[5]||(l[5]=e=>i.value.activeDeadlineSeconds=e),modelModifiers:{number:!0},"devider-name":"次","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),t()?(v(),D(s,{key:1,gutter:20},{default:x((()=>[P(n,{span:12},{default:x((()=>[P(a,{label:"历史成功累计",prop:"successfulJobsHistoryLimit"},{default:x((()=>[P(ae,{modelValue:i.value.successfulJobsHistoryLimit,"onUpdate:modelValue":l[6]||(l[6]=e=>i.value.successfulJobsHistoryLimit=e),modelModifiers:{number:!0},"item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1}),P(n,{span:12},{default:x((()=>[P(a,{label:"历史失败累计",prop:"failedJobsHistoryLimit"},{default:x((()=>[P(ae,{modelValue:i.value.failedJobsHistoryLimit,"onUpdate:modelValue":l[7]||(l[7]=e=>i.value.failedJobsHistoryLimit=e),modelModifiers:{number:!0},"item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):z("",!0),t()?(v(),D(s,{key:2,gutter:20},{default:x((()=>[P(n,{span:12},{default:x((()=>[P(a,{label:"运行 job 截止时间",prop:"startingDeadlineSeconds"},{default:x((()=>[P(ae,{modelValue:i.value.startingDeadlineSeconds,"onUpdate:modelValue":l[8]||(l[8]=e=>i.value.startingDeadlineSeconds=e),modelModifiers:{number:!0},"devider-name":"秒","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})):z("",!0)])),_:1},8,["model"])])}}}),pl={style:{width:"100%"},class:"tab-table"},ml={width:"40%"},cl={width:"16%"},vl={width:"40%"},fl={align:"left"},yl={name:"MatchTable"},hl=Object.assign(yl,{props:{matchTables:{default:function(){return[]},type:Array}},setup(e){const l=e,a=s({}),t=s([]),o=s("");a.value=l.matchTables,o.value="Preferred",t.value=[{label:"Lt",value:"Lt"},{label:"Gt",value:"Gt"},{label:"Exists",value:"Exists"},{label:"DoesNotExist",value:"DoesNotExist"},{label:"In",value:"In"},{label:"NotIn",value:"NotIn"}];const u=()=>{a.value.push({key:"",operator:"",value:""})};return(e,l)=>{const o=G,n=Q;return v(),f("div",null,[P(n,{"label-position":"top"},{default:x((()=>[U("table",pl,[(v(!0),f(M,null,H(a.value,((e,u)=>(v(),f("tr",{key:u},[U("td",ml,[P(ae,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",cl,[P(ae,{modelValue:e.operator,"onUpdate:modelValue":l=>e.operator=l,"item-type":"select",selections:t.value},null,8,["modelValue","onUpdate:modelValue","selections"])]),U("td",vl,["Exists"===e.operator||"DoesNotExist"===e.operator?(v(),D(ae,{key:0,disabled:"","item-type":"input",value:"N/A"})):(v(),D(ae,{key:1,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"]))]),U("td",null,[P(o,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{a.value.splice(e,1)})(u)},{default:x((()=>l[0]||(l[0]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",fl,[P(o,{size:"small",type:"primary",link:"",icon:"plus",onClick:u},{default:x((()=>l[1]||(l[1]=[S("添加")]))),_:1})])])])])),_:1})])}}}),gl={style:{width:"100%","margin-top":"5px"},class:"tab-table"},bl={width:"48%"},Vl={width:"48%"},kl={align:"left"},_l={name:"AffinityBlock"},Cl=Object.assign(_l,{props:{form:{default:function(){return{}},type:Object},namespaces_list:{default:function(){return[]},type:Array},type:{default:function(){return""},type:String}},setup(e,{expose:l}){const a=e,t=s([]),o=(e,l,a,o)=>{const u=a.namespaces||"",n=[];if(a.labelSelector.matchExpressions)for(const t of a.labelSelector.matchExpressions)n.push({key:t.key,operator:t.operator,value:t.values?t.values.join(","):null});const i=[];if(a.labelSelector.matchLabels)for(const t in a.labelSelector.matchLabels)Object.prototype.hasOwnProperty.call(a.labelSelector.matchLabels,t)&&i.push({key:t,value:a.labelSelector.matchLabels[t]});const s=a.topologyKey?a.topologyKey:"";t.value.push({type:e,priority:l,weight:parseInt(o)||null,namespaces:u||"",rules:n,labelRules:i,topologyKey:s})},u=s([]),n=s({}),i=s({}),r=s([{label:"亲和性",value:"Affinity"},{label:"反亲和性",value:"AntiAffinity"}]),d=s([{label:"优先",value:"Preferred"},{label:"必须",value:"Required"}]),p=s([]);(()=>{n.value=a.form,i.value=a.type;for(const e of a.namespaces_list)p.value.push(e.name);(e=>{if(e.podAffinity){if(e.podAffinity.requiredDuringSchedulingIgnoredDuringExecution){const l=e.podAffinity.requiredDuringSchedulingIgnoredDuringExecution;for(const e of l)o("Affinity","Required",e)}if(e.podAffinity.preferredDuringSchedulingIgnoredDuringExecution){const l=e.podAffinity.preferredDuringSchedulingIgnoredDuringExecution;for(const e of l)e.podAffinityTerm&&o("Affinity","Preferred",e.podAffinityTerm,e.weight)}}if(e.podAntiAffinity){if(e.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution){const l=e.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution;for(const e of l)o("AntiAffinity","Required",e)}if(e.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution){const l=e.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution;for(const e of l)e.podAffinityTerm&&o("AntiAffinity","Preferred",e.podAffinityTerm,e.weight)}}})(n.value),(e=>{if(e.nodeAffinity){if(e.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution){const l=e.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution;for(const e of l){const l=[];if(e.matchExpressions)for(const t of e.matchExpressions)l.push({key:t.key,operator:t.operator,value:t.values.join(",")});const a=[];if(e.matchFields)for(const t of e.matchFields)a.push({key:t.key,operator:t.operator,value:t.values.join(",")});u.value.push({priority:"Required",rules:l,fields:a})}}if(e.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution){const l=e.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution;for(const e of l){const l=[],a=[];if(e.preference){if(e.preference.matchExpressions)for(const a of e.preference.matchExpressions)l.push({key:a.key,operator:a.operator,value:a.values.join(",")});if(e.preference.matchFields)for(const l of e.preference.matchFields)a.push({key:l.key,operator:l.operator,value:l.values.join(",")})}u.value.push({priority:"Preferred",rules:l,fields:a,weight:e.weight||null})}}}})(n.value)})();const m=()=>{t.value.push({type:"Affinity",priority:"Preferred",namespaces:"",weight:1,rules:[],labelRules:[],topologyKey:""})},c=e=>{const l=[];if(0===e.length)return l;for(const a of e)a.value?l.push({key:a.key,operator:a.operator,values:a.value.split(",")}):l.push({key:a.key,operator:a.operator});return l},y=e=>{const l={};if(0===e.length)return l;for(let a=0;a<e.length;a++)""!==e[a].key&&(l[e[a].key]=e[a].value);return l};return l({transformationformat:async e=>{(e=>{if(e.affinity={},0!==t.value.length)for(const l of t.value){const a={};a.namespaces=l.namespaces&&0!==l.namespaces.length?l.namespaces:void 0,a.topologyKey=l.topologyKey||void 0;const t=c(l.rules),o=y(l.labelRules);switch(l.type+"+"+l.priority){case"Affinity+Required":e.affinity.podAffinity||(e.affinity.podAffinity={}),e.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution=[],a.labelSelector={matchExpressions:t,matchLabels:o},e.affinity.podAffinity.requiredDuringSchedulingIgnoredDuringExecution.push(a);break;case"Affinity+Preferred":e.affinity.podAffinity||(e.affinity.podAffinity={}),e.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution=[],a.podAffinityTerm={labelSelector:{matchExpressions:t,matchLabels:o}},a.weight=parseInt(l.weight),e.affinity.podAffinity.preferredDuringSchedulingIgnoredDuringExecution.push(a);break;case"Anti-Affinity+Required":e.affinity.podAntiAffinity||(e.affinity.podAntiAffinity={}),e.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution=[],a.labelSelector={matchExpressions:t,matchLabels:o},e.affinity.podAntiAffinity.requiredDuringSchedulingIgnoredDuringExecution.push(a);break;case"Anti-Affinity+Preferred":e.affinity.podAntiAffinity||(e.affinity.podAntiAffinity={}),e.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution=[],a.podAffinityTerm={labelSelector:{matchExpressions:t,matchLabels:o}},a.weight=parseInt(l.weight),e.affinity.podAntiAffinity.preferredDuringSchedulingIgnoredDuringExecution.push(a)}}if(e.nodeAffinity={},0!==u.value.length)for(const l of u.value){const a=c(l.rules),t=c(l.fields),o={};switch(l.priority){case"Preferred":e.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution=[],o.weight=parseInt(l.weight),o.preference={matchExpressions:a,matchFields:t},e.nodeAffinity.preferredDuringSchedulingIgnoredDuringExecution.push(o);break;case"Required":e.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution||(e.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution={}),e.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms=[],o.matchExpressions=a,o.matchFields=t,e.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.push(o)}}})(e)}}),(e,l)=>{const a=G,o=Y,n=W,i=B,s=$,c=Q;return v(),f("div",null,[P(c,{"label-position":"top"},{default:x((()=>[(v(!0),f(M,null,H(t.value,((e,u)=>(v(),f("div",{key:u},[P(s,{style:{"margin-top":"10px"}},{default:x((()=>[P(o,{type:"flex",justify:"end"},{default:x((()=>[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{t.value.splice(e,1)})(u)},{default:x((()=>l[1]||(l[1]=[S("删除")]))),_:2},1032,["onClick"])])),_:2},1024),P(o,{gutter:20},{default:x((()=>[P(i,{span:12},{default:x((()=>[P(n,{label:"类型"},{default:x((()=>[P(ae,{modelValue:e.type,"onUpdate:modelValue":l=>e.type=l,"item-type":"radio",radios:r.value},null,8,["modelValue","onUpdate:modelValue","radios"])])),_:2},1024)])),_:2},1024),P(i,{span:12},{default:x((()=>[P(n,{label:"优先级"},{default:x((()=>[P(ae,{modelValue:e.priority,"onUpdate:modelValue":l=>e.priority=l,"item-type":"radio",radios:d.value},null,8,["modelValue","onUpdate:modelValue","radios"])])),_:2},1024)])),_:2},1024)])),_:2},1024),P(o,{gutter:20},{default:x((()=>[P(i,{span:12},{default:x((()=>[P(n,{label:"Namespaces"},{default:x((()=>[P(ae,{modelValue:e.namespaces,"onUpdate:modelValue":l=>e.namespaces=l,style:{width:"100%"},"item-type":"select2",multiple:"",selections:p.value},null,8,["modelValue","onUpdate:modelValue","selections"])])),_:2},1024)])),_:2},1024),"Preferred"===e.priority?(v(),D(i,{key:0,span:12},{default:x((()=>[P(n,{label:"权重"},{default:x((()=>[P(ae,{modelValue:e.weight,"onUpdate:modelValue":l=>e.weight=l,"item-type":"number"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)):z("",!0)])),_:2},1024),l[4]||(l[4]=U("div",{style:{"margin-top":"20px"}},[U("span",null,"matchExpressions")],-1)),P(hl,{"match-tables":e.rules},null,8,["match-tables"]),l[5]||(l[5]=U("div",{style:{"margin-top":"20px"}},[U("span",null,"matchLabels")],-1)),U("table",gl,[(v(!0),f(M,null,H(e.labelRules,((t,o)=>(v(),f("tr",{key:o},[U("td",bl,[P(ae,{modelValue:t.key,"onUpdate:modelValue":e=>t.key=e,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",Vl,[P(ae,{modelValue:t.value,"onUpdate:modelValue":e=>t.value=e,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:l=>((e,l)=>{e.labelRules.splice(l,1)})(e,o)},{default:x((()=>l[2]||(l[2]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",kl,[P(a,{type:"primary",size:"small",link:"",icon:"plus",onClick:l=>{e.labelRules.push({key:"",value:""})}},{default:x((()=>l[3]||(l[3]=[S("添加")]))),_:2},1032,["onClick"])])])]),P(o,{style:{"margin-top":"10px"}},{default:x((()=>[P(i,{span:24},{default:x((()=>[P(n,{label:"拓扑键"},{default:x((()=>[P(ae,{modelValue:e.topologyKey,"onUpdate:modelValue":l=>e.topologyKey=l,"item-type":"input",placeholder:"topology.kubernetes.io/zone"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])))),128)),P(a,{size:"small",type:"primary",link:"",icon:"plus",onClick:m},{default:x((()=>l[6]||(l[6]=[S("添加Pod亲和性")]))),_:1}),(v(!0),f(M,null,H(u.value,((e,t)=>(v(),f("div",{key:t},[P(s,{style:{"margin-top":"10px"}},{default:x((()=>[P(o,{type:"flex",justify:"end"},{default:x((()=>[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{u.value.splice(e,1)})(t)},{default:x((()=>l[7]||(l[7]=[S("删除")]))),_:2},1032,["onClick"])])),_:2},1024),P(o,null,{default:x((()=>[P(i,{span:12},{default:x((()=>[P(n,{label:"优先级"},{default:x((()=>[P(ae,{modelValue:e.priority,"onUpdate:modelValue":l=>e.priority=l,"item-type":"radio",radios:d.value},null,8,["modelValue","onUpdate:modelValue","radios"])])),_:2},1024)])),_:2},1024),"Preferred"===e.priority?(v(),D(i,{key:0,span:12},{default:x((()=>[P(n,{label:"权重"},{default:x((()=>[P(ae,{modelValue:e.weight,"onUpdate:modelValue":l=>e.weight=l,"item-type":"number"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])),_:2},1024)):z("",!0)])),_:2},1024),l[8]||(l[8]=U("div",{style:{"margin-top":"20px"}},[U("span",null,"matchLabels")],-1)),P(hl,{"match-tables":e.rules},null,8,["match-tables"]),l[9]||(l[9]=U("div",{style:{"margin-top":"20px"}},[U("span",null,"matchFields")],-1)),P(hl,{"match-tables":e.fields},null,8,["match-tables"])])),_:2},1024)])))),128)),P(a,{size:"small",type:"primary",link:"",icon:"plus",onClick:l[0]||(l[0]=e=>{u.value.push({priority:"Preferred",weight:1,rules:[],fields:[]})})},{default:x((()=>l[10]||(l[10]=[S("添加Node亲和性")]))),_:1})])),_:1})])}}}),Ul={style:{width:"98%"},class:"tab-table"},Sl={align:"left"},wl={name:"TolerationsBlock"},Pl=Object.assign(wl,{props:{form:{default:function(){return{}},type:Object}},setup(e,{expose:l}){const a=e,t=s([]),o=s([{label:"Exists",value:"Exists"},{label:"=",value:"Equal"}]),u=s([{label:"不调度",value:"NoSchedule"},{label:"倾向与不调度",value:"PreferNoSchedule"},{label:"不执行",value:"NoExecute"}]);a.form.tolerations&&(t.value=a.form.tolerations);const n=()=>{t.value.push({key:"",operator:"",value:"",effect:"",tolerationSeconds:""})};return l({transformationformat:async e=>{(e=>{const l=[];for(const a of t.value)l.push({key:a.key||void 0,operator:a.operator||void 0,value:a.value||void 0,effect:a.effect||void 0,tolerationSeconds:a.tolerationSeconds||void 0});e.tolerations=0!==l.length?l:void 0})(e)}}),(e,l)=>{const a=G,i=Q;return v(),f("div",null,[P(i,null,{default:x((()=>[U("table",Ul,[l[2]||(l[2]=U("tr",null,[U("th",{scope:"col",width:"25%",align:"left"},[U("label",null,"键")]),U("th",{scope:"col",width:"10%",align:"left"},[U("label",null,"运算符")]),U("th",{scope:"col",width:"25%",align:"left"},[U("label",null,"值")]),U("th",{scope:"col",width:"16%",align:"left"},[U("label",null,"影响")]),U("th",{scope:"col",width:"15%",align:"left"},[U("label",null,"容忍时间(秒)")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(t.value,((e,n)=>(v(),f("tr",{key:n},[U("td",null,[P(ae,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.operator,"onUpdate:modelValue":l=>e.operator=l,"item-type":"select",selections:o.value},null,8,["modelValue","onUpdate:modelValue","selections"])]),U("td",null,["Exists"===e.operator?(v(),D(ae,{key:0,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,disabled:"",placeholder:"N/A","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])):z("",!0),"Exists"!==e.operator?(v(),D(ae,{key:1,modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])):z("",!0)]),U("td",null,[P(ae,{modelValue:e.effect,"onUpdate:modelValue":l=>e.effect=l,"item-type":"select",selections:u.value},null,8,["modelValue","onUpdate:modelValue","selections"])]),U("td",null,[P(ae,{modelValue:e.tolerationSeconds,"onUpdate:modelValue":l=>e.tolerationSeconds=l,modelModifiers:{number:!0},disabled:"NoExecute"!==e.effect,"item-type":"number","devider-name":"秒"},null,8,["modelValue","onUpdate:modelValue","disabled"])]),U("td",null,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{t.value.splice(e,1)})(n)},{default:x((()=>l[0]||(l[0]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Sl,[P(a,{size:"small",type:"primary",link:"",icon:"plus",onClick:n},{default:x((()=>l[1]||(l[1]=[S("添加容忍")]))),_:1})])])])])),_:1})])}}}),xl={key:0},Dl={style:{width:"100%","margin-top":"10px"},class:"tab-table"},Al={width:"90%"},jl={align:"left"},Nl={style:{width:"100%","margin-top":"10px"},class:"tab-table"},Tl={width:"90%"},El={align:"left"},Ol={style:{width:"100%","margin-top":"10px"},class:"tab-table"},Ll={align:"left"},Il={style:{width:"100%","margin-top":"10px"},class:"tab-table"},Ml={align:"left"},Hl={name:"NetworkingBlock"},zl=Object.assign(Hl,{props:{form:{default:function(){return{}},type:Object}},setup(e,{expose:l}){const a=e,t=s([]),o=s([{label:"Default",value:"Default"},{label:"ClusterFirst",value:"ClusterFirst"},{label:"None",value:"None"},{label:"ClusterFirstWithHostNet",value:"ClusterFirstWithHostNet"}]),u=s([{label:"是",value:!0},{label:"否",value:!1}]),n=s(!1);(()=>{if(a.form)if(t.value=a.form,t.value.hostIPC||(t.value.hostIPC=null),t.value.hostNetwork||(t.value.hostNetwork=null),t.value.hostPID||(t.value.hostPID=null),t.value.shareProcessNamespace||(t.value.shareProcessNamespace=null),t.value.subdomain||(t.value.subdomain=""),t.value.dnsPolicy||(t.value.dnsPolicy=""),t.value.hostname||(t.value.hostname=""),t.value.hostAliases||(t.value.hostAliases=[]),t.value.dnsConfig){if(t.value.dnsConfig.nameservers){const e=s([]);for(const l of t.value.dnsConfig.nameservers)e.value.push({value:l});t.value.dnsConfig.nameservers=e.value}else t.value.dnsConfig.nameservers=[];const e=s([]);if(t.value.dnsConfig.searches){for(const l of t.value.dnsConfig.searches)e.value.push({value:l});t.value.dnsConfig.searches=e.value}else t.value.dnsConfig.searches=[];t.value.dnsConfig.options||(t.value.dnsConfig.options=[])}else t.value.dnsConfig={nameservers:[],searches:[],options:[]};n.value=!0})();const i=()=>{t.value.dnsConfig.options.push({name:"",value:""})},r=()=>{t.value.dnsConfig.nameservers.push({value:""})},d=()=>{t.value.hostAliases.push({ip:"",hostnames:""})},p=()=>{t.value.dnsConfig.searches.push({value:""})},m=e=>{t.value.hostPID&&t.value.shareProcessNamespace&&(R({title:"提示",type:"warning",message:"shareProcessNamespace 和 hostPID 不能同时为 true"}),"hostPID"===e?t.value.hostPID=null:t.value.shareProcessNamespace=null)};return l({transformationformat:async e=>{(e=>{e.subdomain=t.value.subdomain||void 0,e.dnsPolicy=t.value.dnsPolicy||void 0,e.hostname=t.value.hostname||void 0,e.hostIPC=null===t.value.hostIPC?void 0:t.value.hostIPC,e.hostNetwork=null===t.value.hostNetwork?void 0:t.value.hostNetwork,e.hostPID=null===t.value.hostPID?void 0:t.value.hostPID,e.shareProcessNamespace=null===t.value.shareProcessNamespace?void 0:t.value.shareProcessNamespace;const l=[];if(t.value.hostAliases)for(const u of t.value.hostAliases)"string"==typeof u.hostnames&&l.push({ip:u.ip||void 0,hostnames:u.hostnames?u.hostnames.split(","):void 0}),"object"==typeof u.hostnames&&l.push({ip:u.ip||void 0,hostnames:Object.values(u.hostnames)||void 0});e.hostAliases=0!==l.length?l:void 0;const a=[];for(const u of t.value.dnsConfig.nameservers)a.push(u.value);const o=[];for(const u of t.value.dnsConfig.searches)o.push(u.value);e.dnsConfig=e.dnsConfig||{nameservers:0!==a.length?a:void 0,searches:0!==o.length?o:void 0,options:0!==t.value.dnsConfig.options.length?t.value.dnsConfig.options:void 0}})(e)}}),(l,a)=>{const s=W,c=B,y=Y,h=G,g=Q;return n.value?(v(),f("div",xl,[P(g,{"label-position":"top",model:e.form},{default:x((()=>[P(y,{gutter:20},{default:x((()=>[P(c,{span:24},{default:x((()=>[P(s,{label:"DNS 策略",prop:"dnsPolicy"},{default:x((()=>[P(ae,{modelValue:t.value.dnsPolicy,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value.dnsPolicy=e),"item-type":"radio",radios:o.value},null,8,["modelValue","radios"])])),_:1})])),_:1})])),_:1}),P(y,{gutter:20},{default:x((()=>[P(c,{span:6},{default:x((()=>[P(s,{label:"hostIPC",prop:"hostIPC"},{default:x((()=>[P(ae,{modelValue:t.value.hostIPC,"onUpdate:modelValue":a[1]||(a[1]=e=>t.value.hostIPC=e),"item-type":"radio",radios:u.value},null,8,["modelValue","radios"])])),_:1})])),_:1}),P(c,{span:6},{default:x((()=>[P(s,{label:"hostNetwork",prop:"hostNetwork"},{default:x((()=>[P(ae,{modelValue:t.value.hostNetwork,"onUpdate:modelValue":a[2]||(a[2]=e=>t.value.hostNetwork=e),"item-type":"radio",radios:u.value},null,8,["modelValue","radios"])])),_:1})])),_:1}),P(c,{span:6},{default:x((()=>[P(s,{label:"hostPID",prop:"hostPID"},{default:x((()=>[P(ae,{modelValue:t.value.hostPID,"onUpdate:modelValue":a[3]||(a[3]=e=>t.value.hostPID=e),"item-type":"radio",radios:u.value,onChange:a[4]||(a[4]=e=>m("hostPID"))},null,8,["modelValue","radios"])])),_:1})])),_:1}),P(c,{span:6},{default:x((()=>[P(s,{label:"shareProcessNamespace",prop:"shareProcessNamespace"},{default:x((()=>[P(ae,{modelValue:t.value.shareProcessNamespace,"onUpdate:modelValue":a[5]||(a[5]=e=>t.value.shareProcessNamespace=e),"item-type":"radio",radios:u.value,onChange:a[6]||(a[6]=e=>m("shareProcessNamespace"))},null,8,["modelValue","radios"])])),_:1})])),_:1})])),_:1}),P(y,{gutter:20},{default:x((()=>[P(c,{span:12},{default:x((()=>[a[11]||(a[11]=U("span",null,"服务器地址",-1)),U("table",Dl,[(v(!0),f(M,null,H(t.value.dnsConfig.nameservers,((e,l)=>(v(),f("tr",{key:l},[U("td",Al,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. 1.1.1.1","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(h,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{t.value.dnsConfig.nameservers.splice(e,1)})(l)},{default:x((()=>a[9]||(a[9]=[S(" 删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",jl,[P(h,{size:"small",type:"primary",link:"",icon:"plus",onClick:r},{default:x((()=>a[10]||(a[10]=[S("添加服务器地址")]))),_:1})])])])])),_:1}),P(c,{span:12},{default:x((()=>[a[14]||(a[14]=U("span",null,"搜索域",-1)),U("table",Nl,[(v(!0),f(M,null,H(t.value.dnsConfig.searches,((e,l)=>(v(),f("tr",{key:l},[U("td",Tl,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. mycompany.com","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(h,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{t.value.dnsConfig.searches.splice(e,1)})(l)},{default:x((()=>a[12]||(a[12]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",El,[P(h,{size:"small",type:"primary",link:"",icon:"plus",onClick:p},{default:x((()=>a[13]||(a[13]=[S("添加搜索域")]))),_:1})])])])])),_:1})])),_:1}),P(y,{gutter:20},{default:x((()=>[P(c,{span:12},{default:x((()=>[a[18]||(a[18]=U("span",null,"DNS 解析",-1)),U("table",Ol,[a[17]||(a[17]=U("tr",null,[U("th",{scope:"col",width:"43%",align:"left"},[U("label",null,"键")]),U("th",{scope:"col",width:"43%",align:"left"},[U("label",null,"值")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(t.value.dnsConfig.options,((e,l)=>(v(),f("tr",{key:l},[U("td",null,[P(ae,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,placeholder:"e.g. foo","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"e.g. bar","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(h,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{t.value.dnsConfig.options.splice(e,1)})(l)},{default:x((()=>a[15]||(a[15]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Ll,[P(h,{size:"small",type:"primary",link:"",icon:"plus",onClick:i},{default:x((()=>a[16]||(a[16]=[S("添加DNS解析")]))),_:1})])])])])),_:1}),P(c,{span:12},{default:x((()=>[a[22]||(a[22]=U("span",null,"主机别名",-1)),U("table",Il,[a[21]||(a[21]=U("tr",null,[U("th",{scope:"col",width:"43%",align:"left"},[U("label",null,"IP 地址")]),U("th",{scope:"col",width:"43%",align:"left"},[U("label",null,"主机别名")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(t.value.hostAliases,((e,l)=>(v(),f("tr",{key:l},[U("td",null,[P(ae,{modelValue:e.ip,"onUpdate:modelValue":l=>e.ip=l,placeholder:"e.g. 1.1.1.1","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(ae,{modelValue:e.hostnames,"onUpdate:modelValue":l=>e.hostnames=l,placeholder:"e.g. foo.com,bar.com","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(h,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{t.value.hostAliases.splice(e,1)})(l)},{default:x((()=>a[19]||(a[19]=[S(" 删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Ml,[P(h,{size:"small",type:"primary",link:"",icon:"plus",onClick:d},{default:x((()=>a[20]||(a[20]=[S("添加主机别名")]))),_:1})])])])])),_:1})])),_:1}),P(y,{gutter:20,style:{"margin-top":"20px"}},{default:x((()=>[P(c,{span:12},{default:x((()=>[P(s,{label:"主机名",prop:"hostname"},{default:x((()=>[P(ae,{modelValue:t.value.hostname,"onUpdate:modelValue":a[7]||(a[7]=e=>t.value.hostname=e),style:{width:"100%"},placeholder:"hostname","item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1}),P(c,{span:12},{default:x((()=>[P(s,{label:"域名",prop:"subdomain"},{default:x((()=>[P(ae,{modelValue:t.value.subdomain,"onUpdate:modelValue":a[8]||(a[8]=e=>t.value.subdomain=e),style:{width:"100%"},placeholder:"subdomain","item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])):z("",!0)}}}),Gl={name:"OthersBlock"},ql=Object.assign(Gl,{props:{form:{default:function(){return{}},type:Object},serviceaccountsList:{default:function(){return[]},type:Array},secretList:{default:function(){return[]},type:Array},type:{default:function(){return""},type:String}},setup(e,{expose:l}){const a=e,t=()=>"jobs"===u.value||"cronjobs"===u.value,o=s([]),u=s(""),n=s([{label:"Always",value:"Always"}]),i=s([{label:"OnFailure",value:"OnFailure"},{label:"Never",value:"Never"}]),r=s([]),d=s([]);r.value=a.secretList,d.value=a.serviceaccountsList,a.form&&(o.value=a.form,u.value=a.type,o.value.restartPolicy||(o.value.restartPolicy=""));return l({transformationformat:async(e,l)=>{((e,l)=>{e.restartPolicy=o.value.restartPolicy||void 0,e.serviceAccountName=o.value.serviceAccountName||void 0,e.terminationGracePeriodSeconds=o.value.terminationGracePeriodSeconds||void 0;const a=[];if(o.value.imagePullSecrets)for(const t of o.value.imagePullSecrets)a.push({name:t});l.labels,e.imagePullSecrets=0!==a.length?a:void 0})(e,l)}}),(e,l)=>{const a=W,u=B,s=Y,p=Q;return v(),f("div",null,[P(p,{ref:"form","label-position":"top",model:o.value},{default:x((()=>[P(s,{gutter:20},{default:x((()=>[P(u,{span:12},{default:x((()=>[P(a,{label:"重启策略",prop:"restartPolicy"},{default:x((()=>[E(P(ae,{modelValue:o.value.restartPolicy,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value.restartPolicy=e),style:{width:"100%"},"item-type":"radio",radios:i.value},null,8,["modelValue","radios"]),[[O,t()]]),E(P(ae,{modelValue:o.value.restartPolicy,"onUpdate:modelValue":l[1]||(l[1]=e=>o.value.restartPolicy=e),style:{width:"100%"},"item-type":"radio",radios:n.value},null,8,["modelValue","radios"]),[[O,!t()]])])),_:1})])),_:1}),P(u,{span:12},{default:x((()=>[P(a,{label:"终止宽限期(秒)",prop:"terminationGracePeriodSeconds"},{default:x((()=>[P(ae,{modelValue:o.value.terminationGracePeriodSeconds,"onUpdate:modelValue":l[2]||(l[2]=e=>o.value.terminationGracePeriodSeconds=e),modelModifiers:{number:!0},style:{width:"100%"},"devider-name":"秒","item-type":"number"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),P(s,{gutter:20},{default:x((()=>[P(u,{span:12},{default:x((()=>[P(a,{label:"拉取密钥",prop:"imagePullSecrets"},{default:x((()=>[P(ae,{modelValue:o.value.imagePullSecrets,"onUpdate:modelValue":l[3]||(l[3]=e=>o.value.imagePullSecrets=e),style:{width:"100%"},"item-type":"select2",multiple:"",selections:r.value},null,8,["modelValue","selections"])])),_:1})])),_:1}),P(u,{span:12},{default:x((()=>[P(a,{label:"服务账号",prop:"serviceAccountName"},{default:x((()=>[P(ae,{modelValue:o.value.serviceAccountName,"onUpdate:modelValue":l[4]||(l[4]=e=>o.value.serviceAccountName=e),style:{width:"100%"},"item-type":"select2",selections:d.value},null,8,["modelValue","selections"])])),_:1})])),_:1})])),_:1})])),_:1},8,["model"])])}}}),Rl={key:1},Fl={name:"NodeselectorBlock"},Kl=Object.assign(Fl,{props:{form:{default:function(){return{}},type:Object},cluster:{default:function(){return 0},type:Number}},setup(e,{expose:l}){const a=e,t=()=>{if(d.value="",""===p.value)return void(d.value=o.value.join(","));const e=[];for(const l of m.value){let a=!1;for(const e in l.metadata.labels)if(Object.prototype.hasOwnProperty.call(l.metadata.labels,e)&&p.value===e+" : "+(l.metadata.labels[e]||"")){a=!0;break}a&&e.push(l.metadata.name)}d.value=e.join(",")},o=s([]),u=s([]),n=s([{label:"任意可用节点",value:"anyNode"},{label:"指定节点",value:"specificNode"},{label:"调度规则匹配",value:"nodeSelector"}]),i=s("anyNode"),r=s(""),d=s(""),p=s(""),m=s([]),c=s(),y=s([]);(()=>{if(y.value=a.form,c.value=a.cluster,y.value.nodeSelector){for(const e in y.value.nodeSelector)Object.prototype.hasOwnProperty.call(y.value.nodeSelector,e)&&(p.value=e+":"+y.value.nodeSelector[e]);i.value="nodeSelector"}else y.value.nodeName?(i.value="specificNode",r.value=y.value.nodeName):i.value="anyNode";(async()=>{const e=await ue({cluster_id:c.value});if(0===e.code&&(m.value=e.data.items,e.data.items))for(const l of e.data.items){o.value.push(l.metadata.name);for(const e in l.metadata.labels)Object.prototype.hasOwnProperty.call(l.metadata.labels,e)&&u.value.push(e+":"+(l.metadata.labels[e]||""))}u.value=u.value.filter(((e,l)=>u.value.indexOf(e)===l)),t()})()})();return l({transformationformat:async e=>{(e=>{"specificNode"===i.value&&(e.nodeName=r.value||void 0),"nodeSelector"===i.value&&(e.nodeSelector={},-1!==p.value.indexOf(" : ")&&(e.nodeSelector[p.value.split(" : ")[0]]=p.value.split(" : ")[1]))})(e)}}),(e,l)=>{const a=W,s=B,m=Y,c=Q;return v(),f("div",null,[P(c,{ref:"form","label-position":"top"},{default:x((()=>[P(m,null,{default:x((()=>[P(s,{span:24},{default:x((()=>[P(a,{label:"调度类型"},{default:x((()=>[P(ae,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),style:{width:"100%"},"item-type":"radio",radios:n.value},null,8,["modelValue","radios"])])),_:1})])),_:1})])),_:1}),"specificNode"===i.value?(v(),D(m,{key:0},{default:x((()=>[P(s,{span:24},{default:x((()=>[P(a,{label:"节点名称"},{default:x((()=>[P(ae,{modelValue:r.value,"onUpdate:modelValue":l[1]||(l[1]=e=>r.value=e),style:{width:"100%"},"item-type":"select2",selections:o.value},null,8,["modelValue","selections"])])),_:1})])),_:1})])),_:1})):z("",!0),"nodeSelector"===i.value?(v(),f("div",Rl,[P(m,{gutter:20},{default:x((()=>[P(s,{span:12},{default:x((()=>[P(a,{label:"节点名称"},{default:x((()=>[P(ae,{modelValue:d.value,"onUpdate:modelValue":l[2]||(l[2]=e=>d.value=e),style:{width:"100%"},"item-type":"input",disabled:""},null,8,["modelValue"])])),_:1})])),_:1}),P(s,{span:12},{default:x((()=>[P(a,{label:"值"},{default:x((()=>[P(ae,{modelValue:p.value,"onUpdate:modelValue":l[3]||(l[3]=e=>p.value=e),style:{width:"100%"},"item-type":"select2",selections:u.value,onChange:t},null,8,["modelValue","selections"])])),_:1})])),_:1})])),_:1})])):z("",!0)])),_:1},512)])}}});function Jl(e){const l=[];if(e)for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&l.push({key:a,value:e[a]});return l}function Bl(e){const l={};for(let a=0;a<e.length;a++)""!==e[a].key&&(l[e[a].key]=e[a].value);return l}const Yl={style:{width:"100%"},class:"tab-table"},$l={width:"48%"},Wl={width:"48%"},Ql={width:"4%"},Xl={align:"left"},Zl={style:{width:"100%"},class:"tab-table"},ea={width:"48%"},la={width:"48%"},aa={width:"4%"},ta={align:"left"},oa={style:{width:"100%"},class:"tab-table"},ua={width:"48%"},na={width:"48%"},ia={width:"4%"},sa={align:"left"},ra={name:"KVTableBlock"},da=Object.assign(ra,{props:{form:{default:function(){return{}},type:Object},operation:{default:function(){return 0},type:String},readonly:{default:function(){return!1},type:Boolean}},setup(e,{expose:l}){const a=e,t=s({}),o=s([]),u=s([]),n=s([]),i=s(""),r=s(!1);t.value=a.form,i.value=a.operation,r.value=a.readonly,a.form.metadata&&a.form.metadata.labels&&(u.value=Jl(a.form.metadata.labels)),a.form.metadata&&a.form.metadata.annotations&&(o.value=Jl(a.form.metadata.annotations)),a.form.spec.selector&&a.form.spec.selector.matchLabels&&(n.value=Jl(a.form.spec.selector.matchLabels));const d=(e,l)=>{e.splice(l,1)},p=e=>{e.push({key:"",value:""})};return l({transformationformat:async(e,l)=>{((e,l)=>{if(l.labels||(l.labels={}),"create"===i.value){const a=Bl(u.value);e.spec.selector={matchLabels:{}};for(const t in a)l.labels[t]=a[t],e.metadata.labels[t]=a[t],e.spec.selector.matchLabels[t]=a[t];return void(e.metadata.annotations=Bl(o.value))}const a=Bl(n.value);e.spec.selector={matchLabels:{}};for(const t in a)l.labels[t]=a[t],e.spec.selector.matchLabels[t]=a[t];e.metadata.labels=Bl(u.value),e.metadata.annotations=Bl(o.value)})(e,l)}}),(e,l)=>{const a=G,t=W,s=Q;return v(),f("div",null,[P(s,null,{default:x((()=>[P(t,{label:"注解"},{default:x((()=>[U("table",Yl,[(v(!0),f(M,null,H(o.value,((e,t)=>(v(),f("tr",{key:t},[U("td",$l,[P(ae,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"请输入键","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",Wl,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"请输入值","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",Ql,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>d(o.value,t)},{default:x((()=>l[3]||(l[3]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",Xl,[P(a,{size:"small",type:"primary",link:"",icon:"Plus",onClick:l[0]||(l[0]=e=>p(o.value))},{default:x((()=>l[4]||(l[4]=[S("添加")]))),_:1})])])])])),_:1}),P(t,{label:"标签"},{default:x((()=>[U("table",Zl,[(v(!0),f(M,null,H(u.value,((e,t)=>(v(),f("tr",{key:t},[U("td",ea,[P(ae,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"请输入键","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",la,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"请输入值","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",aa,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>d(u.value,t)},{default:x((()=>l[5]||(l[5]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",ta,[P(a,{size:"small",type:"primary",link:"",icon:"Plus",onClick:l[1]||(l[1]=e=>p(u.value))},{default:x((()=>l[6]||(l[6]=[S("添加")]))),_:1})])])])])),_:1}),"create"===i.value?(v(),D(t,{key:0,label:"标签选择器"},{default:x((()=>[P(oe,{title:"注：标签选择器的键值，必须为基于标签等值或者集合"}),U("table",oa,[(v(!0),f(M,null,H(n.value,((e,t)=>(v(),f("tr",{key:t},[U("td",ua,[P(ae,{modelValue:e.key,"onUpdate:modelValue":l=>e.key=l,placeholder:"请输入键","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",na,[P(ae,{modelValue:e.value,"onUpdate:modelValue":l=>e.value=l,placeholder:"请输入值","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",ia,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>d(n.value,t)},{default:x((()=>l[7]||(l[7]=[S("删除")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",sa,[P(a,{size:"small",type:"primary",link:"",icon:"Plus",onClick:l[2]||(l[2]=e=>p(n.value))},{default:x((()=>l[8]||(l[8]=[S("添加")]))),_:1})])])])])),_:1})):z("",!0)])),_:1})])}}}),pa={name:"NamespaceSelectBlock",emits:{enter:e=>1===e.length}},ma=Object.assign(pa,{props:{namespace_list:{default:function(){return[]},type:Array},namespace:{default:function(){return""},type:String}},emits:["enter"],setup(e,{emit:l}){const a=l,t=e,o=s(""),u=s([]);o.value=t.namespace,u.value=t.namespace_list;const n=e=>{a("enter",e)};return(e,l)=>{const a=X,t=Z;return v(),D(t,{modelValue:o.value,"onUpdate:modelValue":l[0]||(l[0]=e=>o.value=e),filterable:"",onChange:n},{default:x((()=>[(v(!0),f(M,null,H(u.value,(e=>(v(),D(a,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])}}}),ca={style:{"margin-top":"20px"}},va={key:2,style:{width:"98%"},class:"tab-table"},fa={align:"left"},ya={key:4},ha={key:5},ga={name:"Volume"},ba=Object.assign(ga,{props:{form:{default:function(){return{}},type:Object},type:{default:function(){return""},type:String},configmaplist:{default:function(){return[]},type:Array},pvclist:{default:function(){return[]},type:Array},secretlist:{default:function(){return[]},type:Array}},emits:["loadVolumes"],setup(e,{expose:l,emit:a}){const t=a,o=e,u=s([]),n=s([]),i=s([]),d=s([]),p=s([]);r((()=>o.configmaplist),(()=>{n.value=o.configmaplist;for(const e of o.configmaplist)u.value.push(e.metadata.name)})),r((()=>o.secretlist),(()=>{i.value=o.secretlist;for(const e of o.secretlist)d.value.push(e.metadata.name)})),r((()=>o.pvclist),(()=>{for(const e of o.pvclist)p.value.push(e.metadata.name)}));const m=e=>e.configMap||e.secret||e.persistentVolumeClaim||e.emptyDir||e.nfs||e.hostPath,c=s({}),y=s([]),h=s([{label:"NFS",value:"NFS"},{label:"PVC",value:"PVC"},{label:"EmptyDir",value:"EmptyDir"},{label:"HostPath",value:"HostPath"},{label:"ConfigMap",value:"ConfigMap"},{label:"Secret",value:"Secret"}]),g=s([{label:"是",value:!0},{label:"否",value:!1}]),b=s(["DirectoryOrCreate","Directory","FileOrCreate","File","Socket","CharDevice","BlockDevice"]),V=s(""),k=s([]);(()=>{c.value=o.form,V.value=o.type,k.value=[],i.value=[],n.value=[],p.value=[],i.value=o.secretlist;for(const e of o.secretlist)d.value.push(e.metadata.name);n.value=o.configmaplist;for(const e of o.configmaplist)u.value.push(e.metadata.name);for(const e of o.pvclist)p.value.push(e.metadata.name);if(c.value.volumes){for(const e of c.value.volumes)if(m(e)){const l={};e.name&&(l.name=e.name);let a={};e.configMap&&(l.type="ConfigMap",a=e.configMap,l.items=e.configMap.items||[]),e.secret&&(l.type="Secret",a=e.secret,l.items=e.secret.items||[],l.resource=e.secret.secretName),e.persistentVolumeClaim&&(l.type="PVC",a.name=e.persistentVolumeClaim.claimName),e.emptyDir&&(l.type="EmptyDir",a={}),e.nfs&&(l.type="NFS",a=e.nfs),e.hostPath&&(l.type="HostPath",a=e.hostPath),a.defaultMode&&(l.defaultMode=a.defaultMode.toString(8)),void 0!==a.optional&&(l.optional=a.optional),a.name&&(l.resource=a.name),a.path&&(l.path=a.path),a.server&&(l.server=a.server),a.type&&(l.hostType=a.type),k.value.push(l)}t("loadVolumes","volume",k.value,[])}})();const _=e=>"ConfigMap"===e||"PVC"===e||"Secret"===e,C=e=>"ConfigMap"===e||"Secret"===e,A=e=>"ConfigMap"===e||"Secret"===e,j=()=>{t("loadVolumes","volume",k.value,[])};return l({transformationformat:async e=>{(e=>{e.volumes||(e.volumes=[]),e.volumes=e.volumes.filter((e=>!m(e)));for(const l of k.value){const a={},t={};switch(a.name=l.name||void 0,t.defaultMode=l.defaultMode?parseInt("0"+l.defaultMode.toString(),8):void 0,t.optional=null!==l.optional?l.optional:void 0,t.path=l.path||void 0,t.server=l.server||void 0,t.type=l.hostType||void 0,l.type){case"ConfigMap":0!==l.items.length&&(a.items=l.items),a.configMap=t,a.configMap.name=l.resource||void 0,a.configMap.items=a.items,delete a.items;break;case"Secret":0!==l.items.length&&(a.items=l.items),a.secret=t,a.secret.secretName=l.resource||void 0,a.secret.items=a.items,delete a.items;break;case"PVC":a.persistentVolumeClaim=t,a.persistentVolumeClaim.claimName=l.resource||void 0;break;case"EmptyDir":a.emptyDir={};break;case"NFS":a.nfs=t;break;case"HostPath":a.hostPath=t}e.volumes.push(a)}})(e)}}),(e,l)=>{const a=G,o=W,s=Q,r=we,m=Se,c=ne,V=ie,N=se,T=B,E=Y;return v(),f("div",ca,[P(m,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e)},{default:x((()=>[(v(!0),f(M,null,H(k.value,((e,m)=>(v(),D(r,{key:m,style:{"margin-top":"10px"},title:e.name+"("+e.type+")",name:m},{default:x((()=>[P(s,{"label-position":"top"},{default:x((()=>{return[P(a,{type:"danger",link:"",icon:"delete",size:"small",style:{float:"right","margin-top":"5px","margin-right":"20px",padding:"3px 0"},onClick:e=>(e=>{k.value.splice(e,1),y.value=k.value.length-1,t("loadVolumes","volume",k.value,[])})(m)},{default:x((()=>l[1]||(l[1]=[S("删除")]))),_:2},1032,["onClick"]),P(o,{label:"卷名称"},{default:x((()=>[P(ae,{modelValue:e.name,"onUpdate:modelValue":l=>e.name=l,"item-type":"input",onChange:j},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),(s=e.type,"ConfigMap"===s||"Secret"===s?(v(),D(o,{key:0,label:"默认模式"},{default:x((()=>[P(ae,{modelValue:e.defaultMode,"onUpdate:modelValue":l=>e.defaultMode=l,modelModifiers:{number:!0},"item-type":"number",placeholder:"644"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)):z("",!0)),_(e.type)?(v(),D(o,{key:1,label:e.type},{default:x((()=>["ConfigMap"===e.type?(v(),D(ae,{key:0,modelValue:e.resource,"onUpdate:modelValue":l=>e.resource=l,"item-type":"select2",selections:u.value,onChange:l=>(e=>{e.options=[];for(const l of n.value)if(e.resource===l.metadata.name)for(const a of Object.keys(l.data))e.options.push(a)})(e)},null,8,["modelValue","onUpdate:modelValue","selections","onChange"])):z("",!0),"Secret"===e.type?(v(),D(ae,{key:1,modelValue:e.resource,"onUpdate:modelValue":l=>e.resource=l,"item-type":"select2",selections:d.value,onChange:l=>(e=>{e.options=[];for(const l of i.value)if(e.resource===l.metadata.name)for(const a of Object.keys(l.data))e.options.push(a)})(e)},null,8,["modelValue","onUpdate:modelValue","selections","onChange"])):z("",!0),"PVC"===e.type?(v(),D(ae,{key:2,modelValue:e.resource,"onUpdate:modelValue":l=>e.resource=l,"item-type":"select2",selections:p.value},null,8,["modelValue","onUpdate:modelValue","selections"])):z("",!0)])),_:2},1032,["label"])):z("",!0),C(e.type)?(v(),f("table",va,[l[4]||(l[4]=U("tr",null,[U("th",{scope:"col",width:"43%",align:"left"},[U("label",null,"键")]),U("th",{scope:"col",width:"43%",align:"left"},[U("label",null,"映射目标路径")]),U("th",{align:"left"})],-1)),(v(!0),f(M,null,H(e.items,((t,o)=>(v(),f("tr",{key:o},[U("td",null,[P(ae,{modelValue:t.key,"onUpdate:modelValue":e=>t.key=e,"item-type":"select2",selections:e.options},null,8,["modelValue","onUpdate:modelValue","selections"])]),U("td",null,[P(ae,{modelValue:t.path,"onUpdate:modelValue":e=>t.path=e,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),U("td",null,[P(a,{type:"danger",link:"",icon:"delete",size:"small",onClick:l=>((e,l)=>{e.items.splice(l,1)})(e,o)},{default:x((()=>l[2]||(l[2]=[S("删除 ")]))),_:2},1032,["onClick"])])])))),128)),U("tr",null,[U("td",fa,[P(a,{size:"small",type:"primary",link:"",icon:"plus",onClick:l=>{e.items.push({key:"",path:""})}},{default:x((()=>l[3]||(l[3]=[S("添加")]))),_:2},1032,["onClick"])])])])):z("",!0),A(e.type)?(v(),D(o,{key:3,label:"Optional"},{default:x((()=>[P(ae,{modelValue:e.optional,"onUpdate:modelValue":l=>e.optional=l,"item-type":"radio",radios:g.value},null,8,["modelValue","onUpdate:modelValue","radios"])])),_:2},1024)):z("",!0),"NFS"===e.type?(v(),f("div",ya,[P(o,{label:"Path"},{default:x((()=>[P(ae,{modelValue:e.path,"onUpdate:modelValue":l=>e.path=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),P(o,{label:"Server"},{default:x((()=>[P(ae,{modelValue:e.server,"onUpdate:modelValue":l=>e.server=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024)])):z("",!0),"HostPath"===e.type?(v(),f("div",ha,[P(o,{label:"路径或节点"},{default:x((()=>[P(ae,{modelValue:e.path,"onUpdate:modelValue":l=>e.path=l,"item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])])),_:2},1024),P(o,{label:"类型"},{default:x((()=>[P(ae,{modelValue:e.hostType,"onUpdate:modelValue":l=>e.hostType=l,"item-type":"select2",selections:b.value},null,8,["modelValue","onUpdate:modelValue","selections"])])),_:2},1024)])):z("",!0)];var s})),_:2},1024)])),_:2},1032,["title","name"])))),128))])),_:1},8,["modelValue"]),P(E,{style:{"margin-top":"10px"}},{default:x((()=>[P(T,{span:12},{default:x((()=>[P(N,null,{dropdown:x((()=>[P(V,{slot:"dropdown"},{default:x((()=>[(v(!0),f(M,null,H(h.value,((e,l)=>(v(),D(c,{key:l,command:e.value,onClick:l=>{return a=e.value,k.value.push({type:a,name:"",resource:"",defaultMode:null,optional:null,path:null,server:null,hostType:null,options:[],items:[]}),y.value=k.value.length-1,void t("loadVolumes","volume",k.value,[]);var a}},{default:x((()=>[S(w(e.label),1)])),_:2},1032,["command","onClick"])))),128))])),_:1})])),default:x((()=>[P(a,{size:"small",type:"primary",link:"",icon:"ArrowDown"},{default:x((()=>l[5]||(l[5]=[S("添加")]))),_:1})])),_:1})])),_:1})])),_:1})])}}});function Va(e,l,a){return l.length<2?a(new Error("输入名称小于2个字符，不符合规范！")):l.length>253?a(new Error("输入名称大于于253个字符，不符合规范！")):/^[a-z0-9]([-a-z0-9]*[a-z0-9])?(\.[a-z0-9]([-a-z0-9]*[a-z0-9])?)*$/.test(l)?a():a(new Error("请输入正确的格式, 必须包含小写字母数字字符，'-'或'.'，并且必须以字母数字字符开头和结尾。"))}const ka={class:"grid-content bg-purple-light"},_a={style:{float:"right","margin-top":"10px"}},Ca={name:"CreateBlock",emits:{close:()=>!0,enter:e=>1===e.length}},Ua=Object.assign(Ca,{props:{form:{default:function(){return{}},type:Object},cluster:{default:function(){return 0},type:Number},type:{default:function(){return 0},type:String},readOnly:{default:function(){return!1},type:Boolean},operation:{default:function(){return 0},type:String}},emits:["close","enter"],setup(e,{emit:l}){const a=l,t=e,o=F({"metadata.name":[{validator:Va,required:!0,trigger:"blur"}],"metadata.namespace":[{required:!0,trigger:"blur",message:"请选择命名空间"}],"spec.replicas":[{required:!0,trigger:"blur",type:"number",min:1,max:10,message:"请输入1 ~ 10数字"}]}),u=s([]),n=s([]),i=s([]),r=s([]),d=s([]),p=async e=>{await(async e=>{const l=await pe({cluster_id:k.value,namespace:e});0===l.code&&(l.data.items.forEach((e=>{u.value.push(e.metadata.name)})),n.value=l.data.items)})(e),await(async e=>{const l=await me({cluster_id:k.value,namespace:e});0===l.code&&l.data.items.forEach((e=>{i.value.push(e.metadata.name)}))})(e),await(async e=>{const l=await ve({cluster_id:k.value,namespace:e});0===l.code&&(r.value=l.data.items)})(e),await(async e=>{d.value=[];const l=await fe({cluster_id:k.value,namespace:e});0===l.code&&(d.value=l.data.items)})(e)},m=s([]),c=async e=>{const l=await ce({id:e});if(0===l.code){m.value=[];for(const e of l.data.namespaces){const l={id:Math.random(),name:e};m.value.push(l)}}},y=()=>"cronjobs"===_.value,h=s({}),g=s(""),b=s(""),V=s(!1),k=s(0),_=s(""),C=s(""),w=s(!1),A=s(0),j=s("standardContainers"),N=s({}),T=s(!1),E=s("General"),O=s({containers:[]}),L=s({});(async()=>{h.value=t.form,g.value="Container",b.value="upgrade",V.value=t.readOnly,k.value=t.cluster,_.value=t.type,C.value=t.operation,y()?(O.value=h.value.spec.jobTemplate.spec.template.spec,L.value=h.value.spec.jobTemplate.spec.template.metadata,h.value.spec.jobTemplate&&(0===h.value.spec.jobTemplate.spec.template.spec.containers.length?(h.value.spec.jobTemplate.spec.template.spec.containers=[{name:"container-0",image:"nginx:latest",imagePullPolicy:"Always"}],N.value=h.value.spec.jobTemplate.spec.template.spec.containers[0]):N.value=h.value.spec.jobTemplate.spec.template.spec.containers[0])):(O.value=h.value.spec.template.spec,L.value=h.value.spec.template.metadata,h.value.spec&&(0===h.value.spec.template.spec.containers.length?(h.value.spec.template.spec.containers=[{name:"container-0",image:"nginx:latest",imagePullPolicy:"Always"}],N.value=h.value.spec.template.spec.containers[0]):N.value=h.value.spec.template.spec.containers[0])),h.value.metadata&&(h.value.metadata.namespace?(await p(h.value.metadata.namespace),await c(k.value)):await c(k.value)),w.value=!0})();const I=s(null),M=()=>{I.value.resetFields(),a("close")},H=async()=>{await oe.value.transformationformat(N.value),await ue.value.transformationformat(N.value),await ne.value.transformationformat(N.value),await de.value.transformationformat(N.value),Ue()&&(await ie.value.transformationformat(N.value),await re.value.transformationformat(N.value),await se.value.transformationformat(N.value))},q=s(null),R=s(null),X=s(null),Z=s(null),ee=s(null),le=s(null),te=s(null),oe=s(null),ue=s(null),ne=s(null),ie=s(null),se=s(null),re=s(null),de=s(null),ye=s(null),he=s(null),ge=async()=>{I.value.validate((async e=>{e&&(h.value.metadata&&await q.value.transformationformat(h.value,L.value),Ve()||y()?await he.value.transformationformat(h.value.spec):await R.value.transformationformat(h.value.spec),await X.value.transformationformat(O.value),await Z.value.transformationformat(O.value),await ee.value.transformationformat(O.value),await le.value.transformationformat(O.value,L.value),await te.value.transformationformat(O.value),await ye.value.transformationformat(O.value),y()&&(delete h.value.spec.template,h.value.spec.jobTemplate.spec.template={spec:O.value,metadata:L.value}),await H(),a("enter",h.value))}))},be=async e=>{h.value.metadata&&(h.value.metadata.namespace=e,await p(e))},Ve=()=>"jobs"===_.value,ke=async(e,l,a)=>{await H(),A.value=l,j.value=e,N.value=a,T.value=!T.value},_e=(e,l)=>{"initContainers"===e&&(h.value.spec.template.spec.initContainers||(h.value.spec.template.spec.initContainers=[]),h.value.spec.template.spec.initContainers.push(l))},Ce=(e,l)=>{"initContainers"===e?h.value.spec.template.spec.initContainers.splice(l,1):h.value.spec.template.spec.containers.splice(l,1)},Ue=()=>"standardContainers"===j.value,Se=s([]),we=(e,l,a)=>{if(w.value=!1,"All"!==e){Se.value=Se.value.filter((l=>l.belongTo!==e));for(const e of l)Se.value.push({name:e.name,type:e.type,belongTo:"volume"});for(const e of a)Se.value.push({name:e.name,type:"VolumeClaimTemplates",belongTo:"VolumeClaimTemplates"})}else{Se.value=[];for(const e of l)Se.value.push({name:e.name,type:(t=e,t.configMap?"ConfigMap":t.secret?"Secret":t.persistentVolumeClaim?"PVC":t.emptyDir?"EmptyDir":t.nfs?"NFS":t.hostPath?"HostPath":void 0),belongTo:"volume"});for(const e of a)Se.value.push({name:e.metadata.name,type:"VolumeClaimTemplates",belongTo:"VolumeClaimTemplates"})}var t;w.value=!0};return(e,l)=>{const a=W,t=Y,s=Q,p=$,c=B,A=K,L=J,H=G;return v(),f("div",null,[P(t,{gutter:24,class:"row-box"},{default:x((()=>[P(c,{span:12},{default:x((()=>[P(p,{class:"el-card"},{default:x((()=>[l[7]||(l[7]=U("span",{style:{"font-size":"14px","font-weight":"bold"}},"基础信息",-1)),P(s,{ref_key:"FormBlock",ref:I,"label-position":"top",model:h.value,rules:o},{default:x((()=>[P(a,{label:"名称",prop:"metadata.name"},{default:x((()=>[P(ae,{modelValue:h.value.metadata.name,"onUpdate:modelValue":l[0]||(l[0]=e=>h.value.metadata.name=e),style:{width:"100%"},disabled:V.value,"item-type":"input"},null,8,["modelValue","disabled"])])),_:1}),P(a,{label:"命名空间",prop:"metadata.namespace"},{default:x((()=>[w.value&&"create"===C.value?(v(),D(ma,{key:0,style:{width:"100%"},namespace_list:m.value,namespace:h.value.metadata.namespace,onEnter:be},null,8,["namespace_list","namespace"])):z("",!0),w.value&&"create"!==C.value?(v(),D(ae,{key:1,modelValue:h.value.metadata.namespace,"onUpdate:modelValue":l[1]||(l[1]=e=>h.value.metadata.namespace=e),style:{width:"100%"},disabled:"","item-type":"select2"},null,8,["modelValue"])):z("",!0)])),_:1}),P(t,null,{default:x((()=>[w.value?(v(),D(da,{key:0,ref_key:"formkvblock",ref:q,operation:C.value,readonly:V.value,form:h.value},null,8,["operation","readonly","form"])):z("",!0)])),_:1}),"deployments"===_.value||"statefulsets"===_.value?(v(),D(a,{key:0,label:"副本数",prop:"spec.replicas"},{default:x((()=>[P(ae,{modelValue:h.value.spec.replicas,"onUpdate:modelValue":l[2]||(l[2]=e=>h.value.spec.replicas=e),modelModifiers:{number:!0},"item-type":"number",style:{width:"100%"}},null,8,["modelValue"])])),_:1})):z("",!0),y()?(v(),D(t,{key:1},{default:x((()=>[P(a,{label:"调度",prop:"spec.schedule"},{default:x((()=>[P(ae,{modelValue:h.value.spec.schedule,"onUpdate:modelValue":l[3]||(l[3]=e=>h.value.spec.schedule=e),placeholder:"0 * * * *","item-type":"input"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0)])),_:1},8,["model","rules"])])),_:1})])),_:1}),P(c,{span:12},{default:x((()=>[P(p,{class:"el-card"},{default:x((()=>[l[8]||(l[8]=U("span",{style:{"font-size":"14px","font-weight":"bold"}},"数据卷(Volume)",-1)),w.value?(v(),D(ba,{key:0,ref_key:"volume",ref:ye,form:O.value,configmaplist:d.value,pvclist:r.value,type:_.value,secretlist:n.value,onLoadVolumes:we},null,8,["form","configmaplist","pvclist","type","secretlist"])):z("",!0)])),_:1})])),_:1})])),_:1}),P(p,{style:{"margin-top":"20px",border:"0"},class:"el-card"},{default:x((()=>[l[11]||(l[11]=U("span",{style:{"font-size":"14px","font-weight":"bold"}},"容器组",-1)),P(L,{modelValue:g.value,"onUpdate:modelValue":l[6]||(l[6]=e=>g.value=e),"tab-position":"left"},{default:x((()=>[P(A,{label:"Spec",name:"Spec"},{default:x((()=>[P(L,{modelValue:b.value,"onUpdate:modelValue":l[4]||(l[4]=e=>b.value=e),type:"border-card"},{default:x((()=>[P(A,{label:"扩缩容/升级策略",name:"upgrade"},{default:x((()=>[w.value&&y()||Ve()?(v(),D(dl,{key:0,ref_key:"upgrade_job",ref:he,form:h.value.spec,type:_.value},null,8,["form","type"])):w.value?(v(),D(sl,{key:1,ref_key:"upgrade_common",ref:R,form:h.value.spec,type:_.value},null,8,["form","type"])):z("",!0)])),_:1}),P(A,{label:"节点选择",name:"node-selector"},{default:x((()=>[w.value?(v(),D(Kl,{key:0,ref_key:"node_selector",ref:te,form:O.value,cluster:k.value},null,8,["form","cluster"])):z("",!0)])),_:1}),P(A,{label:"亲和性/反亲和性",name:"affinity"},{default:x((()=>[w.value?(v(),D(Cl,{key:0,ref_key:"affinity",ref:X,form:O.value,type:_.value,namespaces_list:m.value},null,8,["form","type","namespaces_list"])):z("",!0)])),_:1}),P(A,{label:"容忍",name:"Toleration"},{default:x((()=>[w.value?(v(),D(Pl,{key:0,ref_key:"toleration",ref:Z,form:O.value},null,8,["form"])):z("",!0)])),_:1}),P(A,{label:"网络",name:"Networking"},{default:x((()=>[w.value?(v(),D(zl,{key:0,ref_key:"networking",ref:ee,form:O.value},null,8,["form"])):z("",!0)])),_:1}),P(A,{label:"其他",name:"others"},{default:x((()=>[w.value?(v(),D(ql,{key:0,ref_key:"others",ref:le,type:_.value,form:O.value,"serviceaccounts-list":i.value,"secret-list":u.value},null,8,["type","form","serviceaccounts-list","secret-list"])):z("",!0)])),_:1})])),_:1},8,["modelValue"])])),_:1}),P(A,{label:"Containers",name:"Container"},{default:x((()=>[P(t,{gutter:20},{default:x((()=>[P(c,{span:18},{default:x((()=>[w.value?(v(),D(xe,{key:0,ref:"Containers",form:O.value,onRefreshContainer:ke,onAddContainer:_e,onDeleteContainer:Ce},null,8,["form"])):z("",!0)])),_:1})])),_:1}),(v(),D(L,{key:T.value,modelValue:E.value,"onUpdate:modelValue":l[5]||(l[5]=e=>E.value=e),type:"border-card"},{default:x((()=>[P(A,{label:"基础信息",name:"General"},{default:x((()=>[w.value?(v(),D(Ae,{key:0,ref:"containerdata",form:N.value,"container-type":j.value},null,8,["form","container-type"])):z("",!0)])),_:1}),P(A,{label:"命令",name:"Command"},{default:x((()=>[w.value?(v(),D(Le,{key:0,ref_key:"command",ref:oe,form:N.value},null,8,["form"])):z("",!0)])),_:1}),P(A,{label:"端口",name:"Port"},{default:x((()=>[w.value?(v(),D(ze,{key:0,ref_key:"ports",ref:ue,form:N.value},null,8,["form"])):z("",!0)])),_:1}),P(A,{label:"环境变量",name:"Environment"},{default:x((()=>[w.value?(v(),D(Fe,{key:0,ref:"environment",form:N.value},null,8,["form"])):z("",!0)])),_:1}),P(A,{label:"资源",name:"Resources"},{default:x((()=>[w.value?(v(),D(Je,{key:0,ref_key:"resource",ref:ne,form:N.value},null,8,["form"])):z("",!0)])),_:1}),Ue()?(v(),D(A,{key:0,label:"健康检查",name:"Health Check"},{default:x((()=>[w.value?(v(),D(ll,{key:0,ref_key:"health_readiness_check",ref:ie,form:N.value,"health-check-type":"就绪检查"},null,8,["form"])):z("",!0),w.value?(v(),D(ll,{key:1,ref_key:"health_liveness_check",ref:se,form:N.value,"health-check-type":"存活检查"},null,8,["form"])):z("",!0),w.value?(v(),D(ll,{key:2,ref_key:"health_startup_check",ref:re,form:N.value,"health-check-type":"启动检查"},null,8,["form"])):z("",!0)])),_:1})):z("",!0),P(A,{label:"挂载点",name:"Mount"},{default:x((()=>[w.value?(v(),D(nl,{key:0,ref_key:"volume_mount",ref:de,form:N.value,volumelist:Se.value},null,8,["form","volumelist"])):z("",!0)])),_:1})])),_:1},8,["modelValue"]))])),_:1})])),_:1},8,["modelValue"]),U("div",ka,[U("div",_a,[P(H,{size:"small",onClick:M},{default:x((()=>l[9]||(l[9]=[S("取 消")]))),_:1}),P(H,{size:"small",type:"primary",onClick:ge},{default:x((()=>l[10]||(l[10]=[S("确 定")]))),_:1})])])])),_:1})])}}});export{Ua as _};
