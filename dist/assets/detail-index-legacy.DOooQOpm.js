/*! 
 Build based on  
 Time : 1735190558000 */
!function(){function e(e,a){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,a){if(e){if("string"==typeof e)return t(e,a);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?t(e,a):void 0}}(e))||a&&e&&"number"==typeof e.length){n&&(e=n);var r=0,u=function(){};return{s:u,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:u}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,o=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){i=!0,l=e},f:function(){try{o||null==n.return||n.return()}finally{if(i)throw l}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=Array(t);a<t;a++)n[a]=e[a];return n}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,u=Object.defineProperty||function(e,t,a){e[t]=a.value},l="function"==typeof Symbol?Symbol:{},o=l.iterator||"@@iterator",i=l.asyncIterator||"@@asyncIterator",c=l.toStringTag||"@@toStringTag";function p(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(e){p=function(e,t,a){return e[t]=a}}function s(e,t,a,n){var r=t&&t.prototype instanceof h?t:h,l=Object.create(r.prototype),o=new I(n||[]);return u(l,"_invoke",{value:j(e,a,o)}),l}function d(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var f="suspendedStart",v="suspendedYield",y="executing",m="completed",g={};function h(){}function b(){}function k(){}var _={};p(_,o,(function(){return this}));var S=Object.getPrototypeOf,U=S&&S(S(E([])));U&&U!==n&&r.call(U,o)&&(_=U);var x=k.prototype=h.prototype=Object.create(_);function w(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function a(n,u,l,o){var i=d(e[n],e,u);if("throw"!==i.type){var c=i.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,l,o)}),(function(e){a("throw",e,l,o)})):t.resolve(p).then((function(e){c.value=e,l(c)}),(function(e){return a("throw",e,l,o)}))}o(i.arg)}var n;u(this,"_invoke",{value:function(e,r){function u(){return new t((function(t,n){a(e,r,t,n)}))}return n=n?n.then(u,u):u()}})}function j(t,a,n){var r=f;return function(u,l){if(r===y)throw Error("Generator is already running");if(r===m){if("throw"===u)throw l;return{value:e,done:!0}}for(n.method=u,n.arg=l;;){var o=n.delegate;if(o){var i=V(o,n);if(i){if(i===g)continue;return i}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=y;var c=d(t,a,n);if("normal"===c.type){if(r=n.done?m:v,c.arg===g)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=m,n.method="throw",n.arg=c.arg)}}}function V(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,V(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),g;var u=d(r,t.iterator,a.arg);if("throw"===u.type)return a.method="throw",a.arg=u.arg,a.delegate=null,g;var l=u.arg;return l?l.done?(a[t.resultName]=l.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,g):l:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function E(t){if(t||""===t){var a=t[o];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,u=function a(){for(;++n<t.length;)if(r.call(t,n))return a.value=t[n],a.done=!1,a;return a.value=e,a.done=!0,a};return u.next=u}}throw new TypeError(typeof t+" is not iterable")}return b.prototype=k,u(x,"constructor",{value:k,configurable:!0}),u(k,"constructor",{value:b,configurable:!0}),b.displayName=p(k,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,p(e,c,"GeneratorFunction")),e.prototype=Object.create(x),e},t.awrap=function(e){return{__await:e}},w(P.prototype),p(P.prototype,i,(function(){return this})),t.AsyncIterator=P,t.async=function(e,a,n,r,u){void 0===u&&(u=Promise);var l=new P(s(e,a,n,r),u);return t.isGeneratorFunction(a)?l:l.next().then((function(e){return e.done?e.value:l.next()}))},w(x),p(x,c,"Generator"),p(x,o,(function(){return this})),p(x,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=E,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&r.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function n(n,r){return o.type="throw",o.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var u=this.tryEntries.length-1;u>=0;--u){var l=this.tryEntries[u],o=l.completion;if("root"===l.tryLoc)return n("end");if(l.tryLoc<=this.prev){var i=r.call(l,"catchLoc"),c=r.call(l,"finallyLoc");if(i&&c){if(this.prev<l.catchLoc)return n(l.catchLoc,!0);if(this.prev<l.finallyLoc)return n(l.finallyLoc)}else if(i){if(this.prev<l.catchLoc)return n(l.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return n(l.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var n=this.tryEntries[a];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var u=n;break}}u&&("break"===e||"continue"===e)&&u.tryLoc<=t&&t<=u.finallyLoc&&(u=null);var l=u?u.completion:{};return l.type=e,l.arg=t,u?(this.method="next",this.next=u.finallyLoc,g):this.complete(l)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;C(a)}return r}}throw Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:E(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),g}},t}function n(e,t,a,n,r,u,l){try{var o=e[u](l),i=o.value}catch(e){return void a(e)}o.done?t(i):Promise.resolve(i).then(n,r)}function r(e){return function(){var t=this,a=arguments;return new Promise((function(r,u){var l=e.apply(t,a);function o(e){n(l,r,u,o,i,"next",e)}function i(e){n(l,r,u,o,i,"throw",e)}o(void 0)}))}}System.register(["./index-legacy.Cf1_fyJw.js","./col-legacy.tMI9428i.js","./tab-pane-legacy.DpVaa-__.js","./card-legacy.EIB5U9Pv.js","./detail-basic-legacy.D6mIBUYv.js","./detail-pods-legacy.C8pMqjri.js","./table-column-legacy.BxF_olX2.js","./checkbox-legacy.CC9hZC3z.js","./tooltip-legacy.DJvkFyUq.js","./popper-legacy.BkTYt---.js","./scrollbar-legacy.dKZTD6w2.js","./tag-legacy.Ca3_ouli.js","./alert-legacy.CR9QkQIO.js","./services-legacy.DoYJxiHA.js","./ingress-legacy.C6pQ9Hrb.js","./detail-conditions-legacy.DK-63WSZ.js","./form-legacy.0XPxLcB_.js","./input-legacy.DqeBI0DR.js","./form-item-legacy.BSRxtXpO.js","./select-legacy.L6EZLrW8.js","./button-legacy.CH0FoAJ-.js","./terminal-legacy.CNeayivl.js","./warningBar-legacy.CnYSZ35K.js","./radio-group-legacy.b3NdNxxp.js","./radio-legacy.DUa6CodL.js","./index-legacy.VcYNc2Mg.js","./dialog-legacy.DSWM2KL1.js","./overlay-legacy.BUxXTiH4.js","./index-legacy.CrLAlmUo.js"],(function(t,n){"use strict";var u,l,o,i,c,p,s,d,f,v,y,m,g,h,b,k,_,S,U,x,w,P,j,V,O,C,I,E,L,R,D,T,N,z,A,G,M,F,B,q,Y,$;return{setters:[function(e){u=e.a,l=e.o,o=e.c,i=e.b,c=e.h,p=e.w,s=e.f,d=e.e,f=e.F,v=e.v,y=e.t,m=e.g,g=e.E,h=e.k,b=e.s,k=e.B,_=e.cw,S=e.cu,U=e.i},function(e){x=e.E,w=e.a},function(e){P=e.E,j=e.a},function(e){V=e.E},function(e){O=e._},function(e){C=e._},function(e){I=e.E,E=e.a},null,null,null,null,null,function(e){L=e.E},function(e){R=e.S},function(e){D=e.I},function(e){T=e._},null,null,function(e){N=e.a,z=e.E},function(e){A=e.E,G=e.a},null,function(e){M=e.G},function(e){F=e._},null,null,function(e){B=e.E,q=e.a},function(e){Y=e.E},null,function(e){$=e._}],execute:function(){var n={name:"DetailServices"},H=Object.assign(n,{props:{data:{default:function(){return{}},type:Object},selectors:{default:function(){return""},type:String}},setup:function(t){var n=t,f=u({}),v=u(""),y=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.value=n.data,v.value=n.selectors;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();y();var m=u([]),g=function(){var t=r(a().mark((function t(){var n,r,u,l,o,i,c;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=4,R({cluster_id:f.value.cluster_id,namespace:f.value.metadata.namespace,labelSelector:v.value});case 4:if(0===(n=t.sent).code&&n.data.items){r=e(n.data.items);try{for(r.s();!(u=r.n()).done;)if((l=u.value).metadata.name===f.value.metadata.name&&l.spec.ports){o=e(l.spec.ports);try{for(o.s();!(i=o.n()).done;)c=i.value,m.value.push(c)}catch(a){o.e(a)}finally{o.f()}}}catch(a){r.e(a)}finally{r.f()}}case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return g(),function(e,t){var a=L,n=I,r=E;return l(),o("div",null,[t[1]||(t[1]=i("h3",null,"服务",-1)),0===m.value.length?(l(),c(a,{key:0,type:"info"},{default:p((function(){return t[0]||(t[0]=[i("div",{slot:"title"},[i("i",{class:"el-icon-info"}),i("span",null,"此处显示与 {0} 同名的 Service: {1}，但是您并未定义此 Service。")],-1)])})),_:1})):s("",!0),0!==m.value.length?(l(),c(r,{key:1,data:m.value},{default:p((function(){return[d(n,{label:"名称",prop:"name"}),d(n,{label:"协议",prop:"protocol"}),d(n,{label:"端口",prop:"port"}),d(n,{label:"NodePort",prop:"nodePort"}),d(n,{label:"容器端口",prop:"targetPort"})]})),_:1},8,["data"])):s("",!0)])}}}),K={key:0},Q={key:1},W={key:0},J={key:1},X={name:"DetailIngress"},Z=Object.assign(X,{props:{data:{default:function(){return{}},type:Object},selectors:{default:function(){return""},type:String}},setup:function(t){var n=t,m=u({}),g=u(""),h=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m.value=n.data,g.value=n.selectors;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();h();var b=u([]),k=function(){var t=r(a().mark((function t(){var n,r,u,l,o,i,c,p;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,D({cluster_id:m.value.cluster_id,namespace:m.value.metadata.namespace,labelSelector:g.value});case 2:if(0===(n=t.sent).code&&n.data.items){r=e(n.data.items);try{for(r.s();!(u=r.n()).done;)if((l=u.value).metadata.name===m.value.metadata.name&&l.spec.rules){o=e(l.spec.rules);try{for(o.s();!(i=o.n()).done;)c=i.value,p={host:c.host},c.http&&(p.details=c.http.paths),b.value.push(p)}catch(a){o.e(a)}finally{o.f()}}}catch(a){r.e(a)}finally{r.f()}}case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return k(),function(e,t){var a=L,n=I,r=E;return l(),o("div",null,[t[3]||(t[3]=i("h3",null,"路由",-1)),0===b.value.length?(l(),c(a,{key:0,type:"info"},{default:p((function(){return t[0]||(t[0]=[i("div",{slot:"title"},[i("i",{class:"el-icon-info"}),i("span",null," 此处显示与 {0} 同名的 Ingress: {1}，但是您并未定义此 Ingress。")],-1)])})),_:1})):s("",!0),(l(!0),o(f,null,v(b.value,(function(e,a){return l(),o("div",{key:a},[i("span",null,"域名: "+y(e.host),1),d(r,{data:e.details},{default:p((function(){return[d(n,{label:"名称",type:"scope"},{default:p((function(e){return[e.row.backend.serviceName?(l(),o("span",K,y(e.row.backend.serviceName),1)):s("",!0),e.row.backend.service?(l(),o("span",Q,y(e.row.backend.service.name),1)):s("",!0)]})),_:1}),d(n,{label:"路径",prop:"path"}),d(n,{label:"端口",prop:"port",type:"scope"},{default:p((function(e){return[e.row.backend.servicePort?(l(),o("span",W,y(e.row.backend.servicePort),1)):s("",!0),e.row.backend.service?(l(),o("span",J,y(e.row.backend.service.port.number),1)):s("",!0)]})),_:1}),d(n,{label:"类型",prop:"pathType"})]})),_:2},1032,["data"]),t[1]||(t[1]=i("br",null,null,-1)),t[2]||(t[2]=i("br",null,null,-1))])})),128))])}}}),ee={key:0,style:{"margin-left":"10px"}},te={key:0,style:{"margin-left":"10px"}},ae={key:0,style:{"margin-left":"10px"}},ne={key:1,style:{float:"right"}},re={name:"DetailUpdate",emits:{update:function(){return!0}}},ue=Object.assign(re,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,b=e,k=u([{label:"滚动升级",value:"RollingUpdate"},{label:"重新创建",value:"Recreate"}]),_=u({}),S=u(!1),U=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.value=b.data;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();U();var P=function(e){switch(e){case"RollingUpdate":return"滚动升级";case"Recreate":return"重新创建";case"OnDelete":return"删除"}};return function(e,t){var a=g,r=A,u=G,b=N,U=x,j=w,V=h,O=z;return l(),o("div",null,[t[11]||(t[11]=i("h3",null,"部署策略",-1)),S.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return S.value=!0})},{default:p((function(){return t[7]||(t[7]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(O,{ref:"form","label-position":"top",model:_.value},{default:p((function(){return[d(j,{gutter:20},{default:p((function(){return[d(U,{span:12},{default:p((function(){return[d(b,{label:"策略",prop:"spec.strategy.type",required:""},{default:p((function(){return[S.value?(l(),c(u,{key:1,modelValue:_.value.spec.strategy.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.value.spec.strategy.type=e}),style:{width:"100%"},onChange:t[2]||(t[2]=function(e){return function(e){switch(e){case"RollingUpdate":return e.spec.strategy.type="RollingUpdate",void(e.spec.strategy.rollingUpdate={maxSurge:0,maxUnavailable:0});case"Recreate":return e.spec.strategy.type="Recreate",void delete e.spec.strategy.rollingUpdate}}(_.value)})},{default:p((function(){return[(l(!0),o(f,null,v(k.value,(function(e,t){return l(),c(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(l(),o("span",ee,y(P(_.value.spec.strategy.type)),1))]})),_:1})]})),_:1})]})),_:1}),"RollingUpdate"===_.value.spec.strategy.type?(l(),c(j,{key:0,gutter:20},{default:p((function(){return[d(U,{span:12},{default:p((function(){return[d(b,{label:"最大Pod数量",prop:"spec.strategy.rollingUpdate.maxSurge"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.strategy.rollingUpdate.maxSurge,"onUpdate:modelValue":t[3]||(t[3]=function(e){return _.value.spec.strategy.rollingUpdate.maxSurge=e})},null,8,["modelValue"])):(l(),o("span",te,y(_.value.spec.strategy.rollingUpdate.maxSurge),1))]})),_:1})]})),_:1}),d(U,{span:12},{default:p((function(){return[d(b,{label:"最大不可用数量",prop:"spec.strategy.rollingUpdate.maxUnavailable"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.strategy.rollingUpdate.maxUnavailable,"onUpdate:modelValue":t[4]||(t[4]=function(e){return _.value.spec.strategy.rollingUpdate.maxUnavailable=e})},null,8,["modelValue"])):(l(),o("span",ae,y(_.value.spec.strategy.rollingUpdate.maxUnavailable),1))]})),_:1})]})),_:1})]})),_:1})):s("",!0),S.value?(l(),o("div",ne,[d(a,{onClick:t[5]||(t[5]=function(e){return t=_.value,n("update",t),void(S.value=!1);var t})},{default:p((function(){return t[8]||(t[8]=[m("提交")])})),_:1}),d(a,{onClick:t[6]||(t[6]=function(e){return S.value=!1})},{default:p((function(){return t[9]||(t[9]=[m("取消")])})),_:1})])):s("",!0),t[10]||(t[10]=i("br",null,null,-1))]})),_:1},8,["model"])])])}}}),le={key:1},oe={key:0,style:{"margin-left":"10px"}},ie={key:0,style:{"margin-left":"10px"}},ce={key:0,style:{"margin-left":"10px"}},pe={key:0,style:{"margin-left":"10px"}},se={key:0,style:{"margin-left":"10px"}},de={key:0,style:{float:"right"}},fe={name:"DetailUpdate",emits:{update:function(){return!0}}},ve=Object.assign(fe,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,b=e,k=u([{label:"原地升级",value:"InPlaceIfPossible"},{label:"重新创建",value:"ReCreate"},{label:"只允许原地升级",value:"InPlaceOnly"}]),_=u({}),S=u(!1),U=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.value=b.data;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();U();var P=function(e){switch(e){case"InPlaceIfPossible":return"原地升级";case"ReCreate":return"重新创建";case"InPlaceOnly":return"只允许原地升级"}};return function(e,t){var a=g,r=A,u=G,b=N,U=x,j=w,V=h,O=z;return l(),o("div",null,[t[12]||(t[12]=i("h3",null,"部署策略",-1)),S.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return S.value=!0})},{default:p((function(){return t[9]||(t[9]=[m(" 编辑信息 ")])})),_:1})),_.value.spec.updateStrategy?(l(),o("div",le,[d(O,{ref:"form","label-position":"top",model:_.value},{default:p((function(){return[d(j,{gutter:20},{default:p((function(){return[_.value.spec.updateStrategy.type?(l(),c(U,{key:0,span:12},{default:p((function(){return[d(b,{label:"策略",prop:"spec.updateStrategy.type",required:""},{default:p((function(){return[S.value?(l(),c(u,{key:1,modelValue:_.value.spec.updateStrategy.type,"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.value.spec.updateStrategy.type=e}),style:{width:"100%"},onChange:t[2]||(t[2]=function(e){return function(e){switch(e){case"InPlaceIfPossible":return void(e.spec.updateStrategy={inPlaceUpdateStrategy:{gracePeriodSeconds:10},maxSurge:0,maxUnavailable:"20%",partition:0,paused:!1,type:"InPlaceIfPossible"});case"ReCreate":return void(e.spec.updateStrategy={inPlaceUpdateStrategy:{gracePeriodSeconds:10},maxSurge:0,maxUnavailable:"20%",partition:0,paused:!1,type:"ReCreate"});case"InPlaceOnly":return void(e.spec.updateStrategy={inPlaceUpdateStrategy:{gracePeriodSeconds:10},maxSurge:0,maxUnavailable:"20%",partition:0,paused:!1,type:"InPlaceOnly"})}}(_.value)})},{default:p((function(){return[(l(!0),o(f,null,v(k.value,(function(e,t){return l(),c(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(l(),o("span",oe,y(P(_.value.spec.updateStrategy.type)),1))]})),_:1})]})),_:1})):s("",!0)]})),_:1}),d(j,{gutter:20},{default:p((function(){return[_.value.spec.updateStrategy.partition?(l(),c(U,{key:0,span:8},{default:p((function(){return[d(b,{label:"保留旧版本Pod的数量或百分比(%)",prop:"spec.updateStrategy.partition"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.partition,"onUpdate:modelValue":t[3]||(t[3]=function(e){return _.value.spec.updateStrategy.partition=e})},null,8,["modelValue"])):(l(),o("span",ie,y(_.value.spec.updateStrategy.partition)+" %",1))]})),_:1})]})),_:1})):s("",!0),_.value.spec.updateStrategy.inPlaceUpdateStrategy?(l(),c(U,{key:1,span:8},{default:p((function(){return[_.value.spec.updateStrategy.inPlaceUpdateStrategy.gracePeriodSeconds?(l(),c(b,{key:0,label:"等待时间(秒)",prop:"spec.updateStrategy.inPlaceUpdateStrategy.gracePeriodSeconds"},{default:p((function(){return[!S.value&&_.value.spec.updateStrategy.inPlaceUpdateStrategy.gracePeriodSeconds?(l(),o("span",ce,y(_.value.spec.updateStrategy.inPlaceUpdateStrategy.gracePeriodSeconds)+" 秒",1)):(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.inPlaceUpdateStrategy.gracePeriodSeconds,"onUpdate:modelValue":t[4]||(t[4]=function(e){return _.value.spec.updateStrategy.inPlaceUpdateStrategy.gracePeriodSeconds=e})},null,8,["modelValue"]))]})),_:1})):s("",!0)]})),_:1})):s("",!0),d(U,{span:8},{default:p((function(){return[d(b,{label:"最大Pod数量(个)",prop:"spec.updateStrategy.maxSurge"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.maxSurge,"onUpdate:modelValue":t[5]||(t[5]=function(e){return _.value.spec.updateStrategy.maxSurge=e})},null,8,["modelValue"])):(l(),o("span",pe,y(_.value.spec.updateStrategy.maxSurge),1))]})),_:1})]})),_:1}),d(U,{span:8},{default:p((function(){return[d(b,{label:"最大不可用数量(%)",prop:"spec.strategy.updateStrategy.maxUnavailable"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.maxUnavailable,"onUpdate:modelValue":t[6]||(t[6]=function(e){return _.value.spec.updateStrategy.maxUnavailable=e})},null,8,["modelValue"])):(l(),o("span",se,y(_.value.spec.updateStrategy.maxUnavailable),1))]})),_:1})]})),_:1})]})),_:1}),S.value?(l(),o("div",de,[d(a,{onClick:t[7]||(t[7]=function(e){return t=_.value,n("update",t),void(S.value=!1);var t})},{default:p((function(){return t[10]||(t[10]=[m("提交")])})),_:1}),d(a,{onClick:t[8]||(t[8]=function(e){return S.value=!1})},{default:p((function(){return t[11]||(t[11]=[m("取消")])})),_:1})])):s("",!0)]})),_:1},8,["model"])])):s("",!0)])}}}),ye={key:0,style:{"margin-left":"10px"}},me={key:0,style:{"margin-left":"10px"}},ge={key:0,style:{"margin-left":"10px"}},he={key:0,style:{float:"right"}},be={name:"DetailUpdate",emits:{update:function(){return!0}}},ke=Object.assign(be,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,b=e,k=u([{label:"原地升级",value:"InPlaceIfPossible"},{label:"重新创建",value:"ReCreate"},{label:"只允许原地升级",value:"InPlaceOnly"}]),_=u({}),S=u(!1),U=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.value=b.data;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();U();var P=function(e){switch(e){case"InPlaceIfPossible":return"原地升级";case"ReCreate":return"重新创建";case"InPlaceOnly":return"只允许原地升级"}};return function(e,t){var a=g,r=A,u=G,b=N,U=x,j=w,V=h,O=z;return l(),o("div",null,[t[10]||(t[10]=i("h3",null,"部署策略",-1)),S.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return S.value=!0})},{default:p((function(){return t[7]||(t[7]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(O,{ref:"form","label-position":"top",model:_.value},{default:p((function(){return[d(j,{gutter:20},{default:p((function(){return[d(U,{span:12},{default:p((function(){return[_.value.spec.updateStrategy.rollingUpdate?(l(),c(b,{key:0,label:"策略",prop:"spec.updateStrategy.rollingUpdate.podUpdatePolicy",required:""},{default:p((function(){return[S.value?(l(),c(u,{key:1,modelValue:_.value.spec.updateStrategy.rollingUpdate.podUpdatePolicy,"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.value.spec.updateStrategy.rollingUpdate.podUpdatePolicy=e}),style:{width:"100%"},onChange:t[2]||(t[2]=function(e){return function(e){switch(e){case"InPlaceIfPossible":return void(e.spec.updateStrategy={rollingUpdate:{maxUnavailable:0,minReadySeconds:0,partition:0,podUpdatePolicy:"InPlaceIfPossible",inPlaceUpdateStrategy:{gracePeriodSeconds:10}},type:"RollingUpdate",paused:!1});case"ReCreate":return void(e.spec.updateStrategy={rollingUpdate:{maxUnavailable:0,minReadySeconds:0,partition:0,podUpdatePolicy:"ReCreate"},type:"RollingUpdate",paused:!1});case"InPlaceOnly":return void(e.spec.updateStrategy={rollingUpdate:{maxUnavailable:0,minReadySeconds:0,partition:0,podUpdatePolicy:"InPlaceOnly"},type:"RollingUpdate",paused:!1})}}(_.value)})},{default:p((function(){return[(l(!0),o(f,null,v(k.value,(function(e,t){return l(),c(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(l(),o("span",ye,y(P(_.value.spec.updateStrategy.rollingUpdate.podUpdatePolicy)),1))]})),_:1})):s("",!0)]})),_:1})]})),_:1}),d(j,{gutter:20},{default:p((function(){return[d(U,{span:8},{default:p((function(){return[_.value.spec.updateStrategy.rollingUpdate?(l(),c(b,{key:0,label:"保留旧版本Pod的数量或百分比(%)",prop:"spec.updateStrategy.partition"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.rollingUpdate.partition,"onUpdate:modelValue":t[3]||(t[3]=function(e){return _.value.spec.updateStrategy.rollingUpdate.partition=e})},null,8,["modelValue"])):(l(),o("span",me,y(_.value.spec.updateStrategy.rollingUpdate.partition)+" %",1))]})),_:1})):s("",!0)]})),_:1}),d(U,{span:8},{default:p((function(){return[_.value.spec.updateStrategy.rollingUpdate?(l(),c(b,{key:0,label:"最大不可用数量(%)",prop:"spec.strategy.rollingUpdate.maxUnavailable"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.rollingUpdate.maxUnavailable,"onUpdate:modelValue":t[4]||(t[4]=function(e){return _.value.spec.updateStrategy.rollingUpdate.maxUnavailable=e})},null,8,["modelValue"])):(l(),o("span",ge,y(_.value.spec.updateStrategy.rollingUpdate.maxUnavailable)+" %",1))]})),_:1})):s("",!0)]})),_:1})]})),_:1}),S.value?(l(),o("div",he,[d(a,{onClick:t[5]||(t[5]=function(e){return t=_.value,n("update",t),void(S.value=!1);var t})},{default:p((function(){return t[8]||(t[8]=[m("提交")])})),_:1}),d(a,{onClick:t[6]||(t[6]=function(e){return S.value=!1})},{default:p((function(){return t[9]||(t[9]=[m("取消")])})),_:1})])):s("",!0)]})),_:1},8,["model"])])])}}}),_e={key:0,style:{"margin-left":"10px"}},Se={key:0,style:{"margin-left":"10px"}},Ue={key:0,style:{"margin-left":"10px"}},xe={key:0,style:{float:"right"}},we={name:"DetailUpdate",emits:{update:function(){return!0}}},Pe=Object.assign(we,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,b=e,k=u([{label:"原地升级",value:"InPlaceIfPossible"},{label:"删除升级",value:"Standard"}]),_=u({}),S=u(!1),U=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.value=b.data;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();U();var P=function(e){switch(e){case"Surging":return"滚动升级";case"InPlaceIfPossible":return"原地升级";case"Standard":return"删除升级"}};return function(e,t){var a=g,r=A,u=G,b=N,U=x,j=w,V=h,O=z;return l(),o("div",null,[t[10]||(t[10]=i("h3",null,"部署策略",-1)),S.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return S.value=!0})},{default:p((function(){return t[7]||(t[7]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(O,{ref:"form","label-position":"top",model:_.value},{default:p((function(){return[d(j,{gutter:20},{default:p((function(){return[d(U,{span:12},{default:p((function(){return[_.value.spec.updateStrategy.rollingUpdate?(l(),c(b,{key:0,label:"策略",prop:"spec.updateStrategy.rollingUpdate.rollingUpdateType",required:""},{default:p((function(){return[S.value?(l(),c(u,{key:1,modelValue:_.value.spec.updateStrategy.rollingUpdate.rollingUpdateType,"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.value.spec.updateStrategy.rollingUpdate.rollingUpdateType=e}),style:{width:"100%"},onChange:t[2]||(t[2]=function(e){return function(e){switch(e){case"Surging":return void(e.spec.updateStrategy={rollingUpdate:{maxSurge:0,maxUnavailable:"20%",partition:1,rollingUpdateType:"Surging",paused:!1},type:"RollingUpdate"});case"Standard":return void(e.spec.updateStrategy={rollingUpdate:{maxSurge:0,maxUnavailable:"20%",partition:1,rollingUpdateType:"Standard",paused:!1},type:"RollingUpdate"});case"InPlaceIfPossible":return void(e.spec.updateStrategy={rollingUpdate:{maxUnavailable:"20%",partition:1,rollingUpdateType:"InPlaceIfPossible",paused:!1},type:"InPlaceIfPossible"})}}(_.value)})},{default:p((function(){return[(l(!0),o(f,null,v(k.value,(function(e,t){return l(),c(r,{key:t,label:e.label,value:e.value},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])):(l(),o("span",_e,y(P(_.value.spec.updateStrategy.rollingUpdate.rollingUpdateType)),1))]})),_:1})):s("",!0)]})),_:1})]})),_:1}),d(j,{gutter:20},{default:p((function(){return[d(U,{span:8},{default:p((function(){return[_.value.spec.updateStrategy.rollingUpdate?(l(),c(b,{key:0,label:"保留旧版本Pod的数量或百分比(%)",prop:"spec.updateStrategy.rollingUpdate.partition"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.rollingUpdate.partition,"onUpdate:modelValue":t[3]||(t[3]=function(e){return _.value.spec.updateStrategy.rollingUpdate.partition=e}),modelModifiers:{number:!0},type:"number",placeholder:"请输入",min:"1",oninput:"value=value.replace(/[^\\d]/g,'')"},null,8,["modelValue"])):(l(),o("span",Se,y(_.value.spec.updateStrategy.rollingUpdate.partition)+" %",1))]})),_:1})):s("",!0)]})),_:1}),d(U,{span:8},{default:p((function(){return[_.value.spec.updateStrategy.rollingUpdate?(l(),c(b,{key:0,label:"最大不可用数量(%)",prop:"spec.strategy.rollingUpdate.maxUnavailable"},{default:p((function(){return[S.value?(l(),c(V,{key:1,modelValue:_.value.spec.updateStrategy.rollingUpdate.maxUnavailable,"onUpdate:modelValue":t[4]||(t[4]=function(e){return _.value.spec.updateStrategy.rollingUpdate.maxUnavailable=e})},null,8,["modelValue"])):(l(),o("span",Ue,y(_.value.spec.updateStrategy.rollingUpdate.maxUnavailable)+" %",1))]})),_:1})):s("",!0)]})),_:1})]})),_:1}),S.value?(l(),o("div",xe,[d(a,{onClick:t[5]||(t[5]=function(e){return t=_.value,n("update",t),void(S.value=!1);var t})},{default:p((function(){return t[8]||(t[8]=[m("提交")])})),_:1}),d(a,{onClick:t[6]||(t[6]=function(e){return S.value=!1})},{default:p((function(){return t[9]||(t[9]=[m("取消")])})),_:1})])):s("",!0)]})),_:1},8,["model"])])])}}}),je={key:0,style:{"margin-left":"10px"}},Ve={key:0,style:{float:"right"}},Oe={name:"DetailCloneSetScaleSrategy"},Ce=Object.assign(Oe,{props:{data:{default:function(){return{}},type:Object},selectors:{default:function(){return""},type:String}},emits:["update"],setup:function(t,n){var b=n.emit,k=t,_=u({}),S=u(!1),U=u(""),P=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_.value=k.data,U.value=k.selectors;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();P();var j=u([]),V=u([]),O=function(){var t=r(a().mark((function t(){var n,r,u,l,o;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M(_.value.cluster_id,"","",_.value.metadata.namespace,"",U.value);case 2:if(0===(n=t.sent).code&&n.data.items){r=e(n.data.items);try{for(r.s();!(u=r.n()).done;)l=u.value,o={id:Math.random(),name:l.metadata.name},j.value.push(o)}catch(a){r.e(a)}finally{r.f()}}case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();O();return function(e,t){var a=g,n=h,r=N,u=A,k=G,U=x,P=w,O=z;return l(),o("div",null,[t[9]||(t[9]=i("h3",null,"指定Pod缩容",-1)),d(F,{title:"注：指定Pod缩容, 提交副本数必须小于当前副本数才能生效，否则只会删除指定Pod ！"}),S.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return S.value=!0})},{default:p((function(){return t[5]||(t[5]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(O,{ref:"form","label-position":"top",model:_.value},{default:p((function(){return[d(P,{gutter:20},{default:p((function(){return[d(U,{span:12},{default:p((function(){return[d(r,{label:"当前副本数",prop:"spec.replicas"},{default:p((function(){return[S.value?(l(),c(n,{key:1,modelValue:_.value.spec.replicas,"onUpdate:modelValue":t[1]||(t[1]=function(e){return _.value.spec.replicas=e}),modelModifiers:{number:!0},type:"number",placeholder:"请输入",min:"1",oninput:"value=value.replace(/[^\\d]/g,'')"},null,8,["modelValue"])):(l(),o("span",je,y(_.value.spec.replicas)+" 个副本",1))]})),_:1}),S.value?(l(),c(r,{key:0,label:"Pod名称",prop:"spec.scaleStrategy.podsToDelete"},{default:p((function(){return[d(k,{modelValue:V.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return V.value=e}),multiple:"",placeholder:"请选择Pod",style:{width:"100%"}},{default:p((function(){return[(l(!0),o(f,null,v(j.value,(function(e){return l(),c(u,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})):s("",!0)]})),_:1})]})),_:1}),S.value?(l(),o("div",Ve,[d(a,{onClick:t[3]||(t[3]=function(e){return t=_.value,void(V.value.length&&(t.spec.scaleStrategy.podsToDelete=V.value,b("update",t),S.value=!1));var t})},{default:p((function(){return t[6]||(t[6]=[m("提交")])})),_:1}),d(a,{onClick:t[4]||(t[4]=function(e){return S.value=!1})},{default:p((function(){return t[7]||(t[7]=[m("取消")])})),_:1})])):s("",!0),t[8]||(t[8]=i("br",null,null,-1))]})),_:1},8,["model"])])])}}}),Ie={name:"CloneSetPause"},Ee=Object.assign(Ie,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,f=e,v=u({}),y=u(!1),g=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.value=f.data,void 0===v.value.spec.updateStrategy.paused&&(v.value.spec.updateStrategy.paused=!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();g();return function(e,t){var a=B,r=q,u=N,f=x,g=w,h=z;return l(),o("div",null,[t[4]||(t[4]=i("h3",null,"发布暂停",-1)),d(F,{title:"注：通过设置 paused 为 true 暂停发布，不过控制器还是会做 replicas 数量管理"}),i("div",null,[d(h,{ref:"form","label-position":"top",model:v.value},{default:p((function(){return[d(g,{gutter:20},{default:p((function(){return[v.value.spec.updateStrategy?(l(),c(f,{key:0,span:24},{default:p((function(){return[d(u,{label:"状态",prop:"spec.updateStrategy.rollingUpdate.paused"},{default:p((function(){return[d(r,{modelValue:v.value.spec.updateStrategy.paused,"onUpdate:modelValue":t[0]||(t[0]=function(e){return v.value.spec.updateStrategy.paused=e}),onChange:t[1]||(t[1]=function(e){return function(e){e.spec.updateStrategy.paused,n("update",e),y.value=!1}(v.value)})},{default:p((function(){return[d(a,{label:!0},{default:p((function(){return t[2]||(t[2]=[m("暂停")])})),_:1}),d(a,{label:!1},{default:p((function(){return t[3]||(t[3]=[m("非暂停")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})):s("",!0)]})),_:1})]})),_:1},8,["model"])])])}}}),Le={name:"AdvancedStatefulsetPause"},Re=Object.assign(Le,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,c=e,s=u({}),f=u(!1),v=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.value=c.data,void 0===s.value.spec.updateStrategy.rollingUpdate.paused&&(s.value.spec.updateStrategy.rollingUpdate.paused=!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();v();return function(e,t){var a=B,r=q,u=N,c=x,v=w,y=z;return l(),o("div",null,[t[4]||(t[4]=i("h3",null,"发布暂停",-1)),d(F,{title:"注：通过设置 paused 为 true 暂停发布，不过控制器还是会做 replicas 数量管理"}),i("div",null,[d(y,{ref:"form","label-position":"top",model:s.value},{default:p((function(){return[d(v,{gutter:20},{default:p((function(){return[d(c,{span:24},{default:p((function(){return[d(u,{label:"状态",prop:"spec.updateStrategy.rollingUpdate.paused"},{default:p((function(){return[d(r,{modelValue:s.value.spec.updateStrategy.rollingUpdate.paused,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.value.spec.updateStrategy.rollingUpdate.paused=e}),onChange:t[1]||(t[1]=function(e){return function(e){e.spec.updateStrategy.rollingUpdate.paused,n("update",e),f.value=!1}(s.value)})},{default:p((function(){return[d(a,{label:!0},{default:p((function(){return t[2]||(t[2]=[m("暂停")])})),_:1}),d(a,{label:!1},{default:p((function(){return t[3]||(t[3]=[m("非暂停")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model"])])])}}}),De={key:0,style:{"margin-left":"10px"}},Te={key:0,style:{float:"right"}},Ne={name:"DetailStatefulSetreserveOrdinals"},ze=Object.assign(Ne,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,b=e,k=u({}),_=u(!1),S=u([]),U=u([]),P=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.value=b.data,k.value.spec.reserveOrdinals=S.value;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();P();return function(){U.value=[];for(var e=0;e<=10;e++){var t={id:Math.random(),name:e};U.value.push(t)}}(),function(e,t){var a=g,r=h,u=N,b=A,P=G,j=x,V=w,O=z;return l(),o("div",null,[t[9]||(t[9]=i("h3",null,"序号保留（跳过）",-1)),d(F,{title:"注：选择需要保留的序号，Advanced StatefulSet 会自动跳过创建这些序号的 Pod。如果 Pod 已经存在，则会被删除，"}),_.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return _.value=!0})},{default:p((function(){return t[5]||(t[5]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(O,{ref:"form","label-position":"top",model:k.value},{default:p((function(){return[d(V,{gutter:20},{default:p((function(){return[d(j,{span:12},{default:p((function(){return[d(u,{label:"副本数",prop:"spec.replicas"},{default:p((function(){return[_.value?(l(),c(r,{key:1,modelValue:k.value.spec.replicas,"onUpdate:modelValue":t[1]||(t[1]=function(e){return k.value.spec.replicas=e}),modelModifiers:{number:!0},type:"number",placeholder:"请输入",min:"1",oninput:"value=value.replace(/[^\\d]/g,'')"},null,8,["modelValue"])):(l(),o("span",De,y(k.value.spec.replicas)+" 个副本",1))]})),_:1}),_.value?(l(),c(u,{key:0,label:"Pod序号",prop:"spec.reserveOrdinals"},{default:p((function(){return[d(P,{modelValue:S.value,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S.value=e}),multiple:"",placeholder:"请选择Pod",style:{width:"100%"}},{default:p((function(){return[(l(!0),o(f,null,v(U.value,(function(e){return l(),c(b,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})):s("",!0)]})),_:1})]})),_:1}),_.value?(l(),o("div",Te,[d(a,{onClick:t[3]||(t[3]=function(e){return t=k.value,S.value.length>0&&(t.spec.reserveOrdinals=S.value),n("update",t),void(_.value=!1);var t})},{default:p((function(){return t[6]||(t[6]=[m("提交")])})),_:1}),d(a,{onClick:t[4]||(t[4]=function(e){return _.value=!1})},{default:p((function(){return t[7]||(t[7]=[m("取消")])})),_:1})])):s("",!0),t[8]||(t[8]=i("br",null,null,-1))]})),_:1},8,["model"])])])}}}),Ae={key:0,style:{"margin-left":"10px"}},Ge={key:0,style:{float:"right"}},Me={name:"DetailReplicas"},Fe=Object.assign(Me,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,f=e,v=u({}),b=u(!1),k=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.value=f.data;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();k();return function(e,t){var a=g,r=h,u=N,f=x,k=w,_=z;return l(),o("div",null,[t[8]||(t[8]=i("h3",null,"副本数",-1)),b.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return b.value=!0})},{default:p((function(){return t[4]||(t[4]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(_,{ref:"form","label-position":"top",model:v.value},{default:p((function(){return[d(k,{gutter:20},{default:p((function(){return[d(f,{span:12},{default:p((function(){return[d(u,{label:"副本数",prop:"spec.replicas"},{default:p((function(){return[b.value?(l(),c(r,{key:1,modelValue:v.value.spec.replicas,"onUpdate:modelValue":t[1]||(t[1]=function(e){return v.value.spec.replicas=e}),modelModifiers:{number:!0},type:"number",placeholder:"请输入",min:"1",oninput:"value=value.replace(/[^\\d]/g,'')"},null,8,["modelValue"])):(l(),o("span",Ae,y(v.value.spec.replicas)+" 个副本",1))]})),_:1})]})),_:1})]})),_:1}),b.value?(l(),o("div",Ge,[d(a,{onClick:t[2]||(t[2]=function(e){return t=v.value,n("update",t),void(b.value=!1);var t})},{default:p((function(){return t[5]||(t[5]=[m("提交")])})),_:1}),d(a,{onClick:t[3]||(t[3]=function(e){return b.value=!1})},{default:p((function(){return t[6]||(t[6]=[m("取消")])})),_:1})])):s("",!0),t[7]||(t[7]=i("br",null,null,-1))]})),_:1},8,["model"])])])}}}),Be={key:0,style:{"margin-left":"10px"}},qe={key:0,style:{float:"right"}},Ye={name:"DetailReplicas"},$e=Object.assign(Ye,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,b=e,k=u({}),_=u(!1),S=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k.value=b.data;case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();S();return function(e,t){var a=g,r=h,u=N,b=x,S=w,U=z;return l(),o("div",null,[t[7]||(t[7]=i("h3",null,"容器镜像",-1)),_.value?s("",!0):(l(),c(a,{key:0,style:{"margin-left":"10px"},size:"small",type:"primary",icon:"edit",onClick:t[0]||(t[0]=function(e){return _.value=!0})},{default:p((function(){return t[3]||(t[3]=[m(" 编辑信息 ")])})),_:1})),i("div",null,[d(U,{ref:"form","label-position":"top",model:k.value},{default:p((function(){return[d(S,{gutter:20},{default:p((function(){return[(l(!0),o(f,null,v(k.value.spec.template.spec.containers,(function(e,t){return l(),c(b,{key:t,span:12},{default:p((function(){return[d(u,{prop:"spec.replicas",label:"容器名称 "+e.name+":"},{default:p((function(){return[_.value?(l(),c(r,{key:1,modelValue:e.image,"onUpdate:modelValue":function(t){return e.image=t},placeholder:"请输入"},null,8,["modelValue","onUpdate:modelValue"])):(l(),o("span",Be,y(e.name)+" 镜像： "+y(e.image),1))]})),_:2},1032,["label"])]})),_:2},1024)})),128))]})),_:1}),_.value?(l(),o("div",qe,[d(a,{onClick:t[1]||(t[1]=function(e){return t=k.value,n("update",t),void(_.value=!1);var t})},{default:p((function(){return t[4]||(t[4]=[m("提交")])})),_:1}),d(a,{onClick:t[2]||(t[2]=function(e){return _.value=!1})},{default:p((function(){return t[5]||(t[5]=[m("取消")])})),_:1})])):s("",!0),t[6]||(t[6]=i("br",null,null,-1))]})),_:1},8,["model"])])])}}}),He={name:"DetailReplicas"},Ke=Object.assign(He,{props:{data:{default:function(){return{}},type:Object}},emits:["update"],setup:function(e,t){var n=t.emit,c=e,s=u({}),f=u(!1),v=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.value=c.data,void 0===s.value.spec.paused&&(s.value.spec.paused=!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();v();return function(e,t){var a=B,r=q,u=N,c=x,v=w,g=z;return l(),o("div",null,[t[4]||(t[4]=i("h3",null,"暂停",-1)),d(F,{title:"注：通过设置 paused 为 true 暂停发布，不过控制器还是会做 replicas 数量管理"}),i("div",null,[d(g,{ref:"form","label-position":"top",model:s.value},{default:p((function(){return[d(v,{gutter:20},{default:p((function(){return[d(c,{span:24},{default:p((function(){return[d(u,{label:"状态",prop:"spec.paused"},{default:p((function(){return[d(r,{modelValue:s.value.spec.paused,"onUpdate:modelValue":t[0]||(t[0]=function(e){return s.value.spec.paused=e}),onChange:t[1]||(t[1]=function(e){return s.value,s.value.metadata.resourceVersion&&delete s.value.metadata.resourceVersion,void(s.value.spec.paused?(n("update",s.value),f.value=!0):(n("update",s.value),f.value=!1))})},{default:p((function(){return[d(a,{label:!0},{default:p((function(){return t[2]||(t[2]=[m("暂停")])})),_:1}),d(a,{label:!1},{default:p((function(){return t[3]||(t[3]=[m("非暂停")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),d(v,{gutter:20},{default:p((function(){return[d(c,{span:12},{default:p((function(){return[d(u,{label:"最小就绪时间(秒)",prop:"spec.minReadySeconds"},{default:p((function(){return[i("span",null,y(s.value.spec.minReadySeconds||0),1)]})),_:1})]})),_:1}),d(c,{span:12},{default:p((function(){return[d(u,{label:"进程截止时间(秒)",prop:"spec.progressDeadlineSeconds"},{default:p((function(){return[i("span",null,y(s.value.spec.progressDeadlineSeconds||0),1)]})),_:1})]})),_:1})]})),_:1})]})),_:1},8,["model"])])])}}}),Qe=(t("D",(function(e){return b({url:"/kubernetes/deployment",method:"get",params:e})})),t("a",(function(e){return b({url:"/kubernetes/deployment/detail",method:"get",params:e})})),t("c",(function(e){return b({url:"/kubernetes/deployment",method:"post",data:e})})),t("d",(function(e){return b({url:"/kubernetes/deployment",method:"put",data:e})}))),We=(t("b",(function(e){return b({url:"/kubernetes/deployment",method:"delete",data:e})})),{class:"label-custom wd",type:"info"}),Je={key:0},Xe={class:"dialog-footer"},Ze={name:"DetailReplicas"},et=Object.assign(Ze,{props:{data:{default:function(){return{}},type:Object},selectors:{default:function(){return""},type:String}},setup:function(e){var t=e,n=u({}),c=u(""),h=u(!1),x=function(){var e=r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.value=t.data,c.value=t.selectors;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();x();var w=u([]),P=function(){var e=r(a().mark((function e(){var t,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a={cluster_id:n.value.cluster_id,namespace:n.value.metadata.namespace,labelSelector:c.value},b({url:"/kubernetes/replicaSet",method:"get",params:a});case 2:if(0===(t=e.sent).code&&t.data.items)for(t.data.items.sort((function(e,t){return t.metadata.annotations["deployment.kubernetes.io/revision"]-e.metadata.annotations["deployment.kubernetes.io/revision"]})),r=0;r<t.data.items.length;r++)w.value.push(t.data.items[r]);case 4:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();P();var j=u({}),V=u(!1),O=u("");return function(e,t){var u=I,c=g,x=E,P=Y;return l(),o("div",null,[d(x,{data:w.value},{default:p((function(){return[d(u,{label:"版本",prop:"name","min-width":"80","show-overflow-tooltip":""},{default:p((function(e){return[i("span",null,y(e.row.metadata.annotations["deployment.kubernetes.io/revision"]),1)]})),_:1}),d(u,{label:"镜像",prop:"image","min-width":"80","show-overflow-tooltip":""},{default:p((function(e){return[(l(!0),o(f,null,v(e.row.spec.template.spec.containers,(function(e,t){return l(),o("span",{key:t},[i("span",We,y(e.image),1)])})),128))]})),_:1}),d(u,{label:"时间",prop:"time","min-width":"80","show-overflow-tooltip":""},{default:p((function(e){return[i("span",null,y(k(_)(e.row.metadata.creationTimestamp)),1)]})),_:1}),d(u,{label:"操作"},{default:p((function(e){return[d(c,{size:"small",type:"primary",link:"",onClick:function(t){return a=e.row,j.value=a,O.value="详情",h.value=!0,void(V.value=!0);var a}},{default:p((function(){return t[1]||(t[1]=[m("详情")])})),_:2},1032,["onClick"]),d(c,{size:"small",type:"primary",link:"",onClick:function(t){return u=e.row,void S.confirm("此操作将回滚当前 deployment 到改版本，是否继续?","Warning",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(r(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=7,t={cluster_id:n.value.cluster_id,namespace:u.metadata.namespace,deploymentName:n.value.metadata.name,content:{spec:{template:u.spec.template}}},b({url:"/kubernetes/deployment",method:"patch",data:t});case 7:0===e.sent.code&&U({type:"success",message:"回滚成功"});case 9:case"end":return e.stop()}var t}),e)})))).catch((function(){U({type:"info",message:"已取消"})}));var u}},{default:p((function(){return t[2]||(t[2]=[m("回滚")])})),_:2},1032,["onClick"])]})),_:1})]})),_:1},8,["data"]),V.value?(l(),o("div",Je,[d(P,{modelValue:V.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return V.value=e}),width:"60%",title:O.value},{default:p((function(){return[i("div",Xe,[d($,{data:j.value,"read-only":h.value},null,8,["data","read-only"])])]})),_:1},8,["modelValue","title"])])):s("",!0)])}}}),tt=function(e,t){return"/kubernetes/proxy/".concat(e,"/apis/apps.kruise.io/v1alpha1/namespaces/").concat(t,"/clonesets")},at=function(e){return b({url:"/kubernetes/statefulset",method:"put",data:e})},nt=function(e,t){return"/kubernetes/proxy/".concat(e,"/apis/apps.kruise.io/v1alpha1/namespaces/").concat(t,"/daemonsets")},rt=function(e,t,a,n){return b({url:"".concat(nt(e,t),"/").concat(a),method:"put",data:n})},ut={name:"DetailBlock"};t("_",Object.assign(ut,{props:{data:{default:function(){return{}},type:Object}},setup:function(e){var t=e,n=u(""),i=function(){var e=r(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v.value.spec.selector&&v.value.spec.selector.matchLabels){for(t in v.value.spec.selector.matchLabels)Object.prototype.hasOwnProperty.call(v.value.spec.selector.matchLabels,t)&&(n.value+=t+"="+v.value.spec.selector.matchLabels[t]+",");n.value=0!==n.value.length?n.value.substring(0,n.value.length-1):""}"broadcastjob"===v.value.type&&(n.value="broadcastjob-name="+v.value.metadata.name);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=u(""),v=u({});f.value="pods",v.value=t.data,i();var y=function(){var e=r(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.type){e.next=25;break}e.t0=t.type,e.next="deployment"===e.t0?4:"advancedscloneset"===e.t0?8:"advancedstatefulset"===e.t0?12:"advanceddaemonset"===e.t0?16:20;break;case 4:return e.next=6,Qe({cluster_id:t.cluster_id,namespace:t.metadata.namespace,deploymentName:t.metadata.name,content:t});case 6:return n=e.sent,e.abrupt("break",20);case 8:return e.next=10,a={cluster_id:t.cluster_id,namespace:t.metadata.namespace,name:t.metadata.name,content:t},r=void 0,u=void 0,b({url:"".concat(tt(a,void 0),"/").concat(r),method:"put",data:u});case 10:return n=e.sent,e.abrupt("break",20);case 12:return e.next=14,at({cluster_id:t.cluster_id,namespace:t.metadata.namespace,name:t.metadata.name,content:t});case 14:return n=e.sent,e.abrupt("break",20);case 16:return e.next=18,rt({cluster_id:t.cluster_id,namespace:t.metadata.namespace,name:t.metadata.name,content:t});case 18:return n=e.sent,e.abrupt("break",20);case 20:if(!n.data.items){e.next=24;break}if(!n.data.items.code){e.next=24;break}return U({type:"error",message:n.data.items.message}),e.abrupt("return");case 24:0===n.code&&U({type:"success",message:"更新成功"});case 25:case"end":return e.stop()}var a,r,u}),e)})));return function(t){return e.apply(this,arguments)}}();return function(e,t){var a=V,r=x,u=P,i=j,m=w;return l(),o("div",null,[d(m,{gutter:20,class:"row-box"},{default:p((function(){return[d(r,{span:24},{default:p((function(){return[d(a,{class:"el-card"},{default:p((function(){return[d(O,{form:v.value},null,8,["form"])]})),_:1})]})),_:1}),d(r,{span:24},{default:p((function(){return[d(i,{modelValue:f.value,"onUpdate:modelValue":t[0]||(t[0]=function(e){return f.value=e}),type:"border-card"},{default:p((function(){return[d(u,{name:"pods",label:"容器组"},{default:p((function(){return[d(C,{data:v.value,selectors:n.value},null,8,["data","selectors"])]})),_:1}),"broadcastjob"!==v.value.type?(l(),c(u,{key:0,name:"services",label:"服务"},{default:p((function(){return[d(H,{data:v.value,selectors:n.value},null,8,["data","selectors"])]})),_:1})):s("",!0),"broadcastjob"!==v.value.type?(l(),c(u,{key:1,name:"ingress",label:"路由"},{default:p((function(){return[d(Z,{data:v.value},null,8,["data"])]})),_:1})):s("",!0),d(u,{name:"conditions",label:"运行时信息"},{default:p((function(){return[d(T,{conditions:v.value.status.conditions},null,8,["conditions"])]})),_:1}),v.value.type&&"deployment"===v.value.type?(l(),c(u,{key:2,name:"strategy",label:"部署策略"},{default:p((function(){return[d(ue,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"advancedscloneset"===v.value.type?(l(),c(u,{key:3,name:"cloneset-update",label:"部署策略"},{default:p((function(){return[d(ve,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"advanceddaemonset"===v.value.type?(l(),c(u,{key:4,name:"daemon-update",label:"部署策略"},{default:p((function(){return[d(Pe,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"advancedstatefulset"===v.value.type?(l(),c(u,{key:5,name:"advancedstatefulset-update",label:"部署策略"},{default:p((function(){return[d(ke,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"advancedscloneset"===v.value.type?(l(),c(u,{key:6,name:"cloneset-scaleStrategy",label:"指定Pod缩容"},{default:p((function(){return[d(Ce,{data:v.value,selectors:n.value,onUpdate:y},null,8,["data","selectors"])]})),_:1})):s("",!0),v.value.type&&"advancedscloneset"===v.value.type?(l(),c(u,{key:7,name:"cloneset-update-pause",label:"暂停"},{default:p((function(){return[d(Ee,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"advancedstatefulset"===v.value.type?(l(),c(u,{key:8,name:"advancedstatefulset-update-pause",label:"暂停"},{default:p((function(){return[d(Re,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"advancedstatefulset"===v.value.type?(l(),c(u,{key:9,name:"statefulsetreserve-ordinal",label:"序号保留（跳过）"},{default:p((function(){return[d(ze,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"deployment"===v.value.type||"advancedscloneset"===v.value.type||"advancedstatefulset"===v.value.type?(l(),c(u,{key:10,name:"replicas",label:"副本数"},{default:p((function(){return[d(Fe,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"deployment"===v.value.type||"advancedscloneset"===v.value.type||"advancedstatefulset"===v.value.type||"advanceddaemonset"===v.value.type?(l(),c(u,{key:11,name:"image",label:"容器镜像"},{default:p((function(){return[d($e,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"deployment"===v.value.type?(l(),c(u,{key:12,name:"pause",label:"暂停"},{default:p((function(){return[d(Ke,{data:v.value,onUpdate:y},null,8,["data"])]})),_:1})):s("",!0),v.value.type&&"deployment"===v.value.type?(l(),c(u,{key:13,name:"history",label:"历史版本"},{default:p((function(){return[d(et,{data:v.value,selectors:n.value,onUpdate:y},null,8,["data","selectors"])]})),_:1})):s("",!0)]})),_:1},8,["modelValue"])]})),_:1})]})),_:1})])}}}))}}}))}();
