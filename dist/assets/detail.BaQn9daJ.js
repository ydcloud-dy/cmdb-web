/*! 
 Build based on  
 Time : 1735190558000 */
import{a as e,o as a,c as t,e as s,w as o,h as r,g as l,f as i,b as u,t as n,B as m}from"./index.ABWJOL2Q.js";import{E as d,a as p}from"./col.BzMVCOvM.js";import{E as c,a as f}from"./tab-pane.fs024GHS.js";import{E as j}from"./card.RgDT494R.js";import{_ as w}from"./detail-basic.C5XH3jbK.js";import{E as b,a as _}from"./table-column.ChuwY-lb.js";import"./checkbox.BcMUmSPv.js";/* empty css                *//* empty css               */import"./scrollbar.3ySweVnY.js";/* empty css            */import{J as v}from"./jobs.vXft-Ymy.js";import{A as y}from"./age.Du5VDnjl.js";import{E as g}from"./index.DglrVZRl.js";import"./strings.C2tuonvC.js";import"./index.C5gbd99D.js";import"./link.QK3LjIND.js";import"./index.D4uEcQv3.js";import"./index.BRjlB3m5.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";import"./_baseIteratee.BPaQBmlP.js";import"./isEqual.CtpQH3Dm.js";import"./debounce.CkdGDwJt.js";import"./index.6ock-Gvr.js";const x={class:"span-link"},h={name:"DetailJobs"},k=Object.assign(h,{props:{form:{default:function(){return{}},type:Object}},setup(d){const p=d,c=e([]),f=e=>{const a=new Date(e.status.startTime);if(e.status.completionTime){const t=new Date(e.status.completionTime),s=Math.floor((t-a)/1e3);return s%60!=0?s%60+" mins":s%3600!=0?s%60+" hours ago":Math.floor((t-a)/1e3)+"S"}return"/"},j=e({});return(async()=>{j.value=p.form,await(async()=>{const e=await v({cluster_id:j.value.cluster_id,namespace:j.value.metadata.namespace});if(0===e.code)for(const a of e.data.items)for(const e of a.metadata.ownerReferences)e.name===j.value.metadata.name&&c.value.push(a)})(j.value)})(),(e,d)=>{const p=g,j=b,w=_;return a(),t("div",null,[s(w,{data:c.value},{default:o((()=>[s(j,{label:"状态","min-width":"45"},{default:o((e=>[e.row.status.succeeded?(a(),r(p,{key:0,type:"success"},{default:o((()=>d[0]||(d[0]=[l(" Succeeded ")]))),_:1})):i("",!0),e.row.status.failed?(a(),r(p,{key:1,type:"warning"},{default:o((()=>d[1]||(d[1]=[l(" Failed ")]))),_:1})):i("",!0),e.row.status.active?(a(),r(p,{key:2,type:"success"},{default:o((()=>d[2]||(d[2]=[l(" Active ")]))),_:1})):i("",!0)])),_:1}),s(j,{label:"名称",prop:"name","min-width":"80","show-overflow-tooltip":""},{default:o((e=>[u("span",x,n(e.row.metadata.name),1)])),_:1}),s(j,{label:"完成状态","min-width":"60"},{default:o((e=>[e.row.status.active?(a(),r(p,{key:0,style:{"margin-left":"5px"},type:"info"},{default:o((()=>[l("active: *"+n(e.row.status.active),1)])),_:2},1024)):i("",!0),e.row.status.succeeded?(a(),r(p,{key:1,style:{"margin-left":"5px"},type:"success"},{default:o((()=>[l("succeeded: "+n(e.row.status.succeeded),1)])),_:2},1024)):i("",!0),e.row.status.failed?(a(),r(p,{key:2,style:{"margin-left":"5px"},type:"danger"},{default:o((()=>[l("failed: "+n(e.row.status.failed),1)])),_:2},1024)):i("",!0)])),_:1}),s(j,{label:"耗时","min-width":"30"},{default:o((e=>[l(n(f(e.row)),1)])),_:1}),s(j,{label:"存活时间","min-width":"40",prop:"metadata.creationTimestamp","show-overflow-tooltip":"",fix:""},{default:o((e=>[l(n(m(y)(e.row.metadata.creationTimestamp)),1)])),_:1})])),_:1},8,["data"])])}}}),E={name:"DetailBlock"},O=Object.assign(E,{props:{data:{default:function(){return{}},type:Object}},setup(r){const l=r,i=e(""),u=e({});return i.value="jobs",u.value=l.data,(e,r)=>{const l=j,n=d,m=c,b=f,_=p;return a(),t("div",null,[s(_,{gutter:20,class:"row-box"},{default:o((()=>[s(n,{span:24},{default:o((()=>[s(l,{class:"el-card"},{default:o((()=>[s(w,{form:u.value},null,8,["form"])])),_:1})])),_:1}),s(n,{span:24},{default:o((()=>[s(b,{modelValue:i.value,"onUpdate:modelValue":r[0]||(r[0]=e=>i.value=e),type:"border-card"},{default:o((()=>[s(m,{name:"jobs",label:"Jobs"},{default:o((()=>[s(k,{form:u.value},null,8,["form"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])}}});export{O as default};
