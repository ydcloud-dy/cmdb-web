/*! 
 Build based on  
 Time : 1735190558000 */
System.register(["./index-legacy.Cf1_fyJw.js","./form-legacy.0XPxLcB_.js","./col-legacy.tMI9428i.js","./form-item-legacy.BSRxtXpO.js","./input-legacy.DqeBI0DR.js","./castArray-legacy.Dek4eNNY.js","./_baseClone-legacy.CxPdKCcf.js","./_Uint8Array-legacy.CS4Mx2ig.js","./_initCloneObject-legacy.JrJoSfNx.js"],(function(e,l){"use strict";var t,a,r,n,i,u,o,d,s,c,p,m,f,g;return{setters:[function(e){t=e.r,a=e.a,r=e.o,n=e.h,i=e.w,u=e.e,o=e.b,d=e.g,s=e.O,c=e.k},null,function(e){p=e.E,m=e.a},function(e){f=e.a,g=e.E},null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent='@charset "UTF-8";.el-input-number.full-width-input,.el-cascader.full-width-input{width:100%!important}.el-form-item--medium .el-radio{line-height:36px!important}.el-form-item--medium .el-rate{margin-top:8px}.el-form-item--small .el-radio{line-height:32px!important}.el-form-item--small .el-rate{margin-top:6px}.el-form-item--mini .el-radio{line-height:28px!important}.el-form-item--mini .el-rate{margin-top:4px}.clear-fix:before,.clear-fix:after{display:table;content:""}.clear-fix:after{clear:both}.float-right{float:right}div.table-container table.table-layout{width:100%;table-layout:fixed;border-collapse:collapse}div.table-container table.table-layout td.table-cell{display:table-cell;height:36px;border:1px solid #e1e2e3}.label-left-align :deep(.el-form-item__label){text-align:left}.label-center-align :deep(.el-form-item__label){text-align:center}.label-right-align :deep(.el-form-item__label){text-align:right}.grid-cell{padding:0 10px;width:50px}.static-content-item{min-height:20px;font-size:18px;display:flex;align-items:center;color:#fff}.static-content-item :deep(.el-divider--horizontal){margin:0}.static-content-item p{margin:0 0 10px}\n',document.head.appendChild(l),e("default",{__name:"createVelero",setup:function(e,l){var b=l.expose,h=t({s3Address:"",s3Region:"minio",s3Bucket:"k8s-backup",provider:"aws",s3Key:"admin",veleroImage:"registry.cn-beijing.aliyuncs.com/dotbalo/velero:latest",s3Secret:"admin",pluginImage:"registry.cn-beijing.aliyuncs.com/dotbalo/velero-plugin-for-aws:latest",path:""}),x=t({s3Address:[{required:!0,message:"字段值不可为空"}],s3Region:[{required:!0,message:"字段值不可为空"}],s3Bucket:[{required:!0,message:"字段值不可为空"}],provider:[{required:!0,message:"字段值不可为空"}],s3Key:[{required:!0,message:"字段值不可为空"}],veleroImage:[{required:!0,message:"字段值不可为空"}],s3Secret:[{required:!0,message:"字段值不可为空"}],pluginImage:[{required:!0,message:"字段值不可为空"}]}),y=a(null),_=function(){return new Promise((function(e){y.value?y.value.validate((function(l){e(l)})):e(!1)}))};return b({submitForm:_,resetForm:function(){y.value&&y.value.resetFields()},getFormData:function(){return h}}),function(e,l){var t=c,a=f,b=p,V=m,v=g;return r(),n(v,{model:h,ref_key:"vForm",ref:y,rules:x,"label-position":"left","label-width":"80px",size:"medium",onSubmit:s(_,["prevent"])},{default:i((function(){return[u(V,null,{default:i((function(){return[u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"存储地址:","label-width":"170px",prop:"s3Address",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.s3Address,"onUpdate:modelValue":l[0]||(l[0]=function(e){return h.s3Address=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1}),u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"存储Region:","label-width":"170px",prop:"s3Region",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.s3Region,"onUpdate:modelValue":l[1]||(l[1]=function(e){return h.s3Region=e}),type:"text",placeholder:"请输入对象存储地址",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),u(V,null,{default:i((function(){return[u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"对象存储桶(Bucket):","label-width":"170px",prop:"s3Bucket",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.s3Bucket,"onUpdate:modelValue":l[2]||(l[2]=function(e){return h.s3Bucket=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1}),u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"存储供应商:","label-width":"170px",prop:"provider",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.provider,"onUpdate:modelValue":l[3]||(l[3]=function(e){return h.provider=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),u(V,null,{default:i((function(){return[u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"对象存储用户名(Key):","label-width":"170px",prop:"s3Key",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.s3Key,"onUpdate:modelValue":l[4]||(l[4]=function(e){return h.s3Key=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1}),u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"Velero镜像地址:","label-width":"170px",prop:"veleroImage",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.veleroImage,"onUpdate:modelValue":l[5]||(l[5]=function(e){return h.veleroImage=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),u(V,null,{default:i((function(){return[u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"对象存储密码(Secret):","label-width":"170px",prop:"s3Secret",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.s3Secret,"onUpdate:modelValue":l[6]||(l[6]=function(e){return h.s3Secret=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1}),u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"插件镜像地址:","label-width":"170px",prop:"pluginImage",class:"required label-right-align"},{default:i((function(){return[u(t,{modelValue:h.pluginImage,"onUpdate:modelValue":l[7]||(l[7]=function(e){return h.pluginImage=e}),type:"text",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1})]})),_:1}),u(V,null,{default:i((function(){return[u(b,{span:12,class:"grid-cell"},{default:i((function(){return[u(a,{label:"存储路径:","label-width":"170px",prop:"path",class:"label-right-align"},{default:i((function(){return[u(t,{modelValue:h.path,"onUpdate:modelValue":l[8]||(l[8]=function(e){return h.path=e}),type:"text",placeholder:"可选，指定bucket的下级路径",clearable:""},null,8,["modelValue"])]})),_:1})]})),_:1}),u(b,{span:12,class:"grid-cell"})]})),_:1}),u(V,null,{default:i((function(){return[u(b,{span:24,class:"grid-cell"},{default:i((function(){return l[9]||(l[9]=[o("div",{class:"static-content-item"},[o("div",null,"注意事项")],-1),o("p",{style:{"margin-top":"10px"}},[d("不同的Kubernetes版本会对应不同的Velero版本，请在 "),o("a",{href:"https://github.com/vmware-tanzu/velero?tab=readme-ov-file#changelog",target:"_blank"},"Velero版本详情"),d(" 选择对应的Velero版本。 ")],-1),o("p",{style:{"margin-top":"10px"}},"如果当前K8s版本大于1.18，可以无需更改Velero镜像。",-1),o("p",{style:{"margin-top":"10px"}},"如需重新安装Velero，需要先删除该集群的Velero命名空间，之后在执行安装。",-1),o("p",{style:{"margin-top":"10px"}},"如需卸载Velero，直接删除该集群的Velero命名空间即可。",-1)])})),_:1})]})),_:1})]})),_:1},8,["model","rules"])}}})}}}));
