/*! 
 Build based on  
 Time : 1735190558000 */
import{_ as e,o as a,c as l,e as t,w as r,b as n,t as o,F as i,v as s,f as u,h as d,g as p,B as c,E as m}from"./index.ABWJOL2Q.js";import{E as f,a as b}from"./table-column.ChuwY-lb.js";import"./checkbox.BcMUmSPv.js";/* empty css                *//* empty css               */import"./scrollbar.3ySweVnY.js";/* empty css             */import{a as y,E as k}from"./form-item.ujPiwBAF.js";/* empty css               */import{E as w,a as _,b as x}from"./dropdown-item.Bdep7Ju0.js";/* empty css            */import{A as v}from"./age.Du5VDnjl.js";import{E as g}from"./index.D4uEcQv3.js";import{E as h}from"./index.DglrVZRl.js";function j(e){return-1!==e.indexOf("u")?Number((Number(e.replace("u",""))/1e9).toFixed(2)):-1!==e.indexOf("n")?Number((Number(e.replace("n",""))/1e6).toFixed(2)):-1!==e.indexOf("m")?Number(e.replace("m","")):1e3*Number(e)}function C(e){return-1!==e.indexOf("Ki")?Number((Number(e.replace("Ki",""))/1024).toFixed(2)):-1!==e.indexOf("Mi")?Number(e.replace("Mi","")):-1!==e.indexOf("Gi")?1024*Number(e.replace("Gi","")):Number(e)}function N(e){return null==e?"":-1!==e.indexOf("Ki")?(Number(e.replace("Ki",""))/1048576).toFixed(2):-1!==e.indexOf("Mi")?(Number(e.replace("Mi",""))/1024).toFixed(2):-1!==e.indexOf("Gi")?e.replace("Gi",""):void 0}function O(e){return null==e?"":-1!==e.indexOf("u")?(Number(e.replace("u",""))/1e12).toFixed(2):-1!==e.indexOf("n")?(Number(e.replace("n",""))/1e9).toFixed(2):-1!==e.indexOf("m")?(Number(e.replace("m",""))/1e3).toFixed(2):e}const F=["onClick"],I={key:0},M={style:{"text-align":"center"}},T={name:"TableBlock",emits:{update:()=>!0,search:()=>!0,drain:()=>!0,schedule:()=>!0,detail:()=>!0,yaml:()=>!0,monitor:()=>!0,shell:()=>!0,delete:e=>1===e.length}},E=e(Object.assign(T,{props:{tableData:{default:function(){return[]},type:Array}},emits:["update","delete","search","detail","schedule","drain","yaml","monitor","shell"],setup(e,{emit:j}){const C=j,T=e=>{let a="";for(const l of e.status.conditions)if("Ready"===l.type){if("True"===l.status){a="Ready";break}a=l.status;break}return e.spec.unschedulable&&(a+=", SchedulingDisabled"),a},E=e=>{if(!e||"object"!=typeof e)return"";const a=Object.keys(e).filter((e=>e.includes("node-role.kubernetes.io"))).map((e=>e.match(/([^/]+$)/)[0]));return void 0!==e["kubernetes.io/role"]?a.push(e["kubernetes.io/role"]):a.push("Worker"),a.join(", ")},P=e=>{C("detail",e)};return(j,U)=>{const G=f,R=m,S=g,z=h,D=w,K=_,A=x,B=y,V=k,L=b;return a(),l("div",null,[t(L,{ref:"multipleTable",data:e.tableData,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:r((()=>[t(G,{type:"selection",width:"55"}),t(G,{align:"left",label:"名称",prop:"metadata.name"},{default:r((e=>[n("span",{class:"operate-span-primary",onClick:a=>P(e.row)},o(e.row.metadata.name),9,F),t(S,{placement:"top"},{content:r((()=>[(a(!0),l(i,null,s(e.row.metadata.labels,((e,t,r)=>(a(),l("div",{slot:"content",key:r},[n("span",null,o(t)+": "+o(e),1)])))),128))])),default:r((()=>[t(R,{size:"small",type:"primary",link:"",icon:"PriceTag"})])),_:2},1024)])),_:1}),t(G,{label:"Internal IP",prop:"metadata.name","max-width":"30px"},{default:r((e=>[(a(!0),l(i,null,s(e.row.status.addresses,((e,t)=>(a(),l("div",{key:t},["InternalIP"===e.type?(a(),l("span",I,o(e.address),1)):u("",!0)])))),128))])),_:1}),t(G,{label:"状态",prop:"status",type:"scope"},{default:r((e=>["Ready"===T(e.row)?(a(),d(z,{key:0,type:"success"},{default:r((()=>U[0]||(U[0]=[p("Ready")]))),_:1})):(a(),d(z,{key:1,type:"danger"},{default:r((()=>[p(o(T(e.row)),1)])),_:2},1024))])),_:1}),t(G,{label:"角色",prop:"metadata.labels",type:"scope"},{default:r((e=>[n("span",null,o(E(e.row.metadata.labels)),1)])),_:1}),t(G,{label:"CPU用量",prop:"cpuUsage",type:"scope"},{default:r((e=>[n("div",null,[n("div",null,[n("span",null,o(e.row.cpuUsagePersent)+"%",1)]),n("div",null,[n("span",null,o(c(O)(e.row.cpuUsage))+" / "+o(c(O)(e.row.status.allocatable.cpu))+" 核",1)])])])),_:1}),t(G,{label:"内存用量",prop:"memoryUsage",type:"scope"},{default:r((e=>[n("div",null,[n("div",null,[n("span",null,o(e.row.memoryUsagePersent)+"%",1)]),n("div",null,[n("span",null,o(c(N)(e.row.memoryUsage))+" / "+o(c(N)(e.row.status.allocatable.memory))+" Gi",1)])])])),_:1}),t(G,{label:"版本",prop:"version",type:"scope",align:"center",width:"250"},{default:r((e=>[n("div",M,[n("span",null,o(e.row.status.nodeInfo.kubeletVersion),1),U[1]||(U[1]=n("br",null,null,-1)),n("span",null,o(e.row.status.nodeInfo.containerRuntimeVersion),1),U[2]||(U[2]=n("br",null,null,-1)),n("span",null,o(e.row.status.nodeInfo.osImage),1)])])),_:1}),t(G,{align:"left",label:"存活时间",prop:"metadata.creationTimestamp",width:"180"},{default:r((e=>[n("span",null,o(c(v)(e.row.metadata.creationTimestamp)),1)])),_:1}),t(G,{align:"left",label:"操作"},{default:r((e=>[t(V,{inline:!0,class:"demo-form-inline"},{default:r((()=>[t(B,null,{default:r((()=>[t(R,{size:"small",type:"primary",link:"",icon:"edit",onClick:a=>{return l=e.row,void C("update",l);var l}},{default:r((()=>U[3]||(U[3]=[p("编辑")]))),_:2},1032,["onClick"]),t(A,null,{dropdown:r((()=>[t(K,null,{default:r((()=>[t(D,{icon:"InfoFilled",onClick:a=>P(e.row)},{default:r((()=>U[5]||(U[5]=[p("详情")]))),_:2},1032,["onClick"]),t(D,{icon:"Expand",onClick:a=>{return l=e.row,void C("shell",l);var l}},{default:r((()=>U[6]||(U[6]=[p("Shell")]))),_:2},1032,["onClick"]),t(D,{icon:"Monitor",onClick:a=>{return l=e.row,void C("monitor",l);var l}},{default:r((()=>U[7]||(U[7]=[p("监控")]))),_:2},1032,["onClick"]),t(D,{icon:"edit",onClick:a=>{return l=e.row,void C("yaml",l);var l}},{default:r((()=>U[8]||(U[8]=[p("YAML")]))),_:2},1032,["onClick"]),t(D,{icon:"Crop",onClick:a=>{return l=e.row,void C("drain",l);var l}},{default:r((()=>U[9]||(U[9]=[p("节点排空")]))),_:2},1032,["onClick"]),t(D,{icon:"Setting",onClick:a=>{return l=e.row,void C("schedule",l);var l}},{default:r((()=>U[10]||(U[10]=[p("调度设置")]))),_:2},1032,["onClick"])])),_:2},1024)])),default:r((()=>[t(R,{type:"primary",link:"",icon:"MoreFilled",size:"small"},{default:r((()=>U[4]||(U[4]=[p("更多")]))),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["data"])])}}}),[["__scopeId","data-v-9e406e9b"]]),P=Object.freeze(Object.defineProperty({__proto__:null,default:E},Symbol.toStringTag,{value:"Module"}));export{E as T,j as c,C as m,P as t};
