/*! 
 Build based on  
 Time : 1735190558000 */
import{a as e,o as a,h as l,w as t,c as s,F as o,v as n,e as r,b as u,t as i,g as d,E as c}from"./index.ABWJOL2Q.js";/* empty css            */import{E as m,a as p}from"./select.C2tLDQ30.js";import"./scrollbar.3ySweVnY.js";/* empty css               */import{g as f}from"./namespaces.DIn9v7pI.js";import{E as v}from"./card.RgDT494R.js";import{E as b,a as y}from"./col.BzMVCOvM.js";/* empty css             *//* empty css               */import{_ as h}from"./index.B0d1JK95.js";import{E as k}from"./form-item.ujPiwBAF.js";const g={name:"NamespaceSelectBlock",emits:{enter:e=>1===e.length}},j=Object.assign(g,{props:{namespace:{default:function(){return""},type:String},cluster:{default:function(){return 0},type:Number}},emits:["enter"],setup(r,{emit:u}){const i=u,d=r,c=e(""),v=e(0),b=e([]);c.value=d.namespace,v.value=d.cluster,(async e=>{const a=await f({id:e});if(0===a.code){b.value=[];for(const e of a.data.namespaces){const a={id:Math.random(),name:e};b.value.push(a)}}})(v.value);const y=e=>{i("enter",e)};return(e,r)=>{const u=m,i=p;return a(),l(i,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),filterable:"",onChange:y},{default:t((()=>[(a(!0),s(o,null,n(b.value,(e=>(a(),l(u,{key:e.id,label:e.name,value:e.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])}}}),V={style:{"margin-top":"20px"}},x={class:"card-header"},_={style:{width:"98%"},class:"tab-table"},w={align:"left"},E={name:"KeyValueBlock"},O=Object.assign(E,{props:{form:{default:function(){return{}},type:Object},title:{default:function(){return""},type:String}},setup(l,{expose:m}){const p=l,f=e([]),g=e(!1),j=e("");(()=>{if(j.value=p.title,p.form)for(const e in p.form)Object.prototype.hasOwnProperty.call(p.form,e)&&f.value.push({index:Math.random(),key:e,value:p.form[e]});g.value=p.isreadonly})();const E=()=>{const e={index:Math.random(),key:"",value:""};f.value.push(e)};return m({transformationformat:async(e,a)=>{((e,a)=>{if(f.value){const l={};for(let e=0;e<f.value.length;e++)""!==f.value[e].key&&(l[f.value[e].key]=f.value[e].value);switch(a){case"selector":e.spec&&(e.spec.selector=l);break;case"labels":e.metadata&&(e.metadata.labels=l);break;case"annotations":e.metadata&&(e.metadata.annotations=l);break;case"data":e&&(e.data=l);break;case"binaryData":e&&(e.binaryData=l)}}})(e,a)}}),(e,l)=>{const m=c,p=k,O=b,U=y,C=v;return a(),s("div",V,[r(C,{class:"box-card",shadow:"hover"},{header:t((()=>[u("div",x,[u("span",null,i(j.value),1)])])),default:t((()=>[r(U,null,{default:t((()=>[r(O,{span:24},{default:t((()=>[r(p,{disabled:g.value},{default:t((()=>[u("table",_,[l[2]||(l[2]=u("tr",null,[u("th",{scope:"col",width:"48%",align:"left"},[u("label",null,"键")]),u("th",{scope:"col",width:"48%",align:"left"},[u("label",null,"值")]),u("th",{align:"left"})],-1)),(a(!0),s(o,null,n(f.value,((e,o)=>(a(),s("tr",{key:o},[u("td",null,[r(h,{modelValue:e.key,"onUpdate:modelValue":a=>e.key=a,placeholder:"e.g. foo","item-type":"input"},null,8,["modelValue","onUpdate:modelValue"])]),u("td",null,[r(h,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,placeholder:"e.g. bar","item-type":"textarea"},null,8,["modelValue","onUpdate:modelValue"])]),u("td",null,[r(m,{type:"danger",link:"",icon:"delete",size:"small",onClick:e=>(e=>{f.value.splice(e,1)})(o)},{default:t((()=>l[0]||(l[0]=[d("删除 ")]))),_:2},1032,["onClick"])])])))),128)),u("tr",null,[u("td",w,[r(m,{size:"small",type:"primary",link:"",icon:"plus",onClick:E},{default:t((()=>l[1]||(l[1]=[d("添加")]))),_:1})])])])])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])}}});export{j as _,O as a};
