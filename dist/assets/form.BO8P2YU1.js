/*! 
 Build based on  
 Time : 1735190558000 */
import{_ as e,a as l,N as a,R as o,o as t,c as r,e as u,w as p,g as s,h as i,f as m,b as d,k as n,E as v}from"./index.ABWJOL2Q.js";/* empty css               *//* empty css             *//* empty css                    *//* empty css              *//* empty css            */import{E as f,a as c}from"./select.C2tLDQ30.js";import"./scrollbar.3ySweVnY.js";/* empty css               */import{a as y,E as b}from"./form-item.ujPiwBAF.js";/* empty css              */import{E as g,a as j}from"./index.DINKPDpR.js";import"./index.D4uEcQv3.js";import"./index.BRjlB3m5.js";import"./index.DglrVZRl.js";import"./token.DWNpOE8r.js";import"./strings.C2tuonvC.js";import"./castArray.9wqFpW2Z.js";import"./isEqual.CtpQH3Dm.js";import"./_Uint8Array.BjvNwsUf.js";import"./debounce.CkdGDwJt.js";import"./_baseIteratee.BPaQBmlP.js";import"./index.6ock-Gvr.js";import"./_baseClone.gl1e0kmI.js";import"./_initCloneObject.jmqS1x-g.js";const _={style:{overflow:"hidden",width:"100%","max-width":"600px","margin-left":"20px"}},V={class:"dialog-footer",align:"right"},k=e({__name:"form",props:{form:{default:()=>({}),type:Object}},emits:["close","enter"],setup(e,{emit:k}){const h=k,x=e,T=l({name:"",type:3,repositoryType:"private",url:"",username:"",token:"",desc:""}),U=l("请输入地址"),G=l(!1);a((()=>{T.value={...x.form}})),o((()=>T.value.type),(e=>{4===e?(T.value.url="https://github.com",G.value=!0):5===e?(T.value.url="https://gitee.com",G.value=!0):(T.value.url="",G.value=!1)}));const q=l({name:[{required:!0,message:"请输入名称",trigger:"blur"}],type:[{required:!0,message:"请选择配置类型",trigger:"change"}],url:[{required:!0,message:"请输入URL信息",trigger:"blur"}],username:[{required:e=>3===e.type&&"private"===e.repositoryType,message:"请输入GitLab用户名",trigger:"blur"}],token:[{required:e=>"private"===e.repositoryType,message:"请输入Token信息",trigger:"blur"}]}),w=l(null),E=()=>{w.value.resetFields(),h("close")},C=()=>{w.value.validate((e=>{if(e){const e={id:T.value.ID,name:T.value.name,desc:T.value.desc,config:{type:"private"===T.value.repositoryType?0:1,url:T.value.url,username:T.value.username,token:T.value.token},type:T.value.type};h("enter",e)}}))};return(e,l)=>{const a=n,o=y,k=f,h=c,x=g,L=j,I=b,R=v;return t(),r("div",_,[u(I,{ref_key:"FormBlock",ref:w,model:T.value,rules:q.value,"label-width":"120px"},{default:p((()=>[u(o,{label:"名称",prop:"name"},{default:p((()=>[u(a,{modelValue:T.value.name,"onUpdate:modelValue":l[0]||(l[0]=e=>T.value.name=e),placeholder:"请输入名称",autocomplete:"off"},null,8,["modelValue"])])),_:1}),u(o,{label:"配置类型",prop:"type"},{default:p((()=>[u(h,{modelValue:T.value.type,"onUpdate:modelValue":l[1]||(l[1]=e=>T.value.type=e),placeholder:"请选择配置类型"},{default:p((()=>[u(k,{label:"GitLab",value:3}),u(k,{label:"GitHub",value:4}),u(k,{label:"Gitee",value:5}),u(k,{label:"Gitea",value:6}),u(k,{label:"Gogs",value:7})])),_:1},8,["modelValue"])])),_:1}),u(o,{label:"仓库类型",prop:"repositoryType"},{default:p((()=>[u(L,{modelValue:T.value.repositoryType,"onUpdate:modelValue":l[2]||(l[2]=e=>T.value.repositoryType=e)},{default:p((()=>[u(x,{label:"private"},{default:p((()=>l[7]||(l[7]=[s("私有")]))),_:1}),u(x,{label:"public"},{default:p((()=>l[8]||(l[8]=[s("开源")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),u(o,{label:"地址",prop:"url"},{default:p((()=>[u(a,{modelValue:T.value.url,"onUpdate:modelValue":l[3]||(l[3]=e=>T.value.url=e),placeholder:U.value,disabled:G.value,autocomplete:"off"},null,8,["modelValue","placeholder","disabled"])])),_:1}),3===T.value.type&&"private"===T.value.repositoryType?(t(),i(o,{key:0,label:"用户名",prop:"username"},{default:p((()=>[u(a,{modelValue:T.value.username,"onUpdate:modelValue":l[4]||(l[4]=e=>T.value.username=e),placeholder:"请输入GitLab用户名",autocomplete:"off"},null,8,["modelValue"])])),_:1})):m("",!0),"private"===T.value.repositoryType?(t(),i(o,{key:1,label:"Token",prop:"token"},{default:p((()=>[u(a,{modelValue:T.value.token,"onUpdate:modelValue":l[5]||(l[5]=e=>T.value.token=e),placeholder:"请输入代码源Token",autocomplete:"off"},null,8,["modelValue"])])),_:1})):m("",!0),u(o,{label:"描述",prop:"desc"},{default:p((()=>[u(a,{modelValue:T.value.desc,"onUpdate:modelValue":l[6]||(l[6]=e=>T.value.desc=e),placeholder:"请输入描述",type:"textarea",autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),d("div",V,[u(R,{size:"small",onClick:E},{default:p((()=>l[9]||(l[9]=[s("取消")]))),_:1}),u(R,{size:"small",type:"primary",onClick:C},{default:p((()=>l[10]||(l[10]=[s("确定")]))),_:1})])])}}},[["__scopeId","data-v-a1b07045"]]);export{k as default};
