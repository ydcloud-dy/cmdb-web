/*! 
 Build based on  
 Time : 1735190558000 */
import{a,o as e,c as t,e as l,w as r,h as o,b as s,g as m,E as n}from"./index.ABWJOL2Q.js";import{E as i}from"./card.RgDT494R.js";/* empty css               *//* empty css             */import{E as u,a as d}from"./tab-pane.fs024GHS.js";import{E as p,a as f}from"./col.BzMVCOvM.js";import{a as c,E as v}from"./form-item.ujPiwBAF.js";import{_ as j}from"./index.B0d1JK95.js";import{_ as b,a as y}from"./key-value.C1obDZCo.js";import"./strings.C2tuonvC.js";import"./index.C5gbd99D.js";import"./castArray.9wqFpW2Z.js";import"./_baseClone.gl1e0kmI.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";/* empty css                    *//* empty css              *//* empty css                       */import"./checkbox.BcMUmSPv.js";import"./isEqual.CtpQH3Dm.js";/* empty css              *//* empty css            */import"./select.C2tLDQ30.js";import"./index.D4uEcQv3.js";import"./index.BRjlB3m5.js";import"./scrollbar.3ySweVnY.js";import"./index.DglrVZRl.js";import"./token.DWNpOE8r.js";import"./debounce.CkdGDwJt.js";import"./_baseIteratee.BPaQBmlP.js";import"./index.6ock-Gvr.js";/* empty css               */import"./index.DINKPDpR.js";import"./namespaces.DIn9v7pI.js";const _={class:"grid-content bg-purple-light"},g={style:{float:"right","margin-top":"10px"}},k={name:"FormBlock"},x=Object.assign(k,{props:{form:{default:function(){return{}},type:Object},cluster:{default:function(){return 0},type:Number},readonly:{default:function(){return!1},type:Boolean}},emits:["close","enter"],setup(k,{emit:x}){const V=x,h=k,w=a({}),E=a({}),U=a("data"),C=a(!1),D=a({"metadata.name":[{required:!0,message:"请输入名称",trigger:"blur"}],"metadata.namespace":[{required:!0,message:"请选择命名空间",trigger:"blur"}]});w.value=h.form,E.value=h.cluster,C.value=h.readonly;const q=async a=>{w.value.metadata&&(w.value.metadata.namespace=a)},B=a(null),z=()=>{B.value.resetFields(),V("close")},F=a(null),O=a(null),A=a(null),I=a(null),K=async()=>{await F.value.transformationformat(w.value,"data"),await O.value.transformationformat(w.value,"binaryData"),await A.value.transformationformat(w.value,"labels"),await I.value.transformationformat(w.value,"annotations"),V("enter",w.value)},L=a=>{U.value=a.name};return(a,k)=>{const x=c,V=p,h=f,N=u,R=d,S=v,T=n,W=i;return e(),t("div",null,[l(W,{class:"el-card"},{default:r((()=>[l(S,{ref_key:"FormBlock",ref:B,model:w.value,rules:D.value,"label-width":"100px"},{default:r((()=>[l(h,{gutter:24},{default:r((()=>[l(V,{span:8},{default:r((()=>[l(x,{label:"名称",prop:"metadata.name"},{default:r((()=>[C.value?(e(),o(j,{key:0,modelValue:w.value.metadata.name,"onUpdate:modelValue":k[0]||(k[0]=a=>w.value.metadata.name=a),style:{width:"100%"},disabled:"","item-type":"input"},null,8,["modelValue"])):(e(),o(j,{key:1,modelValue:w.value.metadata.name,"onUpdate:modelValue":k[1]||(k[1]=a=>w.value.metadata.name=a),placeholder:"请输入名称","item-type":"input",style:{width:"100%"}},null,8,["modelValue"]))])),_:1})])),_:1}),l(V,{span:8},{default:r((()=>[l(x,{label:"命名空间",required:"",prop:"metadata.namespace"},{default:r((()=>[C.value?(e(),o(j,{key:0,modelValue:w.value.metadata.namespace,"onUpdate:modelValue":k[2]||(k[2]=a=>w.value.metadata.namespace=a),style:{width:"100%"},disabled:"","item-type":"select2"},null,8,["modelValue"])):(e(),o(b,{key:1,cluster:E.value,namespace:w.value.metadata.namespace,onEnter:q},null,8,["cluster","namespace"]))])),_:1})])),_:1})])),_:1}),l(V,{span:24},{default:r((()=>[l(R,{ref:"tabs",modelValue:U.value,"onUpdate:modelValue":k[3]||(k[3]=a=>U.value=a),"tab-position":"top",type:"border-card",onTabClick:L},{default:r((()=>[l(N,{label:"数据",name:"data"},{default:r((()=>[l(y,{ref_key:"data",ref:F,title:"Data",form:w.value.data},null,8,["form"]),l(y,{ref_key:"binaryData",ref:O,title:"BinaryData",form:w.value.binaryData},null,8,["form"])])),_:1}),l(N,{name:"Labels",label:"标签/注解"},{default:r((()=>[l(y,{ref_key:"labels",ref:A,title:"标签",form:w.value.metadata.labels},null,8,["form"]),l(y,{ref_key:"annotations",ref:I,title:"注解",form:w.value.metadata.annotations},null,8,["form"])])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model","rules"]),s("div",_,[s("div",g,[l(T,{size:"small",onClick:z},{default:r((()=>k[4]||(k[4]=[m("取 消")]))),_:1}),l(T,{size:"small",type:"primary",onClick:K},{default:r((()=>k[5]||(k[5]=[m("确 定")]))),_:1})])])])),_:1})])}}});export{x as default};
