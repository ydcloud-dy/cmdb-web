/*! 
 Build based on  
 Time : 1735190558000 */
import{a as e,o as a,c as t,e as l,w as s,B as o,g as n,f as r,E as i}from"./index.ABWJOL2Q.js";/* empty css               *//* empty css             */import{a as u,E as d}from"./form-item.ujPiwBAF.js";import{M as m}from"./monaco-editor-vue3.es.BmYKexe9.js";import{j as c}from"./js-yaml.B_ZKWvuw.js";import"./castArray.9wqFpW2Z.js";import"./_baseClone.gl1e0kmI.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";const p={style:{overflow:"hidden",width:"100%"}},y={key:0,class:"dialog-footer",align:"center"},f={name:"YamlBlock",emits:{close:()=>!0,enter:e=>1===e.length}},v=Object.assign(f,{props:{data:{default:function(){return{}},type:Object},readOnly:{default:function(){return!1},type:Boolean}},emits:["close","enter"],setup(f,{emit:v}){const g=v,j=f,h=e(""),b=e(null),O=e(!1);(async()=>{"{}"!==JSON.stringify(j.data)&&(j.data.metadata&&j.data.metadata.managedFields&&delete j.data.metadata.managedFields,h.value=c.dump(j.data)),O.value=j.readOnly,b.value={value:h.value,language:"yaml",theme:"vs-dark",selectOnLineNumbers:!0,roundedSelection:!1,readOnly:O.value,cursorStyle:"line",automaticLayout:!0,glyphMargin:!0,useTabStops:!1,autoIndent:!0,quickSuggestionsDelay:100}})();const k=()=>{g("close")},_=async()=>{g("enter",c.load(h.value))};return(e,c)=>{const f=u,v=d,g=i;return a(),t("div",p,[l(v,{ref:"YamlBlock"},{default:s((()=>[l(f,null,{default:s((()=>[l(o(m),{value:h.value,"onUpdate:value":c[0]||(c[0]=e=>h.value=e),theme:"vs",options:b.value,language:"yaml",width:"100%",height:600},null,8,["value","options"])])),_:1})])),_:1},512),O.value?r("",!0):(a(),t("div",y,[l(g,{size:"small",onClick:k},{default:s((()=>c[1]||(c[1]=[n("取 消")]))),_:1}),l(g,{size:"small",type:"primary",onClick:_},{default:s((()=>c[2]||(c[2]=[n("确 定")]))),_:1})]))])}}});export{v as default};
