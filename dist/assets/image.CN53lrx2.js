/*! 
 Build based on  
 Time : 1735190558000 */
class t{constructor(t,e,i=1920){this.file=t,this.fileSize=e,this.maxWH=i}compress(){const t=this.file.type;this.file.size;return new Promise((e=>{const i=new FileReader;i.readAsDataURL(this.file),i.onload=()=>{const s=document.createElement("canvas"),h=document.createElement("img");h.src=i.result,h.onload=()=>{const i=s.getContext("2d"),a=this.dWH(h.width,h.height,this.maxWH);s.width=a.width,s.height=a.height,i.clearRect(0,0,s.width,s.height),i.drawImage(h,0,0,s.width,s.height);const n=s.toDataURL(t,.9);this.fileSizeKB(n);this.fileSize;const o=this.dataURLtoBlob(n,t),l=new File([o],this.file.name);e(l)}}}))}dWH(t,e,i){const s={width:t,height:e};return Math.max(t,e)>i?t>e?(s.width=i,s.height=Math.round(e*(i/t)),s):(s.height=i,s.width=Math.round(t*(i/e)),s):s}fileSizeKB(t){let e=0;return e=Math.round(3*t.split(",")[1].length/4/1024),e}dataURLtoBlob(t,e){const i=atob(t.split(",")[1]);let s=t.split(",")[0].split(":")[1].split(";")[0];const h=new ArrayBuffer(i.length),a=new Uint8Array(h);for(let n=0;n<i.length;n++)a[n]=i.charCodeAt(n);return e&&(s=e),new Blob([h],{type:s,lastModifiedDate:new Date})}}const e="/api",i=t=>t&&"http"!==t.slice(0,4)?"/"===t.slice(0,1)?e+t:e+"/"+t:t,s=t=>t.endsWith(".mp4")||t.endsWith(".mov")||t.endsWith(".webm")||t.endsWith(".ogg"),h=t=>"video/mp4"==t||"video/webm"==t||"video/ogg"==t,a=t=>"image/jpeg"==t||"image/png"==t||"image/webp"==t||"image/svg+xml"==t;export{t as I,a,s as b,i as g,h as i};
