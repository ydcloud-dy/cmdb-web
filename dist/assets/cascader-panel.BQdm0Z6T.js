/*! 
 Build based on  
 Time : 1735190558000 */
import{bH as e,y as a,z as l,bQ as t,C as n,Q as o,bB as s,bS as i,bR as c,V as d,H as u,P as r,o as p,c as h,f as v,h as f,O as m,w as g,b,e as k,n as y,F as C,G as x,A as E,a as N,v as w,g as S,t as L,J as T,Z as V,cD as _,ag as D,ab as M,a8 as B,D as z,ao as F,aQ as P,dx as H,aj as j,al as q,au as I,r as A,R as $,dy as R,q as U,a1 as K,ae as O,ak as Z,ai as W,dz as Q,dA as G,L as J,an as X,as as Y,aI as ee,cG as ae,a5 as le,a7 as te,a3 as ne,aa as oe,ad as se,ci as ie,a2 as ce,S as de,B as ue,K as re,k as pe,aq as he,ar as ve,m as fe,aw as me,bK as ge,T as be,dB as ke}from"./index.ABWJOL2Q.js";import{E as ye}from"./scrollbar.3ySweVnY.js";import{E as Ce}from"./checkbox.BcMUmSPv.js";import{E as xe}from"./index.DINKPDpR.js";import{c as Ee}from"./strings.C2tuonvC.js";import{i as Ne}from"./isEqual.CtpQH3Dm.js";import{u as we,c as Se}from"./arrays.CvpzyGiz.js";import{c as Le}from"./cloneDeep.BwH6oqGn.js";import{a as Te,u as Ve,E as _e}from"./index.D4uEcQv3.js";import{t as De,E as Me}from"./index.DglrVZRl.js";import{C as Be}from"./index.6ock-Gvr.js";import{d as ze}from"./debounce.CkdGDwJt.js";var Fe=1/0;var Pe=a({name:"NodeContent",setup:()=>({ns:l("cascader-node")}),render(){const{ns:e}=this,{node:a,panel:l}=this.$parent,{data:n,label:o}=a,{renderLabelFn:s}=l;return t("span",{class:e.e("label")},s?s({node:a,data:n}):o)}});const He=Symbol(),je=a({name:"ElCascaderNode",components:{ElCheckbox:Ce,ElRadio:xe,NodeContent:Pe,ElIcon:o,Check:s,Loading:i,ArrowRight:c},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(e,{emit:a}){const t=d(He),n=l("cascader-node"),o=u((()=>t.isHoverMenu)),s=u((()=>t.config.multiple)),i=u((()=>t.config.checkStrictly)),c=u((()=>{var e;return null==(e=t.checkedNodes[0])?void 0:e.uid})),r=u((()=>e.node.isDisabled)),p=u((()=>e.node.isLeaf)),h=u((()=>i.value&&!p.value||!r.value)),v=u((()=>m(t.expandingNode))),f=u((()=>i.value&&t.checkedNodes.some(m))),m=a=>{var l;const{level:t,uid:n}=e.node;return(null==(l=null==a?void 0:a.pathNodes[t-1])?void 0:l.uid)===n},g=()=>{v.value||t.expandNode(e.node)},b=a=>{const{node:l}=e;a!==l.checked&&t.handleCheckChange(l,a)},k=()=>{t.lazyLoad(e.node,(()=>{p.value||g()}))},y=()=>{const{node:a}=e;h.value&&!a.loading&&(a.loaded?g():k())},C=a=>{e.node.loaded?(b(a),!i.value&&g()):k()};return{panel:t,isHoverMenu:o,multiple:s,checkStrictly:i,checkedNodeId:c,isDisabled:r,isLeaf:p,expandable:h,inExpandingPath:v,inCheckedPath:f,ns:n,handleHoverExpand:e=>{o.value&&(y(),!p.value&&a("expand",e))},handleExpand:y,handleClick:()=>{o.value&&!p.value||(!p.value||r.value||i.value||s.value?y():C(!0))},handleCheck:C,handleSelectCheck:a=>{i.value?(b(a),e.node.loaded&&g()):C(a)}}}});var qe=n(a({name:"ElCascaderMenu",components:{Loading:i,ElIcon:o,ElScrollbar:ye,ElCascaderNode:n(je,[["render",function(e,a,l,t,n,o){const s=r("el-checkbox"),i=r("el-radio"),c=r("check"),d=r("el-icon"),u=r("node-content"),x=r("loading"),E=r("arrow-right");return p(),h("li",{id:"".concat(e.menuId,"-").concat(e.node.uid),role:"menuitem","aria-haspopup":!e.isLeaf,"aria-owns":e.isLeaf?null:e.menuId,"aria-expanded":e.inExpandingPath,tabindex:e.expandable?-1:void 0,class:y([e.ns.b(),e.ns.is("selectable",e.checkStrictly),e.ns.is("active",e.node.checked),e.ns.is("disabled",!e.expandable),e.inExpandingPath&&"in-active-path",e.inCheckedPath&&"in-checked-path"]),onMouseenter:e.handleHoverExpand,onFocus:e.handleHoverExpand,onClick:e.handleClick},[v(" prefix "),e.multiple?(p(),f(s,{key:0,"model-value":e.node.checked,indeterminate:e.node.indeterminate,disabled:e.isDisabled,onClick:m((()=>{}),["stop"]),"onUpdate:modelValue":e.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onClick","onUpdate:modelValue"])):e.checkStrictly?(p(),f(i,{key:1,"model-value":e.checkedNodeId,label:e.node.uid,disabled:e.isDisabled,"onUpdate:modelValue":e.handleSelectCheck,onClick:m((()=>{}),["stop"])},{default:g((()=>[v("\n        Add an empty element to avoid render label,\n        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485\n      "),b("span")])),_:1},8,["model-value","label","disabled","onUpdate:modelValue","onClick"])):e.isLeaf&&e.node.checked?(p(),f(d,{key:2,class:y(e.ns.e("prefix"))},{default:g((()=>[k(c)])),_:1},8,["class"])):v("v-if",!0),v(" content "),k(u),v(" postfix "),e.isLeaf?v("v-if",!0):(p(),h(C,{key:3},[e.node.loading?(p(),f(d,{key:0,class:y([e.ns.is("loading"),e.ns.e("postfix")])},{default:g((()=>[k(x)])),_:1},8,["class"])):(p(),f(d,{key:1,class:y(["arrow-right",e.ns.e("postfix")])},{default:g((()=>[k(E)])),_:1},8,["class"]))],64))],42,["id","aria-haspopup","aria-owns","aria-expanded","tabindex","onMouseenter","onFocus","onClick"])}],["__file","node.vue"]])},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(e){const a=V(),t=l("cascader-menu"),{t:n}=x(),o=E();let s=null,i=null;const c=d(He),r=N(null),p=u((()=>!e.nodes.length)),h=u((()=>!c.initialLoaded)),v=u((()=>"".concat(o.value,"-").concat(e.index))),f=()=>{i&&(clearTimeout(i),i=null)},m=()=>{r.value&&(r.value.innerHTML="",f())};return{ns:t,panel:c,hoverZone:r,isEmpty:p,isLoading:h,menuId:v,t:n,handleExpand:e=>{s=e.target},handleMouseMove:e=>{if(c.isHoverMenu&&s&&r.value)if(s.contains(e.target)){f();const l=a.vnode.el,{left:t}=l.getBoundingClientRect(),{offsetWidth:n,offsetHeight:o}=l,i=e.clientX-t,c=s.offsetTop,d=c+s.offsetHeight;r.value.innerHTML='\n          <path style="pointer-events: auto;" fill="transparent" d="M'.concat(i," ").concat(c," L").concat(n," 0 V").concat(c,' Z" />\n          <path style="pointer-events: auto;" fill="transparent" d="M').concat(i," ").concat(d," L").concat(n," ").concat(o," V").concat(d,' Z" />\n        ')}else i||(i=window.setTimeout(m,c.config.hoverThreshold))},clearHoverZone:m}}}),[["render",function(e,a,l,t,n,o){const s=r("el-cascader-node"),i=r("loading"),c=r("el-icon"),d=r("el-scrollbar");return p(),f(d,{key:e.menuId,tag:"ul",role:"menu",class:y(e.ns.b()),"wrap-class":e.ns.e("wrap"),"view-class":[e.ns.e("list"),e.ns.is("empty",e.isEmpty)],onMousemove:e.handleMouseMove,onMouseleave:e.clearHoverZone},{default:g((()=>{var a;return[(p(!0),h(C,null,w(e.nodes,(a=>(p(),f(s,{key:a.uid,node:a,"menu-id":e.menuId,onExpand:e.handleExpand},null,8,["node","menu-id","onExpand"])))),128)),e.isLoading?(p(),h("div",{key:0,class:y(e.ns.e("empty-text"))},[k(c,{size:"14",class:y(e.ns.is("loading"))},{default:g((()=>[k(i)])),_:1},8,["class"]),S(" "+L(e.t("el.cascader.loading")),1)],2)):e.isEmpty?(p(),h("div",{key:1,class:y(e.ns.e("empty-text"))},[T(e.$slots,"empty",{},(()=>[S(L(e.t("el.cascader.noData")),1)]))],2)):(null==(a=e.panel)?void 0:a.isHoverMenu)?(p(),h("svg",{key:2,ref:"hoverZone",class:y(e.ns.e("hover-zone"))},null,2)):v("v-if",!0)]})),_:3},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}],["__file","menu.vue"]]);let Ie=0;class Ae{constructor(e,a,l,t=!1){this.data=e,this.config=a,this.parent=l,this.root=t,this.uid=Ie++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:n,label:o,children:s}=a,i=e[s],c=(e=>{const a=[e];let{parent:l}=e;for(;l;)a.unshift(l),l=l.parent;return a})(this);this.level=t?0:l?l.level+1:1,this.value=e[n],this.label=e[o],this.pathNodes=c,this.pathValues=c.map((e=>e.value)),this.pathLabels=c.map((e=>e.label)),this.childrenData=i,this.children=(i||[]).map((e=>new Ae(e,a,this))),this.loaded=!a.lazy||this.isLeaf||!_(i)}get isDisabled(){const{data:e,parent:a,config:l}=this,{disabled:t,checkStrictly:n}=l;return(D(t)?t(e,this):!!e[t])||!n&&(null==a?void 0:a.isDisabled)}get isLeaf(){const{data:e,config:a,childrenData:l,loaded:t}=this,{lazy:n,leaf:o}=a,s=D(o)?o(e,this):e[o];return M(s)?!(n&&!t)&&!(B(l)&&l.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:a,children:l}=this,t=new Ae(e,this.config,this);return B(a)?a.push(e):this.childrenData=[e],l.push(t),t}calcText(e,a){const l=e?this.pathLabels.join(a):this.label;return this.text=l,l}broadcast(e,...a){const l="onParent".concat(Ee(e));this.children.forEach((t=>{t&&(t.broadcast(e,...a),t[l]&&t[l](...a))}))}emit(e,...a){const{parent:l}=this,t="onChild".concat(Ee(e));l&&(l[t]&&l[t](...a),l.emit(e,...a))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,a=e.filter((e=>!e.isDisabled)),l=!!a.length&&a.every((e=>e.checked));this.setCheckState(l)}setCheckState(e){const a=this.children.length,l=this.children.reduce(((e,a)=>e+(a.checked?1:a.indeterminate?.5:0)),0);this.checked=this.loaded&&this.children.filter((e=>!e.isDisabled)).every((e=>e.loaded&&e.checked))&&e,this.indeterminate=this.loaded&&l!==a&&l>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:a,multiple:l}=this.config;a||!l?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}}const $e=(e,a)=>e.reduce(((e,l)=>(l.isLeaf?e.push(l):(!a&&e.push(l),e=e.concat($e(l.children,a))),e)),[]);class Re{constructor(e,a){this.config=a;const l=(e||[]).map((e=>new Ae(e,this.config)));this.nodes=l,this.allNodes=$e(l,!1),this.leafNodes=$e(l,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,a){const l=a?a.appendChild(e):new Ae(e,this.config);a||this.nodes.push(l),this.allNodes.push(l),l.isLeaf&&this.leafNodes.push(l)}appendNodes(e,a){e.forEach((e=>this.appendNode(e,a)))}getNodeByValue(e,a=!1){if(!e&&0!==e)return null;return this.getFlattedNodes(a).find((a=>Ne(a.value,e)||Ne(a.pathValues,e)))||null}getSameNode(e){if(!e)return null;return this.getFlattedNodes(!1).find((({value:a,level:l})=>Ne(e.value,a)&&e.level===l))||null}}const Ue=z({modelValue:{type:F([Number,String,Array])},options:{type:F(Array),default:()=>[]},props:{type:F(Object),default:()=>({})}}),Ke={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:P,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},Oe=e=>{if(!e)return 0;const a=e.id.split("-");return Number(a[a.length-2])};const Ze=J(n(a({name:"ElCascaderPanel",components:{ElCascaderMenu:qe},props:{...Ue,border:{type:Boolean,default:!0},renderLabel:Function},emits:[j,q,"close","expand-change"],setup(a,{emit:t,slots:n}){let o=!1;const s=l("cascader"),i=(e=>u((()=>({...Ke,...e.props}))))(a);let c=null;const d=N(!0),r=N([]),p=N(null),h=N([]),v=N(null),f=N([]),m=u((()=>"hover"===i.value.expandTrigger)),g=u((()=>a.renderLabel||n.default)),b=(e,a)=>{const l=i.value;(e=e||new Ae({},l,void 0,!0)).loading=!0;l.lazyLoad(e,(l=>{const t=e,n=t.root?null:t;l&&(null==c||c.appendNodes(l,n)),t.loading=!1,t.loaded=!0,t.childrenData=t.childrenData||[],a&&a(l)}))},k=(e,a)=>{var l;const{level:n}=e,o=h.value.slice(0,n);let s;e.isLeaf?s=e.pathNodes[n-2]:(s=e,o.push(e.children)),(null==(l=v.value)?void 0:l.uid)!==(null==s?void 0:s.uid)&&(v.value=e,h.value=o,!a&&t("expand-change",(null==e?void 0:e.pathValues)||[]))},y=(e,a,l=!0)=>{const{checkStrictly:n,multiple:s}=i.value,c=f.value[0];o=!0,!s&&(null==c||c.doCheck(!1)),e.doCheck(a),w(),l&&!s&&!n&&t("close"),!l&&!s&&!n&&C(e)},C=e=>{e&&(e=e.parent,C(e),e&&k(e))},x=e=>null==c?void 0:c.getFlattedNodes(e),E=e=>{var a;return null==(a=x(e))?void 0:a.filter((e=>!1!==e.checked))},w=()=>{var e;const{checkStrictly:a,multiple:l}=i.value,t=((e,a)=>{const l=a.slice(0),t=l.map((e=>e.uid)),n=e.reduce(((e,a)=>{const n=t.indexOf(a.uid);return n>-1&&(e.push(a),l.splice(n,1),t.splice(n,1)),e}),[]);return n.push(...l),n})(f.value,E(!a)),n=t.map((e=>e.valueByOption));f.value=t,p.value=l?n:null!=(e=n[0])?e:null},S=(l=!1,t=!1)=>{const{modelValue:n}=a,{lazy:s,multiple:u,checkStrictly:r}=i.value,h=!r;var v;if(d.value&&!o&&(t||!Ne(n,p.value)))if(s&&!l){const a=we(null!=(v=Se(n))&&v.length?e(v,Fe):[]).map((e=>null==c?void 0:c.getNodeByValue(e))).filter((e=>!!e&&!e.loaded&&!e.loading));a.length?a.forEach((e=>{b(e,(()=>S(!1,t)))})):S(!0,t)}else{const e=u?Se(n):[n],a=we(e.map((e=>null==c?void 0:c.getNodeByValue(e,h))));L(a,t),p.value=Le(n)}},L=(e,a=!0)=>{const{checkStrictly:l}=i.value,t=f.value,n=e.filter((e=>!!e&&(l||e.isLeaf))),o=null==c?void 0:c.getSameNode(v.value),s=a&&o||n[0];s?s.pathNodes.forEach((e=>k(e,!0))):v.value=null,t.forEach((e=>e.doCheck(!1))),A(n).forEach((e=>e.doCheck(!0))),f.value=n,K(T)},T=()=>{O&&r.value.forEach((e=>{const a=null==e?void 0:e.$el;if(a){const e=a.querySelector(".".concat(s.namespace.value,"-scrollbar__wrap")),l=a.querySelector(".".concat(s.b("node"),".").concat(s.is("active")))||a.querySelector(".".concat(s.b("node"),".in-active-path"));Z(e,l)}}))};return I(He,A({config:i,expandingNode:v,checkedNodes:f,isHoverMenu:m,initialLoaded:d,renderLabelFn:g,lazyLoad:b,expandNode:k,handleCheckChange:y})),$([i,()=>a.options],(()=>{const{options:e}=a,l=i.value;o=!1,c=new Re(e,l),h.value=[c.getNodes()],l.lazy&&_(a.options)?(d.value=!1,b(void 0,(e=>{e&&(c=new Re(e,l),h.value=[c.getNodes()]),d.value=!0,S(!1,!0)}))):S(!1,!0)}),{deep:!0,immediate:!0}),$((()=>a.modelValue),(()=>{o=!1,S()}),{deep:!0}),$((()=>p.value),(e=>{Ne(e,a.modelValue)||(t(j,e),t(q,e))})),R((()=>r.value=[])),U((()=>!_(a.modelValue)&&S())),{ns:s,menuList:r,menus:h,checkedNodes:f,handleKeyDown:e=>{const a=e.target,{code:l}=e;switch(l){case W.up:case W.down:{e.preventDefault();const t=l===W.up?-1:1;Q(G(a,t,".".concat(s.b("node"),'[tabindex="-1"]')));break}case W.left:{e.preventDefault();const l=r.value[Oe(a)-1],t=null==l?void 0:l.$el.querySelector(".".concat(s.b("node"),'[aria-expanded="true"]'));Q(t);break}case W.right:{e.preventDefault();const l=r.value[Oe(a)+1],t=null==l?void 0:l.$el.querySelector(".".concat(s.b("node"),'[tabindex="-1"]'));Q(t);break}case W.enter:case W.numpadEnter:(e=>{if(!e)return;const a=e.querySelector("input");a?a.click():H(e)&&e.click()})(a)}},handleCheckChange:y,getFlattedNodes:x,getCheckedNodes:E,clearCheckedNodes:()=>{f.value.forEach((e=>e.doCheck(!1))),w(),h.value=h.value.slice(0,1),v.value=null,t("expand-change",[])},calculateCheckedValue:w,scrollToExpandingNode:T}}}),[["render",function(e,a,l,t,n,o){const s=r("el-cascader-menu");return p(),h("div",{class:y([e.ns.b("panel"),e.ns.is("bordered",e.border)]),onKeydown:e.handleKeyDown},[(p(!0),h(C,null,w(e.menus,((a,l)=>(p(),f(s,{key:l,ref_for:!0,ref:a=>e.menuList[l]=a,index:l,nodes:[...a]},{empty:g((()=>[T(e.$slots,"empty")])),_:2},1032,["index","nodes"])))),128))],42,["onKeydown"])}],["__file","index.vue"]])),We=z({...Ue,size:X,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:F(Function),default:(e,a)=>e.text.includes(a)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:F(Function),default:()=>!0},placement:{type:F(String),values:Te,default:"bottom-start"},fallbackPlacements:{type:F(Array),default:["bottom-start","bottom","top-start","top","right","left"]},popperClass:{type:String,default:""},teleported:Ve.teleported,tagType:{...De.type,default:"info"},tagEffect:{...De.effect,default:"light"},validateEvent:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},...Y}),Qe={[j]:e=>!0,[q]:e=>!0,focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,visibleChange:e=>ee(e),expandChange:e=>!!e,removeTag:e=>!!e},Ge=a({name:"ElCascader"});const Je=J(n(a({...Ge,props:We,emits:Qe,setup(e,{expose:a,emit:t}){const n=e,i={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:e})=>{const{modifiersData:a,placement:l}=e;["right","left","bottom","top"].includes(l)||(a.arrow.x=35)},requires:["arrow"]}]},c=ae();let d=0,r=0;const E=l("cascader"),S=l("input"),{t:V}=x(),{form:_,formItem:D}=le(),{valueOnClear:M}=te(n),{isComposing:B,handleComposition:z}=ne({afterComposition(e){var a;const l=null==(a=e.target)?void 0:a.value;ra(l)}}),F=N(null),P=N(null),H=N(null),I=N(null),A=N(null),R=N(!1),Z=N(!1),J=N(!1),X=N(!1),Y=N(""),ee=N(""),Ce=N([]),xe=N([]),Ee=N([]),Ne=u((()=>c.style)),we=u((()=>n.disabled||(null==_?void 0:_.disabled))),Se=u((()=>n.placeholder||V("el.cascader.placeholder"))),Te=u((()=>ee.value||Ce.value.length>0||B.value?"":Se.value)),Ve=oe(),De=u((()=>"small"===Ve.value?"small":"default")),Fe=u((()=>!!n.props.multiple)),Pe=u((()=>!n.filterable||Fe.value)),He=u((()=>Fe.value?ee.value:Y.value)),je=u((()=>{var e;return(null==(e=I.value)?void 0:e.checkedNodes)||[]})),qe=u((()=>!(!n.clearable||we.value||J.value||!Z.value)&&!!je.value.length)),Ie=u((()=>{const{showAllLevels:e,separator:a}=n,l=je.value;return l.length?Fe.value?"":l[0].calcText(e,a):""})),Ae=u((()=>(null==D?void 0:D.validateState)||"")),$e=u({get:()=>Le(n.modelValue),set(e){const a=null!=e?e:M.value;t(j,a),t(q,a),n.validateEvent&&(null==D||D.validate("change").catch((e=>se())))}}),Re=u((()=>[E.b(),E.m(Ve.value),E.is("disabled",we.value),c.class])),Ue=u((()=>[S.e("icon"),"icon-arrow-down",E.is("reverse",R.value)])),Ke=u((()=>E.is("focus",R.value||X.value))),Oe=u((()=>{var e,a;return null==(a=null==(e=F.value)?void 0:e.popperRef)?void 0:a.contentRef})),We=e=>{var a,l,o;we.value||(e=null!=e?e:!R.value)!==R.value&&(R.value=e,null==(l=null==(a=P.value)?void 0:a.input)||l.setAttribute("aria-expanded","".concat(e)),e?(Qe(),K(null==(o=I.value)?void 0:o.scrollToExpandingNode)):n.filterable&&oa(),t("visibleChange",e))},Qe=()=>{K((()=>{var e;null==(e=F.value)||e.updatePopper()}))},Ge=()=>{J.value=!1},Je=e=>{const{showAllLevels:a,separator:l}=n;return{node:e,key:e.uid,text:e.calcText(a,l),hitState:!1,closable:!we.value&&!e.isDisabled,isCollapseTag:!1}},Xe=e=>{var a;const l=e.node;l.doCheck(!1),null==(a=I.value)||a.calculateCheckedValue(),t("removeTag",l.valueByOption)},Ye=()=>{var e,a;const{filterMethod:l,showAllLevels:t,separator:o}=n,s=null==(a=null==(e=I.value)?void 0:e.getFlattedNodes(!n.props.checkStrictly))?void 0:a.filter((e=>!e.isDisabled&&(e.calcText(t,o),l(e,He.value))));Fe.value&&(Ce.value.forEach((e=>{e.hitState=!1})),xe.value.forEach((e=>{e.hitState=!1}))),J.value=!0,Ee.value=s,Qe()},ea=()=>{var e;let a;a=J.value&&A.value?A.value.$el.querySelector(".".concat(E.e("suggestion-item"))):null==(e=I.value)?void 0:e.$el.querySelector(".".concat(E.b("node"),'[tabindex="-1"]')),a&&(a.focus(),!J.value&&a.click())},aa=()=>{var e,a;const l=null==(e=P.value)?void 0:e.input,t=H.value,n=null==(a=A.value)?void 0:a.$el;if(O&&l){if(n){n.querySelector(".".concat(E.e("suggestion-list"))).style.minWidth="".concat(l.offsetWidth,"px")}if(t){const{offsetHeight:e}=t,a=Ce.value.length>0?"".concat(Math.max(e,d)-2,"px"):"".concat(d,"px");l.style.height=a,Qe()}}},la=e=>{Qe(),t("expandChange",e)},ta=e=>{if(!B.value)switch(e.code){case W.enter:case W.numpadEnter:We();break;case W.down:We(!0),K(ea),e.preventDefault();break;case W.esc:!0===R.value&&(e.preventDefault(),e.stopPropagation(),We(!1));break;case W.tab:We(!1)}},na=()=>{var e;null==(e=I.value)||e.clearCheckedNodes(),!R.value&&n.filterable&&oa(),We(!1),t("clear")},oa=()=>{const{value:e}=Ie;Y.value=e,ee.value=e},sa=e=>{const a=e.target,{code:l}=e;switch(l){case W.up:case W.down:{const e=l===W.up?-1:1;Q(G(a,e,".".concat(E.e("suggestion-item"),'[tabindex="-1"]')));break}case W.enter:case W.numpadEnter:a.click()}},ia=()=>{const e=Ce.value,a=e[e.length-1];r=ee.value?0:r+1,!a||!r||n.collapseTags&&e.length>1||(a.hitState?Xe(a):a.hitState=!0)},ca=e=>{const a=e.target,l=E.e("search-input");a.className===l&&(X.value=!0),t("focus",e)},da=e=>{X.value=!1,t("blur",e)},ua=ze((()=>{const{value:e}=He;if(!e)return;const a=n.beforeFilter(e);ie(a)?a.then(Ye).catch((()=>{})):!1!==a?Ye():Ge()}),n.debounce),ra=(e,a)=>{!R.value&&We(!0),(null==a?void 0:a.isComposing)||(e?ua():Ge())},pa=e=>Number.parseFloat(ke(S.cssVarName("input-height"),e).value)-2;return $(J,Qe),$([je,we,()=>n.collapseTags],(()=>{if(!Fe.value)return;const e=je.value,a=[],l=[];if(e.forEach((e=>l.push(Je(e)))),xe.value=l,e.length){e.slice(0,n.maxCollapseTags).forEach((e=>a.push(Je(e))));const l=e.slice(n.maxCollapseTags),t=l.length;t&&(n.collapseTags?a.push({key:-1,text:"+ ".concat(t),closable:!1,isCollapseTag:!0}):l.forEach((e=>a.push(Je(e)))))}Ce.value=a})),$(Ce,(()=>{K((()=>aa()))})),$(Ve,(async()=>{await K();const e=P.value.input;d=pa(e)||d,aa()})),$(Ie,oa,{immediate:!0}),U((()=>{const e=P.value.input,a=pa(e);d=e.offsetHeight||a,ce(e,aa)})),a({getCheckedNodes:e=>{var a;return null==(a=I.value)?void 0:a.getCheckedNodes(e)},cascaderPanelRef:I,togglePopperVisible:We,contentRef:Oe,presentText:Ie}),(e,a)=>(p(),f(ue(_e),{ref_key:"tooltipRef",ref:F,visible:R.value,teleported:e.teleported,"popper-class":[ue(E).e("dropdown"),e.popperClass],"popper-options":i,"fallback-placements":e.fallbackPlacements,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:e.placement,transition:"".concat(ue(E).namespace.value,"-zoom-in-top"),effect:"light",pure:"",persistent:e.persistent,onHide:Ge},{default:g((()=>[de((p(),h("div",{class:y(ue(Re)),style:re(ue(Ne)),onClick:()=>We(!ue(Pe)||void 0),onKeydown:ta,onMouseenter:e=>Z.value=!0,onMouseleave:e=>Z.value=!1},[k(ue(pe),{ref_key:"input",ref:P,modelValue:Y.value,"onUpdate:modelValue":e=>Y.value=e,placeholder:ue(Te),readonly:ue(Pe),disabled:ue(we),"validate-event":!1,size:ue(Ve),class:y(ue(Ke)),tabindex:ue(Fe)&&e.filterable&&!ue(we)?-1:void 0,onCompositionstart:ue(z),onCompositionupdate:ue(z),onCompositionend:ue(z),onFocus:ca,onBlur:da,onInput:ra},{suffix:g((()=>[ue(qe)?(p(),f(ue(o),{key:"clear",class:y([ue(S).e("icon"),"icon-circle-close"]),onClick:m(na,["stop"])},{default:g((()=>[k(ue(he))])),_:1},8,["class","onClick"])):(p(),f(ue(o),{key:"arrow-down",class:y(ue(Ue)),onClick:m((e=>We()),["stop"])},{default:g((()=>[k(ue(ve))])),_:1},8,["class","onClick"]))])),_:1},8,["modelValue","onUpdate:modelValue","placeholder","readonly","disabled","size","class","tabindex","onCompositionstart","onCompositionupdate","onCompositionend"]),ue(Fe)?(p(),h("div",{key:0,ref_key:"tagWrapper",ref:H,class:y([ue(E).e("tags"),ue(E).is("validate",Boolean(ue(Ae)))])},[(p(!0),h(C,null,w(Ce.value,(a=>(p(),f(ue(Me),{key:a.key,type:e.tagType,size:ue(De),effect:e.tagEffect,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:e=>Xe(a)},{default:g((()=>[!1===a.isCollapseTag?(p(),h("span",{key:0},L(a.text),1)):(p(),f(ue(_e),{key:1,disabled:R.value||!e.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:g((()=>[b("span",null,L(a.text),1)])),content:g((()=>[b("div",{class:y(ue(E).e("collapse-tags"))},[(p(!0),h(C,null,w(xe.value.slice(e.maxCollapseTags),((a,l)=>(p(),h("div",{key:l,class:y(ue(E).e("collapse-tag"))},[(p(),f(ue(Me),{key:a.key,class:"in-tooltip",type:e.tagType,size:ue(De),effect:e.tagEffect,hit:a.hitState,closable:a.closable,"disable-transitions":"",onClose:e=>Xe(a)},{default:g((()=>[b("span",null,L(a.text),1)])),_:2},1032,["type","size","effect","hit","closable","onClose"]))],2)))),128))],2)])),_:2},1032,["disabled"]))])),_:2},1032,["type","size","effect","hit","closable","onClose"])))),128)),e.filterable&&!ue(we)?de((p(),h("input",{key:0,"onUpdate:modelValue":e=>ee.value=e,type:"text",class:y(ue(E).e("search-input")),placeholder:ue(Ie)?"":ue(Se),onInput:e=>ra(ee.value,e),onClick:m((e=>We(!0)),["stop"]),onKeydown:fe(ia,["delete"]),onCompositionstart:ue(z),onCompositionupdate:ue(z),onCompositionend:ue(z),onFocus:ca,onBlur:da},null,42,["onUpdate:modelValue","placeholder","onInput","onClick","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend"])),[[me,ee.value]]):v("v-if",!0)],2)):v("v-if",!0)],46,["onClick","onMouseenter","onMouseleave"])),[[ue(Be),()=>We(!1),ue(Oe)]])])),content:g((()=>[de(k(ue(Ze),{ref_key:"cascaderPanelRef",ref:I,modelValue:ue($e),"onUpdate:modelValue":e=>ge($e)?$e.value=e:null,options:e.options,props:n.props,border:!1,"render-label":e.$slots.default,onExpandChange:la,onClose:a=>e.$nextTick((()=>We(!1)))},{empty:g((()=>[T(e.$slots,"empty")])),_:3},8,["modelValue","onUpdate:modelValue","options","props","render-label","onClose"]),[[be,!J.value]]),e.filterable?de((p(),f(ue(ye),{key:0,ref_key:"suggestionPanel",ref:A,tag:"ul",class:y(ue(E).e("suggestion-panel")),"view-class":ue(E).e("suggestion-list"),onKeydown:sa},{default:g((()=>[Ee.value.length?(p(!0),h(C,{key:0},w(Ee.value,(e=>(p(),h("li",{key:e.uid,class:y([ue(E).e("suggestion-item"),ue(E).is("checked",e.checked)]),tabindex:-1,onClick:a=>(e=>{var a,l;const{checked:t}=e;Fe.value?null==(a=I.value)||a.handleCheckChange(e,!t,!1):(!t&&(null==(l=I.value)||l.handleCheckChange(e,!0,!1)),We(!1))})(e)},[b("span",null,L(e.text),1),e.checked?(p(),f(ue(o),{key:0},{default:g((()=>[k(ue(s))])),_:1})):v("v-if",!0)],10,["onClick"])))),128)):T(e.$slots,"empty",{key:1},(()=>[b("li",{class:y(ue(E).e("empty-text"))},L(ue(V)("el.cascader.noMatch")),3)]))])),_:3},8,["class","view-class"])),[[be,J.value]]):v("v-if",!0)])),_:3},8,["visible","teleported","popper-class","fallback-placements","placement","transition","persistent"]))}}),[["__file","cascader.vue"]]));export{Je as E};
