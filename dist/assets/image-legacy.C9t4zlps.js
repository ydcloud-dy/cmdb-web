/*! 
 Build based on  
 Time : 1735190558000 */
!function(){function e(e,i){for(var n=0;n<i.length;n++){var r=i[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,t(r.key),r)}}function t(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}System.register([],(function(t,i){"use strict";return{execute:function(){var i=function(){return t=function e(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1920;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.file=t,this.fileSize=i,this.maxWH=n},(i=[{key:"compress",value:function(){var e=this,t=this.file.type;return this.file.size,new Promise((function(i){var n=new FileReader;n.readAsDataURL(e.file),n.onload=function(){var r=document.createElement("canvas"),a=document.createElement("img");a.src=n.result,a.onload=function(){var n=r.getContext("2d"),o=e.dWH(a.width,a.height,e.maxWH);r.width=o.width,r.height=o.height,n.clearRect(0,0,r.width,r.height),n.drawImage(a,0,0,r.width,r.height);var u=r.toDataURL(t,.9);e.fileSizeKB(u),e.fileSize;var l=e.dataURLtoBlob(u,t),h=new File([l],e.file.name);i(h)}}}))}},{key:"dWH",value:function(e,t,i){var n={width:e,height:t};return Math.max(e,t)>i?e>t?(n.width=i,n.height=Math.round(t*(i/e)),n):(n.height=i,n.width=Math.round(e*(i/t)),n):n}},{key:"fileSizeKB",value:function(e){return Math.round(3*e.split(",")[1].length/4/1024)}},{key:"dataURLtoBlob",value:function(e,t){for(var i=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(i.length),a=new Uint8Array(r),o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return t&&(n=t),new Blob([r],{type:n,lastModifiedDate:new Date})}}])&&e(t.prototype,i),n&&e(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i,n}();t("I",i);var n="/api";t("g",(function(e){return e&&"http"!==e.slice(0,4)?"/"===e.slice(0,1)?n+e:n+"/"+e:e})),t("b",(function(e){return e.endsWith(".mp4")||e.endsWith(".mov")||e.endsWith(".webm")||e.endsWith(".ogg")})),t("i",(function(e){return"video/mp4"==e||"video/webm"==e||"video/ogg"==e})),t("a",(function(e){return"image/jpeg"==e||"image/png"==e||"image/webp"==e||"image/svg+xml"==e}))}}}))}();
