/*! 
 Build based on  
 Time : 1735190558000 */
import{_ as e,o as t,c as a,h as o,w as l,e as n,b as s,t as r,F as i,v as p,f as d,g as c,B as m,E as u}from"./index.ABWJOL2Q.js";import{E as f,a as y}from"./table-column.ChuwY-lb.js";import"./checkbox.BcMUmSPv.js";/* empty css                *//* empty css               */import"./scrollbar.3ySweVnY.js";/* empty css             */import{a as _,E as k}from"./form-item.ujPiwBAF.js";/* empty css               */import{E as w,a as j,b}from"./dropdown-item.Bdep7Ju0.js";/* empty css            */import{_ as v,R as g}from"./index.DDa397GF.js";import{A as C}from"./age.Du5VDnjl.js";import{E as h}from"./index.D4uEcQv3.js";import{E as x}from"./index.DglrVZRl.js";import"./_Uint8Array.BjvNwsUf.js";import"./_initCloneObject.jmqS1x-g.js";import"./_baseIteratee.BPaQBmlP.js";import"./isEqual.CtpQH3Dm.js";import"./debounce.CkdGDwJt.js";import"./index.6ock-Gvr.js";import"./castArray.9wqFpW2Z.js";import"./_baseClone.gl1e0kmI.js";import"./dropdown.Co_mIot6.js";import"./refs.CZv2DkwS.js";import"./index.DrIIbIcU.js";import"./metrics.Dq7Dbl3h.js";import"./index.BRjlB3m5.js";const P=["onClick"],E={key:0},I={slot:"content"},T={key:1},A={slot:"content"},D={key:2},F={slot:"content"},z={key:3},M={slot:"content"},R={key:0},S={class:"operate-span"},B={name:"TableBlock",emits:{update:()=>!0,search:()=>!0,detail:()=>!0,terminal:()=>!0,terminallog:()=>!0,delete:e=>1===e.length}},O=e(Object.assign(B,{props:{tableData:{default:function(){return[]},type:Array},cluster_id:{default:function(){return 0},type:Number}},emits:["update","delete","search","detail","terminal","terminallog","files"],setup(e,{emit:B}){const O=B,U=e=>{O("detail",e)};return(B,q)=>{const H=f,J=u,K=h,L=x,N=w,X=j,G=b,Q=_,V=k,W=y;return t(),a("div",null,[(t(),o(W,{ref:"multipleTable",key:e.tableData,data:e.tableData,style:{width:"100%"},"tooltip-effect":"dark","row-key":"ID"},{default:l((()=>[n(H,{type:"selection",width:"55"}),n(H,{align:"left",label:"名称",prop:"metadata.name"},{default:l((e=>[q[0]||(q[0]=s("img",{style:{width:"14px","margin-right":"2px"},src:"//g.alicdn.com/aliyun/cos/1.38.27/images/icon_docker.png"},null,-1)),s("span",{class:"operate-span-primary",onClick:t=>U(e.row)},r(e.row.metadata.name),9,P),n(K,{placement:"top"},{content:l((()=>[(t(!0),a(i,null,p(e.row.metadata.labels,((e,o,l)=>(t(),a("div",{slot:"content",key:l},[s("span",null,r(o)+": "+r(e),1)])))),128))])),default:l((()=>[n(J,{size:"small",type:"primary",link:"",icon:"PriceTag"})])),_:2},1024)])),_:1}),n(H,{label:"容器",prop:"container",type:"scope"},{default:l((e=>[(t(!0),a(i,null,p(e.row.status.containerStatuses,((e,o)=>(t(),a("div",{key:o,class:"gridChart"},[e.ready?(t(),a("div",E,[n(K,{placement:"top"},{content:l((()=>[s("div",I,r(e.name)+"（running, ready） ",1)])),default:l((()=>[n(L,{class:"ml-2",type:"success",effect:"dark"})])),_:2},1024)])):!e.ready&&e.state.waiting?(t(),a("div",T,[n(K,{placement:"top"},{content:l((()=>[s("div",A,r(e.name)+" 报错信息: "+r(e.state.waiting.reason),1)])),default:l((()=>[n(L,{class:"ml-2",type:"danger",effect:"dark"})])),_:2},1024)])):!e.ready&&e.state.terminated?(t(),a("div",D,[n(K,{placement:"top"},{content:l((()=>[s("div",F,r(e.name)+" "+r(e.state.terminated.reason),1)])),default:l((()=>[n(L,{class:"ml-2",type:"info",effect:"dark"})])),_:2},1024)])):(t(),a("div",z,[n(K,{placement:"top"},{content:l((()=>[s("div",M,r(e.name),1)])),default:l((()=>[n(L,{class:"ml-2",type:"info",effect:"dark"})])),_:2},1024)]))])))),128))])),_:1}),n(H,{prop:"status",label:"CPU/内存/TCP",type:"scope",width:"200"},{default:l((o=>[o.row?(t(),a("div",R,[n(v,{data:o.row,cluster_id:e.cluster_id},null,8,["data","cluster_id"])])):d("",!0)])),_:1}),n(H,{label:"状态",prop:"status",type:"scope",width:"100"},{default:l((e=>["Running"===e.row.status.phase?(t(),o(L,{key:0,type:"success"},{default:l((()=>q[1]||(q[1]=[c("Running")]))),_:1})):"Succeeded"===e.row.status.phase?(t(),o(L,{key:1,type:"info"},{default:l((()=>q[2]||(q[2]=[c("Completed")]))),_:1})):(t(),o(L,{key:2,type:"danger"},{default:l((()=>[c(r(e.row.status.phase),1)])),_:2},1024))])),_:1}),n(H,{label:"重启次数",prop:"restarts",type:"scope"},{default:l((e=>[s("span",null,r(m(g)(e.row.status.containerStatuses)),1)])),_:1}),n(H,{label:"命名空间",prop:"namespace",type:"scope"},{default:l((e=>[s("span",null,r(e.row.metadata.namespace),1)])),_:1}),n(H,{label:"Pod IP",prop:"Pod_IP",type:"scope"},{default:l((e=>[s("span",null,r(e.row.status.podIP),1)])),_:1}),n(H,{label:"调度节点",prop:"hostIP",type:"scope"},{default:l((e=>[s("span",S,r(e.row.status.hostIP),1)])),_:1}),n(H,{align:"left",label:"存活时间",prop:"metadata.creationTimestamp",width:"80"},{default:l((e=>[s("span",null,r(m(C)(e.row.metadata.creationTimestamp)),1)])),_:1}),n(H,{align:"left",label:"操作"},{default:l((e=>[n(V,{inline:!0,class:"demo-form-inline"},{default:l((()=>[n(Q,null,{default:l((()=>[n(J,{size:"small",type:"primary",link:"",icon:"edit",onClick:t=>{return a=e.row,void O("update",a);var a}},{default:l((()=>q[3]||(q[3]=[c("编辑")]))),_:2},1032,["onClick"]),n(G,null,{dropdown:l((()=>[n(X,null,{default:l((()=>[n(N,{icon:"InfoFilled",onClick:t=>U(e.row)},{default:l((()=>q[5]||(q[5]=[c("详情")]))),_:2},1032,["onClick"]),(t(!0),a(i,null,p(e.row.spec.containers,((o,s)=>(t(),a("div",{key:s},[n(N,{icon:"Files",onClick:t=>{return a=e.row,l=o.name,void O("files",a,l);var a,l}},{default:l((()=>[c(r(o.name)+" 文件浏览 ",1)])),_:2},1032,["onClick"])])))),128)),n(N,{icon:"Monitor",onClick:t=>{return a=e.row,void O("monitor",a);var a}},{default:l((()=>q[6]||(q[6]=[c("监控")]))),_:2},1032,["onClick"]),(t(!0),a(i,null,p(e.row.spec.containers,((o,s)=>(t(),a("div",{key:s},[n(N,{icon:"Expand",onClick:t=>{return a=e.row,l=o.name,void O("terminal",a,l);var a,l}},{default:l((()=>[c(r(o.name)+" 终端 ",1)])),_:2},1032,["onClick"])])))),128)),(t(!0),a(i,null,p(e.row.spec.containers,((o,s)=>(t(),a("div",{key:s},[n(N,{icon:"Expand",onClick:t=>{return a=e.row,l=o.name,void O("terminallog",a,l);var a,l}},{default:l((()=>[c(r(o.name)+" 终端日志 ",1)])),_:2},1032,["onClick"])])))),128)),n(N,{icon:"delete",onClick:t=>{return a=e.row,void O("delete",a);var a}},{default:l((()=>q[7]||(q[7]=[c("删除")]))),_:2},1032,["onClick"])])),_:2},1024)])),default:l((()=>[n(J,{type:"primary",link:"",icon:"MoreFilled",size:"small"},{default:l((()=>q[4]||(q[4]=[c("更多")]))),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:1})])),_:1},8,["data"]))])}}}),[["__scopeId","data-v-221d8412"]]);export{O as default};
